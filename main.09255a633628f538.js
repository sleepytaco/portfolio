"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{6304:(ot,De,P)=>{P.d(De,{Dh:()=>Re,GT:()=>he,cc:()=>Se,hO:()=>Le,on:()=>L,pX:()=>ne,xv:()=>de});var h=P(5879),Q=P(7142),k=P(8186);ot=P.hmd(ot);const J=["ngOnDestroy"],ne=(Oe,dt,at,te={})=>new Proxy(Oe,{get:(ve,X)=>at.runOutsideAngular(()=>{var Ce;if(Oe[X])return!(null===(Ce=te?.spy)||void 0===Ce)&&Ce.get&&te.spy.get(X,Oe[X]),Oe[X];if(J.indexOf(X)>-1)return()=>{};const Pe=dt.toPromise().then(ze=>{const se=ze&&ze[X];return"function"==typeof se?se.bind(ze):se&&se.then?se.then(yt=>at.run(()=>yt)):at.run(()=>se)});return new Proxy(()=>{},{get:(ze,se)=>Pe[se],apply:(ze,se,yt)=>Pe.then(Vt=>{var hr;const Wr=Vt&&Vt(...yt);return!(null===(hr=te?.spy)||void 0===hr)&&hr.apply&&te.spy.apply(X,yt,Wr),Wr})})})}),he=(Oe,dt)=>{dt.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach(te=>{Object.defineProperty(Oe.prototype,te,Object.getOwnPropertyDescriptor(at.prototype||at,te))})})};class pe{constructor(dt){return dt}}const Re=new h.OlP("angularfire2.app.options"),de=new h.OlP("angularfire2.app.name");function L(Oe,dt,at){const ve="object"==typeof at&&at||{};ve.name=ve.name||"string"==typeof at&&at||"[DEFAULT]";const Ce=Q.Z.apps.filter(Pe=>Pe&&Pe.name===ve.name)[0]||dt.runOutsideAngular(()=>Q.Z.initializeApp(Oe,ve));try{JSON.stringify(Oe)!==JSON.stringify(Ce.options)&&j("error",`${Ce.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(Ce)}const j=(Oe,...dt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Oe](...dt)},Y={provide:pe,useFactory:L,deps:[Re,h.R0b,[new h.FiY,de]]};let Le=(()=>{class Oe{constructor(at){Q.Z.registerVersion("angularfire",k.q4.full,"core"),Q.Z.registerVersion("angularfire",k.q4.full,"app-compat"),Q.Z.registerVersion("angular",h.q4F.full,at.toString())}static initializeApp(at,te){return{ngModule:Oe,providers:[{provide:Re,useValue:at},{provide:de,useValue:te}]}}}return Oe.\u0275fac=function(at){return new(at||Oe)(h.LFG(h.Lbi))},Oe.\u0275mod=h.oAB({type:Oe}),Oe.\u0275inj=h.cJS({providers:[Y]}),Oe})();function Se(Oe,dt,at,te,ve){const[,X,Ce]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Oe)||[];if(X)return function Ze(Oe,dt){try{return Oe.toString()===dt.toString()}catch{return Oe===dt}}(ve,Ce)||(Ge("error",`${dt} was already initialized on the ${at} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:ve,was:Ce})),X;{const Pe=te();return globalThis.\u0275AngularfireInstanceCache.push([Oe,Pe,ve]),Pe}}const xe=!!ot.hot,Ge=(Oe,...dt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Oe](...dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(ot,De,P)=>{P.d(De,{q4:()=>lh,iC:()=>Ys,HU:()=>up,vb:()=>ru,JM:()=>bo,u3:()=>Hn});var h=P(5879),Q=P(3182),k=P(5861),J=P(534),ne=P(9058),he=P(4537),pe=P(7879);const Re=(E,b)=>b.some(A=>E instanceof A);let de,L;const Le=new WeakMap,Se=new WeakMap,Ze=new WeakMap,xe=new WeakMap,Ge=new WeakMap;let at={get(E,b,A){if(E instanceof IDBTransaction){if("done"===b)return Se.get(E);if("objectStoreNames"===b)return E.objectStoreNames||Ze.get(E);if("store"===b)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Ce(E[b])},set:(E,b,A)=>(E[b]=A,!0),has:(E,b)=>E instanceof IDBTransaction&&("done"===b||"store"===b)||b in E};function X(E){return"function"==typeof E?function ve(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...b){return E.apply(Pe(this),b),Ce(Le.get(this))}:function(...b){return Ce(E.apply(Pe(this),b))}:function(b,...A){const O=E.call(Pe(this),b,...A);return Ze.set(O,b.sort?b.sort():[b]),Ce(O)}}(E):(E instanceof IDBTransaction&&function dt(E){if(Se.has(E))return;const b=new Promise((A,O)=>{const $=()=>{E.removeEventListener("complete",Z),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},Z=()=>{A(),$()},ce=()=>{O(E.error||new DOMException("AbortError","AbortError")),$()};E.addEventListener("complete",Z),E.addEventListener("error",ce),E.addEventListener("abort",ce)});Se.set(E,b)}(E),Re(E,function j(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,at):E)}function Ce(E){if(E instanceof IDBRequest)return function Oe(E){const b=new Promise((A,O)=>{const $=()=>{E.removeEventListener("success",Z),E.removeEventListener("error",ce)},Z=()=>{A(Ce(E.result)),$()},ce=()=>{O(E.error),$()};E.addEventListener("success",Z),E.addEventListener("error",ce)});return b.then(A=>{A instanceof IDBCursor&&Le.set(A,E)}).catch(()=>{}),Ge.set(b,E),b}(E);if(xe.has(E))return xe.get(E);const b=X(E);return b!==E&&(xe.set(E,b),Ge.set(b,E)),b}const Pe=E=>Ge.get(E),yt=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],hr=new Map;function Wr(E,b){if(!(E instanceof IDBDatabase)||b in E||"string"!=typeof b)return;if(hr.get(b))return hr.get(b);const A=b.replace(/FromIndex$/,""),O=b!==A,$=Vt.includes(A);if(!(A in(O?IDBIndex:IDBObjectStore).prototype)||!$&&!yt.includes(A))return;const Z=function(){var ce=(0,k.Z)(function*(je,...$e){const st=this.transaction(je,$?"readwrite":"readonly");let Dt=st.store;return O&&(Dt=Dt.index($e.shift())),(yield Promise.all([Dt[A](...$e),$&&st.done]))[0]});return function($e){return ce.apply(this,arguments)}}();return hr.set(b,Z),Z}!function te(E){at=E(at)}(E=>({...E,get:(b,A,O)=>Wr(b,A)||E.get(b,A,O),has:(b,A)=>!!Wr(b,A)||E.has(b,A)}));const cs="@firebase/installations",Vn="0.6.4",Go=1e4,ls=`w:${Vn}`,oe="FIS_v2",le="https://firebaseinstallations.googleapis.com/v1",_e=36e5,Xe=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function Mn({projectId:E}){return`${le}/projects/${E}/installations`}function ht(E){return{token:E.token,requestStatus:2,expiresIn:Or(E.expiresIn),creationTime:Date.now()}}function Zt(E,b){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,k.Z)(function*(E,b){const O=(yield b.json()).error;return Xe.create("request-failed",{requestName:E,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function pn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function fr(E){return nn.apply(this,arguments)}function nn(){return(nn=(0,k.Z)(function*(E){const b=yield E();return b.status>=500&&b.status<600?E():b})).apply(this,arguments)}function Or(E){return Number(E.replace("s","000"))}function hi(){return(hi=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:b},{fid:A}){const O=Mn(E),$=pn(E),Z=b.getImmediate({optional:!0});if(Z){const st=yield Z.getHeartbeatsHeader();st&&$.append("x-firebase-client",st)}const je={method:"POST",headers:$,body:JSON.stringify({fid:A,authVersion:oe,appId:E.appId,sdkVersion:ls})},$e=yield fr(()=>fetch(O,je));if($e.ok){const st=yield $e.json();return{fid:st.fid||A,registrationStatus:2,refreshToken:st.refreshToken,authToken:ht(st.authToken)}}throw yield Zt("Create Installation",$e)})).apply(this,arguments)}function fi(E){return new Promise(b=>{setTimeout(b,E)})}const Oa=/^[cdef][\w-]{21}$/,lt="";function Ut(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function Mt(E){return function Ls(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Oa.test(A)?A:lt}catch{return lt}}function on(E){return`${E.appName}!${E.appId}`}const En=new Map;function Kr(E,b){const A=on(E);ka(A,b),function Yt(E,b){const A=function Bt(){return!Yr&&"BroadcastChannel"in self&&(Yr=new BroadcastChannel("[Firebase] FID Change"),Yr.onmessage=E=>{ka(E.data.key,E.data.fid)}),Yr}();A&&A.postMessage({key:E,fid:b}),function ds(){0===En.size&&Yr&&(Yr.close(),Yr=null)}()}(A,b)}function ka(E,b){const A=En.get(E);if(A)for(const O of A)O(b)}let Yr=null;const eo="firebase-installations-database",to=1,vi="firebase-installations-store";let Vs=null;function Ui(){return Vs||(Vs=function ze(E,b,{blocked:A,upgrade:O,blocking:$,terminated:Z}={}){const ce=indexedDB.open(E,b),je=Ce(ce);return O&&ce.addEventListener("upgradeneeded",$e=>{O(Ce(ce.result),$e.oldVersion,$e.newVersion,Ce(ce.transaction))}),A&&ce.addEventListener("blocked",()=>A()),je.then($e=>{Z&&$e.addEventListener("close",()=>Z()),$&&$e.addEventListener("versionchange",()=>$())}).catch(()=>{}),je}(eo,to,{upgrade:(E,b)=>{0===b&&E.createObjectStore(vi)}})),Vs}function Xn(E,b){return er.apply(this,arguments)}function er(){return(er=(0,k.Z)(function*(E,b){const A=on(E),$=(yield Ui()).transaction(vi,"readwrite"),Z=$.objectStore(vi),ce=yield Z.get(A);return yield Z.put(b,A),yield $.done,(!ce||ce.fid!==b.fid)&&Kr(E,b.fid),b})).apply(this,arguments)}function Qr(E){return Un.apply(this,arguments)}function Un(){return(Un=(0,k.Z)(function*(E){const b=on(E),O=(yield Ui()).transaction(vi,"readwrite");yield O.objectStore(vi).delete(b),yield O.done})).apply(this,arguments)}function _i(E,b){return wi.apply(this,arguments)}function wi(){return(wi=(0,k.Z)(function*(E,b){const A=on(E),$=(yield Ui()).transaction(vi,"readwrite"),Z=$.objectStore(vi),ce=yield Z.get(A),je=b(ce);return void 0===je?yield Z.delete(A):yield Z.put(je,A),yield $.done,je&&(!ce||ce.fid!==je.fid)&&Kr(E,je.fid),je})).apply(this,arguments)}function U(E){return V.apply(this,arguments)}function V(){return V=(0,k.Z)(function*(E){let b;const A=yield _i(E.appConfig,O=>{const $=function z(E){return xt(E||{fid:Ut(),registrationStatus:0})}(O),Z=function Ie(E,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(Xe.create("app-offline"))};const A={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},O=function ie(E,b){return Ye.apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:O}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:Ct(E)}:{installationEntry:b}}(E,$);return b=Z.registrationPromise,Z.installationEntry});return A.fid===lt?{installationEntry:yield b}:{installationEntry:A,registrationPromise:b}}),V.apply(this,arguments)}function Ye(){return Ye=(0,k.Z)(function*(E,b){try{const A=yield function Xs(E,b){return hi.apply(this,arguments)}(E,b);return Xn(E.appConfig,A)}catch(A){throw He(A)&&409===A.customData.serverCode?yield Qr(E.appConfig):yield Xn(E.appConfig,{fid:b.fid,registrationStatus:0}),A}}),Ye.apply(this,arguments)}function Ct(E){return wt.apply(this,arguments)}function wt(){return(wt=(0,k.Z)(function*(E){let b=yield tr(E.appConfig);for(;1===b.registrationStatus;)yield fi(100),b=yield tr(E.appConfig);if(0===b.registrationStatus){const{installationEntry:A,registrationPromise:O}=yield U(E);return O||A}return b})).apply(this,arguments)}function tr(E){return _i(E,b=>{if(!b)throw Xe.create("installation-not-found");return xt(b)})}function xt(E){return function Dn(E){return 1===E.registrationStatus&&E.registrationTime+Go<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function zn(){return(zn=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:b},A){const O=function Ki(E,{fid:b}){return`${Mn(E)}/${b}/authTokens:generate`}(E,A),$=function In(E,{refreshToken:b}){const A=pn(E);return A.append("Authorization",function di(E){return`${oe} ${E}`}(b)),A}(E,A),Z=b.getImmediate({optional:!0});if(Z){const st=yield Z.getHeartbeatsHeader();st&&$.append("x-firebase-client",st)}const je={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:ls,appId:E.appId}})},$e=yield fr(()=>fetch(O,je));if($e.ok)return ht(yield $e.json());throw yield Zt("Generate Auth Token",$e)})).apply(this,arguments)}function hs(E){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,k.Z)(function*(E,b=!1){let A;const O=yield _i(E.appConfig,Z=>{if(!Rt(Z))throw Xe.create("not-registered");const ce=Z.authToken;if(!b&&function Wt(E){return 2===E.requestStatus&&!function Bn(E){const b=Date.now();return b<E.creationTime||E.creationTime+E.expiresIn<b+_e}(E)}(ce))return Z;if(1===ce.requestStatus)return A=function ue(E,b){return ee.apply(this,arguments)}(E,b),Z;{if(!navigator.onLine)throw Xe.create("app-offline");const je=function jn(E){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:b})}(Z);return A=function tt(E,b){return qe.apply(this,arguments)}(E,je),je}});return A?yield A:O.authToken}),Fa.apply(this,arguments)}function ee(){return(ee=(0,k.Z)(function*(E,b){let A=yield Me(E.appConfig);for(;1===A.authToken.requestStatus;)yield fi(100),A=yield Me(E.appConfig);const O=A.authToken;return 0===O.requestStatus?hs(E,b):O})).apply(this,arguments)}function Me(E){return _i(E,b=>{if(!Rt(b))throw Xe.create("not-registered");return function gr(E){return 1===E.requestStatus&&E.requestTime+Go<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function qe(){return qe=(0,k.Z)(function*(E,b){try{const A=yield function Gt(E,b){return zn.apply(this,arguments)}(E,b),O=Object.assign(Object.assign({},b),{authToken:A});return yield Xn(E.appConfig,O),A}catch(A){if(!He(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const O=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield Xn(E.appConfig,O)}else yield Qr(E.appConfig);throw A}}),qe.apply(this,arguments)}function Rt(E){return void 0!==E&&2===E.registrationStatus}function zo(){return(zo=(0,k.Z)(function*(E){const b=E,{installationEntry:A,registrationPromise:O}=yield U(b);return O?O.catch(console.error):hs(b).catch(console.error),A.fid})).apply(this,arguments)}function qo(){return qo=(0,k.Z)(function*(E,b=!1){const A=E;return yield function tl(E){return Ii.apply(this,arguments)}(A),(yield hs(A,b)).token}),qo.apply(this,arguments)}function Ii(){return(Ii=(0,k.Z)(function*(E){const{registrationPromise:b}=yield U(E);b&&(yield b)})).apply(this,arguments)}function Wo(E){return Xe.create("missing-app-config-values",{valueName:E})}const rl="installations",tm=E=>{const b=E.getProvider("app").getImmediate(),A=function Jr(E){if(!E||!E.options)throw Wo("App Configuration");if(!E.name)throw Wo("App Name");const b=["projectId","apiKey","appId"];for(const A of b)if(!E.options[A])throw Wo(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(b);return{app:b,appConfig:A,heartbeatServiceProvider:(0,J._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},ro=E=>{const b=E.getProvider("app").getImmediate(),A=(0,J._getProvider)(b,rl).getImmediate();return{getId:()=>function Yi(E){return zo.apply(this,arguments)}(A),getToken:$=>function el(E){return qo.apply(this,arguments)}(A,$)}};(function $f(){(0,J._registerComponent)(new he.wA(rl,tm,"PUBLIC")),(0,J._registerComponent)(new he.wA("installations-internal",ro,"PRIVATE"))})(),(0,J.registerVersion)(cs,Vn),(0,J.registerVersion)(cs,Vn,"esm2017");const La="@firebase/remote-config",Dr=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vt{constructor(b,A,O,$){this.client=b,this.storage=A,this.storageCache=O,this.logger=$}isCachedDataFresh(b,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-A,$=O<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${$}.`),$}fetch(b){var A=this;return(0,k.Z)(function*(){const[O,$]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if($&&A.isCachedDataFresh(b.cacheMaxAgeMillis,O))return $;b.eTag=$&&$.eTag;const Z=yield A.client.fetch(b),ce=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&ce.push(A.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(ce),Z})()}}function mn(E=navigator){return E.languages&&E.languages[0]||E.language}class Lr{constructor(b,A,O,$,Z,ce){this.firebaseInstallations=b,this.sdkVersion=A,this.namespace=O,this.projectId=$,this.apiKey=Z,this.appId=ce}fetch(b){var A=this;return(0,k.Z)(function*(){const[O,$]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},$e={sdk_version:A.sdkVersion,app_instance_id:O,app_instance_id_token:$,app_id:A.appId,language_code:mn()},st={method:"POST",headers:je,body:JSON.stringify($e)},Dt=fetch(ce,st),Tt=new Promise((gi,Ss)=>{b.signal.addEventListener(()=>{const cc=new Error("The operation was aborted.");cc.name="AbortError",Ss(cc)})});let an;try{yield Promise.race([Dt,Tt]),an=yield Dt}catch(gi){let Ss="fetch-client-network";throw"AbortError"===gi?.name&&(Ss="fetch-timeout"),Dr.create(Ss,{originalErrorMessage:gi?.message})}let _n=an.status;const bs=an.headers.get("ETag")||void 0;let pa,Ts;if(200===an.status){let gi;try{gi=yield an.json()}catch(Ss){throw Dr.create("fetch-client-parse",{originalErrorMessage:Ss?.message})}pa=gi.entries,Ts=gi.state}if("INSTANCE_STATE_UNSPECIFIED"===Ts?_n=500:"NO_CHANGE"===Ts?_n=304:("NO_TEMPLATE"===Ts||"EMPTY_CONFIG"===Ts)&&(pa={}),304!==_n&&200!==_n)throw Dr.create("fetch-status",{httpStatus:_n});return{status:_n,eTag:bs,config:pa}})()}}class Ba{constructor(b,A){this.client=b,this.storage=A}fetch(b){var A=this;return(0,k.Z)(function*(){const O=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(b,O)})()}attemptFetch(b,{throttleEndTimeMillis:A,backoffCount:O}){var $=this;return(0,k.Z)(function*(){yield function io(E,b){return new Promise((A,O)=>{const $=Math.max(b-Date.now(),0),Z=setTimeout(A,$);E.addEventListener(()=>{clearTimeout(Z),O(Dr.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,A);try{const Z=yield $.client.fetch(b);return yield $.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function mr(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const b=Number(E.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Z))throw Z;const ce={throttleEndTimeMillis:Date.now()+(0,ne.$s)(O),backoffCount:O+1};return yield $.storage.setThrottleMetadata(ce),$.attemptFetch(b,ce)}})()}}class Yo{constructor(b,A,O,$,Z){this.app=b,this._client=A,this._storageCache=O,this._storage=$,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Et(E,b){const A=E.target.error||void 0;return Dr.create(b,{originalErrorMessage:A&&A?.message})}const yr="app_namespace_store";class al{constructor(b,A,O,$=function yn(){return new Promise((E,b)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=O=>{b(Et(O,"storage-open"))},A.onsuccess=O=>{E(O.target.result)},A.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(yr,{keyPath:"compositeKey"})}}catch(A){b(Dr.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=b,this.appName=A,this.namespace=O,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var A=this;return(0,k.Z)(function*(){const O=yield A.openDbPromise;return new Promise(($,Z)=>{const je=O.transaction([yr],"readonly").objectStore(yr),$e=A.createCompositeKey(b);try{const st=je.get($e);st.onerror=Dt=>{Z(Et(Dt,"storage-get"))},st.onsuccess=Dt=>{const Tt=Dt.target.result;$(Tt?Tt.value:void 0)}}catch(st){Z(Dr.create("storage-get",{originalErrorMessage:st?.message}))}})})()}set(b,A){var O=this;return(0,k.Z)(function*(){const $=yield O.openDbPromise;return new Promise((Z,ce)=>{const $e=$.transaction([yr],"readwrite").objectStore(yr),st=O.createCompositeKey(b);try{const Dt=$e.put({compositeKey:st,value:A});Dt.onerror=Tt=>{ce(Et(Tt,"storage-set"))},Dt.onsuccess=()=>{Z()}}catch(Dt){ce(Dr.create("storage-set",{originalErrorMessage:Dt?.message}))}})})()}delete(b){var A=this;return(0,k.Z)(function*(){const O=yield A.openDbPromise;return new Promise(($,Z)=>{const je=O.transaction([yr],"readwrite").objectStore(yr),$e=A.createCompositeKey(b);try{const st=je.delete($e);st.onerror=Dt=>{Z(Et(Dt,"storage-delete"))},st.onsuccess=()=>{$()}}catch(st){Z(Dr.create("storage-delete",{originalErrorMessage:st?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class so{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,k.Z)(function*(){const A=b.storage.getLastFetchStatus(),O=b.storage.getLastSuccessfulFetchTimestampMillis(),$=b.storage.getActiveConfig(),Z=yield A;Z&&(b.lastFetchStatus=Z);const ce=yield O;ce&&(b.lastSuccessfulFetchTimestampMillis=ce);const je=yield $;je&&(b.activeConfig=je)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function js(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,k.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function nr(){(0,J._registerComponent)(new he.wA("remote-config",function E(b,{instanceIdentifier:A}){const O=b.getProvider("app").getImmediate(),$=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Dr.create("registration-window");if(!(0,ne.hl)())throw Dr.create("indexed-db-unavailable");const{projectId:Z,apiKey:ce,appId:je}=O.options;if(!Z)throw Dr.create("registration-project-id");if(!ce)throw Dr.create("registration-api-key");if(!je)throw Dr.create("registration-app-id");const $e=new al(je,O.name,A=A||"firebase"),st=new so($e),Dt=new pe.Yd(La);Dt.logLevel=pe.in.ERROR;const Tt=new Lr($,J.SDK_VERSION,A,Z,ce,je),an=new Ba(Tt,$e),_n=new vt(an,$e,st,Dt),bs=new Yo(O,_n,st,$e,Dt);return function kr(E){const b=(0,ne.m9)(E);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(bs),bs},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(La,"0.4.4"),(0,J.registerVersion)(La,"0.4.4","esm2017")}();const Fu=(E,b)=>b.some(A=>E instanceof A);let oo,kt;const Lu=new WeakMap,rr=new WeakMap,ao=new WeakMap,ir=new WeakMap,$s=new WeakMap;let sr={get(E,b,A){if(E instanceof IDBTransaction){if("done"===b)return rr.get(E);if("objectStoreNames"===b)return E.objectStoreNames||ao.get(E);if("store"===b)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return pi(E[b])},set:(E,b,A)=>(E[b]=A,!0),has:(E,b)=>E instanceof IDBTransaction&&("done"===b||"store"===b)||b in E};function uo(E){return"function"==typeof E?function Vu(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qo(){return kt||(kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...b){return E.apply(Xr(this),b),pi(Lu.get(this))}:function(...b){return pi(E.apply(Xr(this),b))}:function(b,...A){const O=E.call(Xr(this),b,...A);return ao.set(O,b.sort?b.sort():[b]),pi(O)}}(E):(E instanceof IDBTransaction&&function zf(E){if(rr.has(E))return;const b=new Promise((A,O)=>{const $=()=>{E.removeEventListener("complete",Z),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},Z=()=>{A(),$()},ce=()=>{O(E.error||new DOMException("AbortError","AbortError")),$()};E.addEventListener("complete",Z),E.addEventListener("error",ce),E.addEventListener("abort",ce)});rr.set(E,b)}(E),Fu(E,function nm(){return oo||(oo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,sr):E)}function pi(E){if(E instanceof IDBRequest)return function vr(E){const b=new Promise((A,O)=>{const $=()=>{E.removeEventListener("success",Z),E.removeEventListener("error",ce)},Z=()=>{A(pi(E.result)),$()},ce=()=>{O(E.error),$()};E.addEventListener("success",Z),E.addEventListener("error",ce)});return b.then(A=>{A instanceof IDBCursor&&Lu.set(A,E)}).catch(()=>{}),$s.set(b,E),b}(E);if(ir.has(E))return ir.get(E);const b=uo(E);return b!==E&&(ir.set(E,b),$s.set(b,E)),b}const Xr=E=>$s.get(E);function Jo(E,b,{blocked:A,upgrade:O,blocking:$,terminated:Z}={}){const ce=indexedDB.open(E,b),je=pi(ce);return O&&ce.addEventListener("upgradeneeded",$e=>{O(pi(ce.result),$e.oldVersion,$e.newVersion,pi(ce.transaction))}),A&&ce.addEventListener("blocked",()=>A()),je.then($e=>{Z&&$e.addEventListener("close",()=>Z()),$&&$e.addEventListener("versionchange",()=>$())}).catch(()=>{}),je}function Xo(E,{blocked:b}={}){const A=indexedDB.deleteDatabase(E);return b&&A.addEventListener("blocked",()=>b()),pi(A).then(()=>{})}const ul=["get","getKey","getAll","getAllKeys","count"],rm=["put","add","delete","clear"],Uu=new Map;function cl(E,b){if(!(E instanceof IDBDatabase)||b in E||"string"!=typeof b)return;if(Uu.get(b))return Uu.get(b);const A=b.replace(/FromIndex$/,""),O=b!==A,$=rm.includes(A);if(!(A in(O?IDBIndex:IDBObjectStore).prototype)||!$&&!ul.includes(A))return;const Z=function(){var ce=(0,k.Z)(function*(je,...$e){const st=this.transaction(je,$?"readwrite":"readonly");let Dt=st.store;return O&&(Dt=Dt.index($e.shift())),(yield Promise.all([Dt[A](...$e),$&&st.done]))[0]});return function($e){return ce.apply(this,arguments)}}();return Uu.set(b,Z),Z}!function Cr(E){sr=E(sr)}(E=>({...E,get:(b,A,O)=>cl(b,A)||E.get(b,A,O),has:(b,A)=>!!cl(b,A)||E.has(b,A)}));const jd="/firebase-messaging-sw.js",ll="/firebase-cloud-messaging-push-scope",$d="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",im="https://fcmregistrations.googleapis.com/v1",vn="google.c.a.c_id",sm="google.c.a.c_l",qf="google.c.a.ts";var Hd=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(Hd||{});function ys(E){const b=new Uint8Array(E);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dl(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(A),$=new Uint8Array(O.length);for(let Z=0;Z<O.length;++Z)$[Z]=O.charCodeAt(Z);return $}const ea="fcm_token_details_db",hl=5,ja="fcm_token_object_Store";function $a(){return $a=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Z=>Z.name).includes(ea))return null;let b=null;return(yield Jo(ea,hl,{upgrade:(O=(0,k.Z)(function*($,Z,ce,je){var $e;if(Z<2||!$.objectStoreNames.contains(ja))return;const st=je.objectStore(ja),Dt=yield st.index("fcmSenderId").get(E);if(yield st.clear(),Dt)if(2===Z){const Tt=Dt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;b={token:Tt.fcmToken,createTime:null!==($e=Tt.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:ys(Tt.vapidKey)}}}else if(3===Z){const Tt=Dt;b={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:ys(Tt.auth),p256dh:ys(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:ys(Tt.vapidKey)}}}else if(4===Z){const Tt=Dt;b={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:ys(Tt.auth),p256dh:ys(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:ys(Tt.vapidKey)}}}}),function(Z,ce,je,$e){return O.apply(this,arguments)})})).close(),yield Xo(ea),yield Xo("fcm_vapid_details_db"),yield Xo("undefined"),function co(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:b}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}(b)?b:null;var O}),$a.apply(this,arguments)}const Bu="firebase-messaging-database",Gd=1,Vr="firebase-messaging-store";let ju=null;function $u(){return ju||(ju=Jo(Bu,Gd,{upgrade:(E,b)=>{0===b&&E.createObjectStore(Vr)}})),ju}function fl(E){return ta.apply(this,arguments)}function ta(){return ta=(0,k.Z)(function*(E){const b=Nn(E),O=yield(yield $u()).transaction(Vr).objectStore(Vr).get(b);if(O)return O;{const $=yield function qv(E){return $a.apply(this,arguments)}(E.appConfig.senderId);if($)return yield Wf(E,$),$}}),ta.apply(this,arguments)}function Wf(E,b){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,k.Z)(function*(E,b){const A=Nn(E),$=(yield $u()).transaction(Vr,"readwrite");return yield $.objectStore(Vr).put(b,A),yield $.done,b})).apply(this,arguments)}function lo(){return(lo=(0,k.Z)(function*(E){const b=Nn(E),O=(yield $u()).transaction(Vr,"readwrite");yield O.objectStore(Vr).delete(b),yield O.done})).apply(this,arguments)}function Nn({appConfig:E}){return E.appId}const Ur=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gu(E,b){return zu.apply(this,arguments)}function zu(){return(zu=(0,k.Z)(function*(E,b){const A=yield pl(E),O=Yf(b),$={method:"POST",headers:A,body:JSON.stringify(O)};let Z;try{Z=yield(yield fetch(na(E.appConfig),$)).json()}catch(ce){throw Ur.create("token-subscribe-failed",{errorInfo:ce?.toString()})}if(Z.error)throw Ur.create("token-subscribe-failed",{errorInfo:Z.error.message});if(!Z.token)throw Ur.create("token-subscribe-no-token");return Z.token})).apply(this,arguments)}function zd(){return(zd=(0,k.Z)(function*(E,b){const A=yield pl(E),O=Yf(b.subscriptionOptions),$={method:"PATCH",headers:A,body:JSON.stringify(O)};let Z;try{Z=yield(yield fetch(`${na(E.appConfig)}/${b.token}`,$)).json()}catch(ce){throw Ur.create("token-update-failed",{errorInfo:ce?.toString()})}if(Z.error)throw Ur.create("token-update-failed",{errorInfo:Z.error.message});if(!Z.token)throw Ur.create("token-update-no-token");return Z.token})).apply(this,arguments)}function qd(E,b){return qu.apply(this,arguments)}function qu(){return(qu=(0,k.Z)(function*(E,b){const O={method:"DELETE",headers:yield pl(E)};try{const Z=yield(yield fetch(`${na(E.appConfig)}/${b}`,O)).json();if(Z.error)throw Ur.create("token-unsubscribe-failed",{errorInfo:Z.error.message})}catch($){throw Ur.create("token-unsubscribe-failed",{errorInfo:$?.toString()})}})).apply(this,arguments)}function na({projectId:E}){return`${im}/projects/${E}/registrations`}function pl(E){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,k.Z)(function*({appConfig:E,installations:b}){const A=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Yf({p256dh:E,auth:b,endpoint:A,vapidKey:O}){const $={web:{endpoint:A,auth:b,p256dh:E}};return O!==$d&&($.web.applicationPubKey=O),$}const Qf=6048e5;function Zu(){return Zu=(0,k.Z)(function*(E){const b=yield function Ga(E,b){return gl.apply(this,arguments)}(E.swRegistration,E.vapidKey),A={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:b.endpoint,auth:ys(b.getKey("auth")),p256dh:ys(b.getKey("p256dh"))},O=yield fl(E.firebaseDependencies);if(O){if(function Yd(E,b){return b.vapidKey===E.vapidKey&&b.endpoint===E.endpoint&&b.auth===E.auth&&b.p256dh===E.p256dh}(O.subscriptionOptions,A))return Date.now()>=O.createTime+Qf?function Jf(E,b){return ra.apply(this,arguments)}(E,{token:O.token,createTime:Date.now(),subscriptionOptions:A}):O.token;try{yield qd(E.firebaseDependencies,O.token)}catch($){console.warn($)}return Kd(E.firebaseDependencies,A)}return Kd(E.firebaseDependencies,A)}),Zu.apply(this,arguments)}function Wd(){return Wd=(0,k.Z)(function*(E){const b=yield fl(E.firebaseDependencies);b&&(yield qd(E.firebaseDependencies,b.token),yield function Qi(E){return lo.apply(this,arguments)}(E.firebaseDependencies));const A=yield E.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Wd.apply(this,arguments)}function ra(){return ra=(0,k.Z)(function*(E,b){try{const A=yield function Ha(E,b){return zd.apply(this,arguments)}(E.firebaseDependencies,b),O=Object.assign(Object.assign({},b),{token:A,createTime:Date.now()});return yield Wf(E.firebaseDependencies,O),A}catch(A){throw yield function Zd(E){return Wd.apply(this,arguments)}(E),A}}),ra.apply(this,arguments)}function Kd(E,b){return ho.apply(this,arguments)}function ho(){return(ho=(0,k.Z)(function*(E,b){const O={token:yield Gu(E,b),createTime:Date.now(),subscriptionOptions:b};return yield Wf(E,O),O.token})).apply(this,arguments)}function gl(){return(gl=(0,k.Z)(function*(E,b){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dl(b)})})).apply(this,arguments)}function Wu(E){const b={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function fo(E,b){if(!b.notification)return;E.notification={};const A=b.notification.title;A&&(E.notification.title=A);const O=b.notification.body;O&&(E.notification.body=O);const $=b.notification.image;$&&(E.notification.image=$);const Z=b.notification.icon;Z&&(E.notification.icon=Z)}(b,E),function Xf(E,b){b.data&&(E.data=b.data)}(b,E),function bi(E,b){var A,O,$,Z,ce;if(!(b.fcmOptions||null!==(A=b.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const je=null!==($=null===(O=b.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==$?$:null===(Z=b.notification)||void 0===Z?void 0:Z.click_action;je&&(E.fcmOptions.link=je);const $e=null===(ce=b.fcmOptions)||void 0===ce?void 0:ce.analytics_label;$e&&(E.fcmOptions.analyticsLabel=$e)}(b,E),b}function ml(E,b){const A=[];for(let O=0;O<E.length;O++)A.push(E.charAt(O)),O<b.length&&A.push(b.charAt(O));return A.join("")}function ia(E){return Ur.create("missing-app-config-values",{valueName:E})}ml("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ml("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ku{constructor(b,A,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function dn(E){if(!E||!E.options)throw ia("App Configuration Object");if(!E.name)throw ia("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const O of b)if(!A[O])throw ia(O);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:$,installations:A,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Yu(){return(Yu=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(jd,{scope:ll}),E.swRegistration.update().catch(()=>{})}catch(b){throw Ur.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function Ti(){return(Ti=(0,k.Z)(function*(E,b){if(!b&&!E.swRegistration&&(yield function Br(E){return Yu.apply(this,arguments)}(E)),b||!E.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw Ur.create("invalid-sw-registration");E.swRegistration=b}})).apply(this,arguments)}function sa(){return(sa=(0,k.Z)(function*(E,b){b?E.vapidKey=b:E.vapidKey||(E.vapidKey=$d)})).apply(this,arguments)}function yl(){return yl=(0,k.Z)(function*(E,b){if(!navigator)throw Ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ur.create("permission-blocked");return yield function Rn(E,b){return sa.apply(this,arguments)}(E,b?.vapidKey),yield function Qd(E,b){return Ti.apply(this,arguments)}(E,b?.serviceWorkerRegistration),function Zv(E){return Zu.apply(this,arguments)}(E)}),yl.apply(this,arguments)}function vl(){return(vl=(0,k.Z)(function*(E,b,A){const O=function tp(E){switch(E){case Hd.NOTIFICATION_CLICKED:return"notification_open";case Hd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(b);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:A[vn],message_name:A[sm],message_time:A[qf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function po(){return po=(0,k.Z)(function*(E,b){const A=b.data;if(!A.isFirebaseMessaging)return;E.onMessageHandler&&A.messageType===Hd.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Wu(A)):E.onMessageHandler.next(Wu(A)));const O=A.data;(function ep(E){return"object"==typeof E&&!!E&&vn in E})(O)&&"1"===O["google.c.a.e"]&&(yield function Gs(E,b,A){return vl.apply(this,arguments)}(E,A.messageType,O))}),po.apply(this,arguments)}const oa="@firebase/messaging",It=E=>{const b=new Ku(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Xd(E,b){return po.apply(this,arguments)}(b,A)),b},eh=E=>{const b=E.getProvider("messaging").getImmediate();return{getToken:O=>function Jd(E,b){return yl.apply(this,arguments)}(b,O)}};function th(){return za.apply(this,arguments)}function za(){return(za=(0,k.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function np(){(0,J._registerComponent)(new he.wA("messaging",It,"PUBLIC")),(0,J._registerComponent)(new he.wA("messaging-internal",eh,"PRIVATE")),(0,J.registerVersion)(oa,"0.12.4"),(0,J.registerVersion)(oa,"0.12.4","esm2017")}();const fe="analytics",Kt="firebase_id",Ju="origin",nh=6e4,qn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qa="https://www.googletagmanager.com/gtag/js",Cn=new pe.Yd("@firebase/analytics"),or=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function yo(E){if(!E.startsWith(qa)){const b=or.create("invalid-gtag-resource",{gtagURL:E});return Cn.warn(b.message),""}return E}function Il(E){return Promise.all(E.map(b=>b.catch(A=>A)))}function vo(){return(vo=(0,k.Z)(function*(E,b,A,O,$,Z){const ce=O[$];try{if(ce)yield b[ce];else{const $e=(yield Il(A)).find(st=>st.measurementId===$);$e&&(yield b[$e.appId])}}catch(je){Cn.error(je)}E("config",$,Z)})).apply(this,arguments)}function ar(){return(ar=(0,k.Z)(function*(E,b,A,O,$){try{let Z=[];if($&&$.send_to){let ce=$.send_to;Array.isArray(ce)||(ce=[ce]);const je=yield Il(A);for(const $e of ce){const st=je.find(Tt=>Tt.measurementId===$e),Dt=st&&b[st.appId];if(!Dt){Z=[];break}Z.push(Dt)}}0===Z.length&&(Z=Object.values(b)),yield Promise.all(Z),E("event",O,$||{})}catch(Z){Cn.error(Z)}})).apply(this,arguments)}const rh=30,ih=new class _o{constructor(b={},A=1e3){this.throttleMetadata=b,this.intervalMillis=A}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,A){this.throttleMetadata[b]=A}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function Tl(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Sl(){return(Sl=(0,k.Z)(function*(E){var b;const{appId:A,apiKey:O}=E,$={method:"GET",headers:Tl(O)},Z=qn.replace("{app-id}",A),ce=yield fetch(Z,$);if(200!==ce.status&&304!==ce.status){let je="";try{const $e=yield ce.json();null!==(b=$e.error)&&void 0!==b&&b.message&&(je=$e.error.message)}catch{}throw or.create("config-fetch-failed",{httpStatus:ce.status,responseMessage:je})}return ce.json()})).apply(this,arguments)}function ua(){return(ua=(0,k.Z)(function*(E,b=ih,A){const{appId:O,apiKey:$,measurementId:Z}=E.options;if(!O)throw or.create("no-app-id");if(!$){if(Z)return{measurementId:Z,appId:O};throw or.create("no-api-key")}const ce=b.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new op;return setTimeout((0,k.Z)(function*(){je.abort()}),void 0!==A?A:nh),oh({appId:O,apiKey:$,measurementId:Z},ce,je,b)})).apply(this,arguments)}function oh(E,b,A){return Al.apply(this,arguments)}function Al(){return Al=(0,k.Z)(function*(E,{throttleEndTimeMillis:b,backoffCount:A},O,$=ih){var Z;const{appId:ce,measurementId:je}=E;try{yield function sp(E,b){return new Promise((A,O)=>{const $=Math.max(b-Date.now(),0),Z=setTimeout(A,$);E.addEventListener(()=>{clearTimeout(Z),O(or.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(O,b)}catch($e){if(je)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:ce,measurementId:je};throw $e}try{const $e=yield function am(E){return Sl.apply(this,arguments)}(E);return $.deleteThrottleMetadata(ce),$e}catch($e){const st=$e;if(!function Xu(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const b=Number(E.customData.httpStatus);return 429===b||500===b||503===b||504===b}(st)){if($.deleteThrottleMetadata(ce),je)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:ce,measurementId:je};throw $e}const Dt=503===Number(null===(Z=st?.customData)||void 0===Z?void 0:Z.httpStatus)?(0,ne.$s)(A,$.intervalMillis,rh):(0,ne.$s)(A,$.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+Dt,backoffCount:A+1};return $.setThrottleMetadata(ce,Tt),Cn.debug(`Calling attemptFetch again in ${Dt} millis`),oh(E,Tt,O,$)}}),Al.apply(this,arguments)}class op{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let ec,br;function zs(){return(zs=(0,k.Z)(function*(E,b,A,O,$){if($&&$.global)E("event",A,O);else{const Z=yield b;E("event",A,Object.assign(Object.assign({},O),{send_to:Z}))}})).apply(this,arguments)}function nc(){return(nc=(0,k.Z)(function*(){if(!(0,ne.hl)())return Cn.warn(or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return Cn.warn(or.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Io(){return Io=(0,k.Z)(function*(E,b,A,O,$,Z,ce){var je;const $e=function sh(E){return ua.apply(this,arguments)}(E);$e.then(_n=>{A[_n.measurementId]=_n.appId,E.options.measurementId&&_n.measurementId!==E.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${_n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_n=>Cn.error(_n)),b.push($e);const st=function Wa(){return nc.apply(this,arguments)}().then(_n=>{if(_n)return O.getId()}),[Dt,Tt]=yield Promise.all([$e,st]);(function bl(E){const b=window.document.getElementsByTagName("script");for(const A of Object.values(b))if(A.src&&A.src.includes(qa)&&A.src.includes(E))return A;return null})(Z)||function Za(E,b){const A=function El(E,b){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,b)),A}("firebase-js-sdk-policy",{createScriptURL:yo}),O=document.createElement("script"),$=`${qa}?l=${E}&id=${b}`;O.src=A?A?.createScriptURL($):$,O.async=!0,document.head.appendChild(O)}(Z,Dt.measurementId),br&&($("consent","default",br),function wo(E){br=E}(void 0)),$("js",new Date);const an=null!==(je=ce?.config)&&void 0!==je?je:{};return an[Ju]="firebase",an.update=!0,null!=Tt&&(an[Kt]=Tt),$("config",Dt.measurementId,an),ec&&($("set",ec),function Zs(E){ec=E}(void 0)),Dt.measurementId}),Io.apply(this,arguments)}class jr{constructor(b){this.app=b}_delete(){return delete mt[this.app.options.appId],Promise.resolve()}}let mt={},ah=[];const ap={};let rc,Tn,Eo="dataLayer",uh=!1;function Ws(E,b,A){!function Nl(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const b=E.map((O,$)=>`(${$+1}) ${O}`).join(" "),A=or.create("invalid-analytics-context",{errorInfo:b});Cn.warn(A.message)}}();const O=E.options.appId;if(!O)throw or.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw or.create("no-api-key");Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mt[O])throw or.create("already-exists",{id:O});if(!uh){!function ei(E){let b=[];Array.isArray(window[E])?b=window[E]:window[E]=b}(Eo);const{wrappedGtag:Z,gtagCore:ce}=function Cl(E,b,A,O,$){let Z=function(...ce){window[O].push(arguments)};return window[$]&&"function"==typeof window[$]&&(Z=window[$]),window[$]=function Dl(E,b,A,O){function Z(){return Z=(0,k.Z)(function*(ce,...je){try{if("event"===ce){const[$e,st]=je;yield function vs(E,b,A,O,$){return ar.apply(this,arguments)}(E,b,A,$e,st)}else if("config"===ce){const[$e,st]=je;yield function ji(E,b,A,O,$,Z){return vo.apply(this,arguments)}(E,b,A,O,$e,st)}else if("consent"===ce){const[$e]=je;E("consent","update",$e)}else if("get"===ce){const[$e,st,Dt]=je;E("get",$e,st,Dt)}else if("set"===ce){const[$e]=je;E("set",$e)}else E(ce,...je)}catch($e){Cn.error($e)}}),Z.apply(this,arguments)}return function $(ce){return Z.apply(this,arguments)}}(Z,E,b,A),{gtagCore:Z,wrappedGtag:window[$]}}(mt,ah,ap,Eo,"gtag");Tn=Z,rc=ce,uh=!0}return mt[O]=function Ka(E,b,A,O,$,Z,ce){return Io.apply(this,arguments)}(E,ah,ap,b,rc,Eo,A),new jr(E)}function _s(){return la.apply(this,arguments)}function la(){return(la=(0,k.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Co="@firebase/analytics";!function wr(){(0,J._registerComponent)(new he.wA(fe,(b,{options:A})=>Ws(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,J._registerComponent)(new he.wA("analytics-internal",function E(b){try{const A=b.getProvider(fe).getImmediate();return{logEvent:(O,$,Z)=>function _r(E,b,A,O){E=(0,ne.m9)(E),function ti(E,b,A,O,$){return zs.apply(this,arguments)}(Tn,mt[E.app.options.appId],b,A,O).catch($=>Cn.error($))}(A,O,$,Z)}}catch(A){throw or.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,J.registerVersion)(Co,"0.10.0"),(0,J.registerVersion)(Co,"0.10.0","esm2017")}();var Is=P(1954),Ai=P(2631);const oc=new class ur extends Ai.v{}(class Xa extends Is.o{constructor(b,A){super(b,A),this.scheduler=b,this.work=A}schedule(b,A=0){return A>0?super.schedule(b,A):(this.delay=A,this.state=b,this.scheduler.flush(this),this)}execute(b,A){return A>0||this.closed?super.execute(b,A):this._execute(b,A)}requestAsyncId(b,A,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(b,A,O):(b.flush(this),0)}});var Es=P(6321),Ds=P(5592),Ks=P(9397),Pn=P(5137),ri=P(3093);const lh=new h.GfV("7.6.1"),Sn="__angularfire_symbol__analyticsIsSupportedValue",eu="__angularfire_symbol__analyticsIsSupported",tu="__angularfire_symbol__remoteConfigIsSupportedValue",da="__angularfire_symbol__remoteConfigIsSupported",ha="__angularfire_symbol__messagingIsSupportedValue",uc="__angularfire_symbol__messagingIsSupported";function bo(E,b,A){if(b){if(1===b.length)return b[0];const Z=b.filter(ce=>ce.app===A);if(1===Z.length)return Z[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[eu]||(globalThis[eu]=_s().then(E=>globalThis[Sn]=E).catch(()=>globalThis[Sn]=!1)),globalThis[uc]||(globalThis[uc]=th().then(E=>globalThis[ha]=E).catch(()=>globalThis[ha]=!1)),globalThis[da]||(globalThis[da]=js().then(E=>globalThis[tu]=E).catch(()=>globalThis[tu]=!1));const ru=(E,b)=>{const A=b?[b]:(0,Q.C6)(),O=[];return A.forEach($=>{$.container.getProvider(E).instances.forEach(ce=>{O.includes(ce)||O.push(ce)})}),O};function $i(){}class Xi{constructor(b,A=oc){this.zone=b,this.delegate=A}now(){return this.delegate.now()}schedule(b,A,O){const $=this.zone;return this.delegate.schedule(function(ce){$.runGuarded(()=>{b.apply(this,[ce])})},A,O)}}class Rl{constructor(b){this.zone=b,this.task=null}call(b,A){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$i,{},$i,$i)),A.pipe((0,Ks.b)({next:O,complete:O,error:O})).subscribe(b).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let up=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Xi(Zone.current)),this.insideAngular=A.run(()=>new Xi(Zone.current,Es.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(h.LFG(h.R0b))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Tr(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function To(E){return Tr().ngZone.run(()=>E())}function Ys(E){return Tr(),function cp(E){return function(A){return(A=A.lift(new Rl(E.ngZone))).pipe((0,Pn.R)(E.outsideAngular),(0,ri.Q)(E.insideAngular))}}(Tr())(E)}const dh=(E,b)=>function(){const O=arguments;return b&&setTimeout(()=>{"scheduled"===b.state&&b.invoke()},10),To(()=>E.apply(void 0,O))},Hn=(E,b)=>function(){let A;const O=arguments;for(let Z=0;Z<arguments.length;Z++)"function"==typeof O[Z]&&(b&&(A||(A=To(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$i,{},$i,$i)))),O[Z]=dh(O[Z],A));const $=function dm(E){return Tr().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,O));if(!b){if($ instanceof Ds.y){const Z=Tr();return $.pipe((0,Pn.R)(Z.outsideAngular),(0,ri.Q)(Z.insideAngular))}return To(()=>$)}return $ instanceof Ds.y?$.pipe(Ys):$ instanceof Promise?To(()=>new Promise((Z,ce)=>$.then(je=>To(()=>Z(je)),je=>To(()=>ce(je))))):"function"==typeof $&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),$.apply(this,arguments)}:To(()=>$)}},9058:(ot,De,P)=>{P.d(De,{$s:()=>Qr,BH:()=>X,G6:()=>ls,L:()=>de,LL:()=>be,Pz:()=>ve,Sg:()=>Ce,UG:()=>se,US:()=>he,ZB:()=>Y,ZR:()=>Ee,aH:()=>te,b$:()=>hr,eu:()=>le,hl:()=>oe,jU:()=>yt,m9:()=>wi,ne:()=>on,pd:()=>Ut,r3:()=>nn,ru:()=>Vt,tV:()=>L,uI:()=>ze,vZ:()=>hi,w1:()=>cs,xO:()=>Oa,xb:()=>di,z$:()=>Pe,zI:()=>_e,zd:()=>lt});const J=function(U){const V=[];let z=0;for(let Ie=0;Ie<U.length;Ie++){let ie=U.charCodeAt(Ie);ie<128?V[z++]=ie:ie<2048?(V[z++]=ie>>6|192,V[z++]=63&ie|128):55296==(64512&ie)&&Ie+1<U.length&&56320==(64512&U.charCodeAt(Ie+1))?(ie=65536+((1023&ie)<<10)+(1023&U.charCodeAt(++Ie)),V[z++]=ie>>18|240,V[z++]=ie>>12&63|128,V[z++]=ie>>6&63|128,V[z++]=63&ie|128):(V[z++]=ie>>12|224,V[z++]=ie>>6&63|128,V[z++]=63&ie|128)}return V},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let ie=0;ie<U.length;ie+=3){const Ye=U[ie],Ct=ie+1<U.length,wt=Ct?U[ie+1]:0,tr=ie+2<U.length,xt=tr?U[ie+2]:0;let zn=(15&wt)<<2|xt>>6,Ki=63&xt;tr||(Ki=64,Ct||(zn=64)),Ie.push(z[Ye>>2],z[(3&Ye)<<4|wt>>4],z[zn],z[Ki])}return Ie.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(J(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let z=0,Ie=0;for(;z<U.length;){const ie=U[z++];if(ie<128)V[Ie++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Ye=U[z++];V[Ie++]=String.fromCharCode((31&ie)<<6|63&Ye)}else if(ie>239&&ie<365){const tr=((7&ie)<<18|(63&U[z++])<<12|(63&U[z++])<<6|63&U[z++])-65536;V[Ie++]=String.fromCharCode(55296+(tr>>10)),V[Ie++]=String.fromCharCode(56320+(1023&tr))}else{const Ye=U[z++],Ct=U[z++];V[Ie++]=String.fromCharCode((15&ie)<<12|(63&Ye)<<6|63&Ct)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const z=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let ie=0;ie<U.length;){const Ye=z[U.charAt(ie++)],wt=ie<U.length?z[U.charAt(ie)]:0;++ie;const xt=ie<U.length?z[U.charAt(ie)]:64;++ie;const Gt=ie<U.length?z[U.charAt(ie)]:64;if(++ie,null==Ye||null==wt||null==xt||null==Gt)throw new pe;Ie.push(Ye<<2|wt>>4),64!==xt&&(Ie.push(wt<<4&240|xt>>2),64!==Gt&&Ie.push(xt<<6&192|Gt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(U){return function(U){const V=J(U);return he.encodeByteArray(V,!0)}(U).replace(/\./g,"")},L=function(U){try{return he.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Y(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const z in V)!V.hasOwnProperty(z)||!Le(z)||(U[z]=Y(U[z],V[z]));return U}function Le(U){return"__proto__"!==U}const Oe=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&L(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},te=()=>{var U;return null===(U=Oe())||void 0===U?void 0:U.config},ve=U=>{var V;return null===(V=Oe())||void 0===V?void 0:V[`_${U}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,z)=>{this.resolve=V,this.reject=z})}wrapCallback(V){return(z,Ie)=>{z?this.reject(z):this.resolve(Ie),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(z):V(z,Ie))}}}function Ce(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=V||"demo-project",ie=U.iat||0,Ye=U.sub||U.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:ie,exp:ie+3600,auth_time:ie,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},U);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ct)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function se(){var U;const V=null===(U=Oe())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yt(){return"object"==typeof self&&self.self===self}function Vt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function hr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function cs(){const U=Pe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ls(){return!se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((U,V)=>{try{let z=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(Ie);ie.onsuccess=()=>{ie.result.close(),z||self.indexedDB.deleteDatabase(Ie),U(!0)},ie.onupgradeneeded=()=>{z=!1},ie.onerror=()=>{var Ye;V((null===(Ye=ie.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(z){V(z)}})}function _e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ee extends Error{constructor(V,z,Ie){super(z),this.code=V,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(V,z,Ie){this.service=V,this.serviceName=z,this.errors=Ie}create(V,...z){const Ie=z[0]||{},ie=`${this.service}/${V}`,Ye=this.errors[V],Ct=Ye?function Xe(U,V){return U.replace(He,(z,Ie)=>{const ie=V[Ie];return null!=ie?String(ie):`<${Ie}?>`})}(Ye,Ie):"Error";return new Ee(ie,`${this.serviceName}: ${Ct} (${ie}).`,Ie)}}const He=/\{\$([^}]+)}/g;function nn(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function di(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function hi(U,V){if(U===V)return!0;const z=Object.keys(U),Ie=Object.keys(V);for(const ie of z){if(!Ie.includes(ie))return!1;const Ye=U[ie],Ct=V[ie];if(fi(Ye)&&fi(Ct)){if(!hi(Ye,Ct))return!1}else if(Ye!==Ct)return!1}for(const ie of Ie)if(!z.includes(ie))return!1;return!0}function fi(U){return null!==U&&"object"==typeof U}function Oa(U){const V=[];for(const[z,Ie]of Object.entries(U))Array.isArray(Ie)?Ie.forEach(ie=>{V.push(encodeURIComponent(z)+"="+encodeURIComponent(ie))}):V.push(encodeURIComponent(z)+"="+encodeURIComponent(Ie));return V.length?"&"+V.join("&"):""}function lt(U){const V={};return U.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[ie,Ye]=Ie.split("=");V[decodeURIComponent(ie)]=decodeURIComponent(Ye)}}),V}function Ut(U){const V=U.indexOf("?");if(!V)return"";const z=U.indexOf("#",V);return U.substring(V,z>0?z:void 0)}function on(U,V){const z=new En(U,V);return z.subscribe.bind(z)}class En{constructor(V,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{V(this)}).catch(Ie=>{this.error(Ie)})}next(V){this.forEachObserver(z=>{z.next(V)})}error(V){this.forEachObserver(z=>{z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,z,Ie){let ie;if(void 0===V&&void 0===z&&void 0===Ie)throw new Error("Missing Observer.");ie=function Qt(U,V){if("object"!=typeof U||null===U)return!1;for(const z of V)if(z in U&&"function"==typeof U[z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:z,complete:Ie},void 0===ie.next&&(ie.next=pr),void 0===ie.error&&(ie.error=pr),void 0===ie.complete&&(ie.complete=pr);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),Ye}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,V)}sendOne(V,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{z(this.observers[V])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}const Vs=1e3,Ui=2,Xn=144e5,er=.5;function Qr(U,V=Vs,z=Ui){const Ie=V*Math.pow(z,U),ie=Math.round(er*Ie*(Math.random()-.5)*2);return Math.min(Xn,Ie+ie)}function wi(U){return U&&U._delegate?U._delegate:U}},5539:(ot,De,P)=>{var h=P(5879);let Q=null;function k(){return Q}class ne{}const he=new h.OlP("DocumentToken");let pe=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(de)},providedIn:"platform"}),e})();const Re=new h.OlP("Location Initialized");let de=(()=>{var t;class e extends pe{constructor(){super(),this._doc=(0,h.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(r){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,s,u){this._history.pushState(r,s,u)}replaceState(r,s,u){this._history.replaceState(r,s,u)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function L(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function j(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Y(t){return t&&"?"!==t[0]?"?"+t:t}let Le=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(Ze)},providedIn:"root"}),e})();const Se=new h.OlP("appBaseHref");let Ze=(()=>{var t;class e extends Le{constructor(r,s){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return L(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+Y(this._platformLocation.search),u=this._platformLocation.hash;return u&&r?`${s}${u}`:s}pushState(r,s,u,l){const m=this.prepareExternalUrl(u+Y(l));this._platformLocation.pushState(r,s,m)}replaceState(r,s,u,l){const m=this.prepareExternalUrl(u+Y(l));this._platformLocation.replaceState(r,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(pe),h.LFG(Se,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),xe=(()=>{var t;class e extends Le{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=L(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,u,l){let m=this.prepareExternalUrl(u+Y(l));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,s,m)}replaceState(r,s,u,l){let m=this.prepareExternalUrl(u+Y(l));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(pe),h.LFG(Se,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})(),Ge=(()=>{var t;class e{constructor(r){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const s=this._locationStrategy.getBaseHref();this._basePath=function te(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(j(at(s))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+Y(s))}normalize(r){return e.stripTrailingSlash(function dt(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,at(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,s="",u=null){this._locationStrategy.pushState(u,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Y(s)),u)}replaceState(r,s="",u=null){this._locationStrategy.replaceState(u,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Y(s)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(u=>u(r,s))}subscribe(r,s,u){return this._subject.subscribe({next:r,error:s,complete:u})}}return(t=e).normalizeQueryParams=Y,t.joinWithSlash=L,t.stripTrailingSlash=j,t.\u0275fac=function(r){return new(r||t)(h.LFG(Le))},t.\u0275prov=h.Yz7({token:t,factory:function(){return function Oe(){return new Ge((0,h.LFG)(Le))}()},providedIn:"root"}),e})();function at(t){return t.replace(/\/index.html$/,"")}const zo=/\s+/,el=[];let qo=(()=>{var t;class e{constructor(r,s,u,l){this._iterableDiffers=r,this._keyValueDiffers=s,this._ngEl=u,this._renderer=l,this.initialClasses=el,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(zo):el}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(zo):r}ngDoCheck(){for(const s of this.initialClasses)this._updateState(s,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const s of r)this._updateState(s,!0);else if(null!=r)for(const s of Object.keys(r))this._updateState(s,!!r[s]);this._applyStateDiff()}_updateState(r,s){const u=this.stateMap.get(r);void 0!==u?(u.enabled!==s&&(u.changed=!0,u.enabled=s),u.touched=!0):this.stateMap.set(r,{enabled:s,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const s=r[0],u=r[1];u.changed?(this._toggleClass(s,u.enabled),u.changed=!1):u.touched||(u.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),u.touched=!1}}_toggleClass(r,s){(r=r.trim()).length>0&&r.split(zo).forEach(u=>{s?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class no{constructor(e,n,r,s){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zo=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,s,u){this._viewContainer=r,this._template=s,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const s=this._viewContainer;r.forEachOperation((u,l,m)=>{if(null==u.previousIndex)s.createEmbeddedView(this._template,new no(u.item,this._ngForOf,-1,-1),null===m?void 0:m);else if(null==m)s.remove(null===l?void 0:l);else if(null!==l){const I=s.get(l);s.move(I,m),nl(I,u)}});for(let u=0,l=s.length;u<l;u++){const I=s.get(u).context;I.index=u,I.count=l,I.ngForOf=this._ngForOf}r.forEachIdentityChange(u=>{nl(s.get(u.currentIndex),u)})}static ngTemplateContextGuard(r,s){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function nl(t,e){t.context.$implicit=e.item}let Us=(()=>{var t;class e{constructor(r,s){this._viewContainer=r,this._context=new em,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){jf("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){jf("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,s){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.s_b),h.Y36(h.Rgc))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class em{constructor(){this.$implicit=null,this.ngIf=null}}function jf(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let ln=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();function ps(t){return"server"===t}let nr=(()=>{var t;class e{}return(t=e).\u0275prov=(0,h.Yz7)({token:t,providedIn:"root",factory:()=>new gs((0,h.LFG)(he),window)}),e})();class gs{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function ms(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Yd extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Wu extends Yd{static makeCurrent(){!function J(t){Q||(Q=t)}(new Wu)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Xf(){return fo=fo||document.querySelector("base"),fo?fo.getAttribute("href"):null}();return null==n?null:function ep(t){bi=bi||document.createElement("a"),bi.setAttribute("href",t);const e=bi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){fo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Yi(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[s,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let bi,fo=null,dn=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const ia=new h.OlP("EventManagerPlugins");let Ku=(()=>{var t;class e{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(u=>{u.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,s,u){return this._findPluginFor(s).addEventListener(r,s,u)}getZone(){return this._zone}_findPluginFor(r){let s=this._eventNameToPlugin.get(r);if(s)return s;if(s=this._plugins.find(l=>l.supports(r)),!s)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(r,s),s}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(ia),h.LFG(h.R0b))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();class Br{constructor(e){this._doc=e}}const Yu="ng-app-id";let Qd=(()=>{var t;class e{constructor(r,s,u,l={}){this.doc=r,this.appId=s,this.nonce=u,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ps(l),this.resetHostNodes()}addStyles(r){for(const s of r)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(r){for(const s of r)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(s=>s.remove()),r.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const s of this.getAllStyles())this.addStyleToHost(r,s)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const s of this.hostNodes)this.addStyleToHost(s,r)}onStyleRemoved(r){const s=this.styleRef;s.get(r)?.elements?.forEach(u=>u.remove()),s.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Yu}="${this.appId}"]`);if(r?.length){const s=new Map;return r.forEach(u=>{null!=u.textContent&&s.set(u.textContent,u)}),s}return null}changeUsageCount(r,s){const u=this.styleRef;if(u.has(r)){const l=u.get(r);return l.usage+=s,l.usage}return u.set(r,{usage:s,elements:[]}),s}getStyleElement(r,s){const u=this.styleNodesInDOM,l=u?.get(s);if(l?.parentNode===r)return u.delete(s),l.removeAttribute(Yu),l;{const m=this.doc.createElement("style");return this.nonce&&m.setAttribute("nonce",this.nonce),m.textContent=s,this.platformIsServer&&m.setAttribute(Yu,this.appId),m}}addStyleToHost(r,s){const u=this.getStyleElement(r,s);r.appendChild(u);const l=this.styleRef,m=l.get(s)?.elements;m?m.push(u):l.set(s,{elements:[u],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(he),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const Ti={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rn=/%COMP%/g,vl=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function po(t,e){return e.map(n=>n.replace(Rn,t))}let oa=(()=>{var t;class e{constructor(r,s,u,l,m,I,C,M=null){this.eventManager=r,this.sharedStylesHost=s,this.appId=u,this.removeStylesOnCompDestroy=l,this.doc=m,this.platformId=I,this.ngZone=C,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=ps(I),this.defaultRenderer=new Qu(r,m,C,this.platformIsServer)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===h.ifc.ShadowDom&&(s={...s,encapsulation:h.ifc.Emulated});const u=this.getOrCreateRenderer(r,s);return u instanceof rp?u.applyToHost(r):u instanceof za&&u.applyStyles(),u}getOrCreateRenderer(r,s){const u=this.rendererByCompId;let l=u.get(s.id);if(!l){const m=this.doc,I=this.ngZone,C=this.eventManager,M=this.sharedStylesHost,R=this.removeStylesOnCompDestroy,H=this.platformIsServer;switch(s.encapsulation){case h.ifc.Emulated:l=new rp(C,M,s,this.appId,R,m,I,H);break;case h.ifc.ShadowDom:return new th(C,M,r,s,m,I,this.nonce,H);default:l=new za(C,M,s,R,m,I,H)}u.set(s.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Ku),h.LFG(Qd),h.LFG(h.AFp),h.LFG(vl),h.LFG(he),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();class Qu{constructor(e,n,r,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ti[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(np(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(np(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,s){if(s){n=s+":"+n;const u=Ti[s];u?e.setAttributeNS(u,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const s=Ti[r];s?e.removeAttributeNS(s,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(n,r,s&h.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&h.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=k().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function np(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class th extends Qu{constructor(e,n,r,s,u,l,m,I){super(e,u,l,I),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=po(s.id,s.styles);for(const M of C){const R=document.createElement("style");m&&R.setAttribute("nonce",m),R.textContent=M,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class za extends Qu{constructor(e,n,r,s,u,l,m,I){super(e,u,l,m),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s,this.styles=I?po(I,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rp extends za{constructor(e,n,r,s,u,l,m,I){const C=s+"-"+r.id;super(e,n,r,u,l,m,I,C),this.contentAttr=function tp(t){return"_ngcontent-%COMP%".replace(Rn,t)}(C),this.hostAttr=function Xd(t){return"_nghost-%COMP%".replace(Rn,t)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let go=(()=>{var t;class e extends Br{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,u){return r.addEventListener(s,u,!1),()=>this.removeEventListener(r,s,u)}removeEventListener(r,s,u){return r.removeEventListener(s,u)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(he))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const aa=["alt","control","meta","shift"],mo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},om={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _l=(()=>{var t;class e extends Br{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,s,u){const l=e.parseEventName(s),m=e.eventCallback(l.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(r,l.domEventName,m))}static parseEventName(r){const s=r.toLowerCase().split("."),u=s.shift();if(0===s.length||"keydown"!==u&&"keyup"!==u)return null;const l=e._normalizeKey(s.pop());let m="",I=s.indexOf("code");if(I>-1&&(s.splice(I,1),m="code."),aa.forEach(M=>{const R=s.indexOf(M);R>-1&&(s.splice(R,1),m+=M+".")}),m+=l,0!=s.length||0===l.length)return null;const C={};return C.domEventName=u,C.fullKey=m,C}static matchEventFullKeyCode(r,s){let u=mo[r.key]||r.key,l="";return s.indexOf("code.")>-1&&(u=r.code,l="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),aa.forEach(m=>{m!==u&&(0,om[m])(r)&&(l+=m+".")}),l+=u,l===s)}static eventCallback(r,s,u){return l=>{e.matchEventFullKeyCode(l,r)&&u.runGuarded(()=>s(l))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(he))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const Cn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Ju(){Wu.makeCurrent()},multi:!0},{provide:he,useFactory:function qn(){return(0,h.RDi)(document),document},deps:[]}]),Bi=new h.OlP(""),or=[{provide:h.rWj,useClass:class ml{addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new h.vHH(5103,!1);return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const m=function(I){l=l||I,u--,0==u&&r(l)};s.forEach(I=>{I.whenStable(m)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?k().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],yo=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function nh(){return new h.qLn},deps:[]},{provide:ia,useClass:go,multi:!0,deps:[he,h.R0b,h.Lbi]},{provide:ia,useClass:_l,multi:!0,deps:[he]},oa,Qd,Ku,{provide:h.FYo,useExisting:oa},{provide:class Ci{},useClass:dn,deps:[]},[]];let Il=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:h.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Bi,12))},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[...yo,...or],imports:[ln,h.hGG]}),e})(),vo=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(he))},t.\u0275prov=h.Yz7({token:t,factory:function(r){let s=null;return s=r?new r:function ji(){return new vo((0,h.LFG)(he))}(),s},providedIn:"root"}),e})();typeof window<"u"&&window;var ni=P(5592),ca=P(4674),rn=P(2459),ft=P(2096),br=P(5619);const{isArray:wo}=Array,{getPrototypeOf:Zs,prototype:Wa,keys:nc}=Object;function Ka(t){if(1===t.length){const e=t[0];if(wo(e))return{args:e,keys:null};if(function Io(t){return t&&"object"==typeof t&&Zs(t)===Wa}(e)){const n=nc(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}var jr=P(2737),mt=P(7398);const{isArray:ah}=Array;function Eo(t){return(0,mt.U)(e=>function ap(t,e){return ah(e)?t(...e):t(e)}(t,e))}var Do=P(4564);function rc(t,e){return t.reduce((n,r,s)=>(n[r]=e[s],n),{})}var Tn=P(8251),uh=P(7103);function xl(...t){const e=(0,Do.yG)(t),n=(0,Do.jO)(t),{args:r,keys:s}=Ka(t);if(0===r.length)return(0,rn.D)([],e);const u=new ni.y(function Nl(t,e,n=jr.y){return r=>{Ws(e,()=>{const{length:s}=t,u=new Array(s);let l=s,m=s;for(let I=0;I<s;I++)Ws(e,()=>{const C=(0,rn.D)(t[I],e);let M=!1;C.subscribe((0,Tn.x)(r,R=>{u[I]=R,M||(M=!0,m--),m||r.next(n(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>rc(s,l):jr.y));return n?u.pipe(Eo(n)):u}function Ws(t,e,n){t?(0,uh.f)(n,t,e):e()}const Ji=(0,P(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var _s=P(7537);function Ya(...t){return function la(){return(0,_s.J)(1)}()((0,rn.D)(t,(0,Do.yG)(t)))}var ic=P(4829);function Qa(t){return new ni.y(e=>{(0,ic.Xf)(t()).subscribe(e)})}var ch=P(8407);function $r(t,e){const n=(0,ca.m)(t)?t:()=>t,r=s=>s.error(n());return new ni.y(e?s=>e.schedule(r,0,s):r)}var ws=P(6232),Ja=P(7394),_r=P(9360);function sc(){return(0,_r.e)((t,e)=>{let n=null;t._refCount++;const r=(0,Tn.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const s=t._connection,u=n;n=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Co extends ni.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,_r.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ja.w0;const n=this.getSubject();e.add(this.source.subscribe((0,Tn.x)(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ja.w0.EMPTY)}return e}refCount(){return sc()(this)}}var Si=P(8645),wr=P(4664);function Is(t){return t<=0?()=>ws.E:(0,_r.e)((e,n)=>{let r=0;e.subscribe((0,Tn.x)(n,s=>{++r<=t&&(n.next(s),t<=r&&n.complete())}))})}function Xa(...t){const e=(0,Do.yG)(t);return(0,_r.e)((n,r)=>{(e?Ya(t,n,e):Ya(t,n)).subscribe(r)})}function Ai(t,e){return(0,_r.e)((n,r)=>{let s=0;n.subscribe((0,Tn.x)(r,u=>t.call(e,u,s++)&&r.next(u)))})}var ur=P(1631);function oc(t){return(0,_r.e)((e,n)=>{let r=!1;e.subscribe((0,Tn.x)(n,s=>{r=!0,n.next(s)},()=>{r||n.next(t),n.complete()}))})}function ac(t=Es){return(0,_r.e)((e,n)=>{let r=!1;e.subscribe((0,Tn.x)(n,s=>{r=!0,n.next(s)},()=>r?n.complete():n.error(t())))})}function Es(){return new Ji}function Ds(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ai((s,u)=>t(s,u,r)):jr.y,Is(1),n?oc(e):ac(()=>new Ji))}function Ks(t,e){return(0,ca.m)(e)?(0,ur.z)(t,e,1):(0,ur.z)(t,1)}var Pn=P(9397);function ri(t){return(0,_r.e)((e,n)=>{let u,r=null,s=!1;r=e.subscribe((0,Tn.x)(n,void 0,void 0,l=>{u=(0,ic.Xf)(t(l,ri(t)(e))),r?(r.unsubscribe(),r=null,u.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(n))})}function Sn(t,e){return(0,_r.e)(function lh(t,e,n,r,s){return(u,l)=>{let m=n,I=e,C=0;u.subscribe((0,Tn.x)(l,M=>{const R=C++;I=m?t(I,M,R):(m=!0,M),r&&l.next(I)},s&&(()=>{m&&l.next(I),l.complete()})))}}(t,e,arguments.length>=2,!0))}function eu(t){return t<=0?()=>ws.E:(0,_r.e)((e,n)=>{let r=[];e.subscribe((0,Tn.x)(n,s=>{r.push(s),t<r.length&&r.shift()},()=>{for(const s of r)n.next(s);n.complete()},void 0,()=>{r=null}))})}function ha(t){return(0,_r.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var uc=P(2420);const bt="primary",Cs=Symbol("RouteTitle");class nu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function bo(t){return new nu(t)}function ru(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],m=t[u];if(l.startsWith(":"))s[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:t.slice(0,r.length),posParams:s}}function Xi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let u=0;u<n.length;u++)if(s=n[u],!Rl(t[s],e[s]))return!1;return!0}function Rl(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((s,u)=>r[u]===s)}return t===e}function up(t){return t.length>0?t[t.length-1]:null}function Tr(t){return function qs(t){return!!t&&(t instanceof ni.y||(0,ca.m)(t.lift)&&(0,ca.m)(t.subscribe))}(t)?t:(0,h.QGY)(t)?(0,rn.D)(Promise.resolve(t)):(0,ft.of)(t)}const dm={exact:function Ys(t,e,n){if(!Z(t.segments,e.segments)||!E(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Ys(t.children[r],e.children[r],n))return!1;return!0},subset:dh},To={exact:function Kv(t,e){return Xi(t,e)},subset:function cp(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Rl(t[n],e[n]))},ignored:()=>!0};function hm(t,e,n){return dm[n.paths](t.root,e.root,n.matrixParams)&&To[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function dh(t,e,n){return Hn(t,e,e.segments,n)}function Hn(t,e,n,r){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!(!Z(s,n)||e.hasChildren()||!E(s,n,r))}if(t.segments.length===n.length){if(!Z(t.segments,n)||!E(t.segments,n,r))return!1;for(const s in e.children)if(!t.children[s]||!dh(t.children[s],e.children[s],r))return!1;return!0}{const s=n.slice(0,t.segments.length),u=n.slice(t.segments.length);return!!(Z(t.segments,s)&&E(t.segments,s,r)&&t.children[bt])&&Hn(t.children[bt],e,u,r)}}function E(t,e,n){return e.every((r,s)=>To[n](t[s].parameters,r.parameters))}class b{constructor(e=new A([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bo(this.queryParams)),this._queryParamMap}toString(){return st.serialize(this)}}class A{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dt(this)}}class O{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=bo(this.parameters)),this._parameterMap}toString(){return Ss(this)}}function Z(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let je=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return new $e},providedIn:"root"}),e})();class $e{parse(e){const n=new Jv(e);return new b(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Tt(e.root,!0)}`,r=function Yv(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(s=>`${_n(n)}=${_n(s)}`).join("&"):`${_n(n)}=${_n(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function bs(t){return encodeURI(t)}(e.fragment)}`:""}`}}const st=new $e;function Dt(t){return t.segments.map(e=>Ss(e)).join("/")}function Tt(t,e){if(!t.hasChildren())return Dt(t);if(e){const n=t.children[bt]?Tt(t.children[bt],!1):"",r=[];return Object.entries(t.children).forEach(([s,u])=>{s!==bt&&r.push(`${s}:${Tt(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function ce(t,e){let n=[];return Object.entries(t.children).forEach(([r,s])=>{r===bt&&(n=n.concat(e(s,r)))}),Object.entries(t.children).forEach(([r,s])=>{r!==bt&&(n=n.concat(e(s,r)))}),n}(t,(r,s)=>s===bt?[Tt(t.children[bt],!1)]:[`${s}:${Tt(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[bt]?`${Dt(t)}/${n[0]}`:`${Dt(t)}/(${n.join("//")})`}}function an(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _n(t){return an(t).replace(/%3B/gi,";")}function pa(t){return an(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ts(t){return decodeURIComponent(t)}function gi(t){return Ts(t.replace(/\+/g,"%20"))}function Ss(t){return`${pa(t.path)}${function cc(t){return Object.keys(t).map(e=>`;${pa(e)}=${pa(t[e])}`).join("")}(t.parameters)}`}const EI=/^[^\/()?;#]+/;function Pl(t){const e=t.match(EI);return e?e[0]:""}const hh=/^[^\/()?;=#]+/,fm=/^[^=?&#]+/,Qv=/^[^&#]+/;class Jv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new A([],{}):new A([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[bt]=new A(e,n)),r}parseSegment(){const e=Pl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new O(Ts(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function iu(t){const e=t.match(hh);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=Pl(this.remaining);s&&(r=s,this.capture(r))}e[Ts(n)]=Ts(r)}parseQueryParam(e){const n=function Ol(t){const e=t.match(fm);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const l=function fh(t){const e=t.match(Qv);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=gi(n),u=gi(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pl(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=bt);const l=this.parseChildren();n[u]=1===Object.keys(l).length?l[bt]:new A([],l),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function lp(t){return t.segments.length>0?new A([],{[bt]:t}):t}function ph(t){const e={};for(const r of Object.keys(t.children)){const u=ph(t.children[r]);if(r===bt&&0===u.segments.length&&u.hasChildren())for(const[l,m]of Object.entries(u.children))e[l]=m;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function kl(t){if(1===t.numberOfChildren&&t.children[bt]){const e=t.children[bt];return new A(t.segments.concat(e.segments),e.children)}return t}(new A(t.segments,e))}function ga(t){return t instanceof b}function ma(t){let e;const s=lp(function n(u){const l={};for(const I of u.children){const C=n(I);l[I.outlet]=C}const m=new A(u.url,l);return u===t&&(e=m),m}(t.root));return e??s}function su(t,e,n,r){let s=t;for(;s.parent;)s=s.parent;if(0===e.length)return pm(s,s,s,n,r);const u=function CI(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new gm(!0,0,t);let e=0,n=!1;const r=t.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Object.entries(u.outlets).forEach(([I,C])=>{m[I]="string"==typeof C?C.split("/"):C}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((m,I)=>{0==I&&"."===m||(0==I&&""===m?n=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new gm(n,e,r)}(e);if(u.toRoot())return pm(s,s,new A([],{}),n,r);const l=function Xv(t,e,n){if(t.isAbsolute)return new lc(e,!0,0);if(!n)return new lc(e,!1,NaN);if(null===n.parent)return new lc(n,!0,0);const r=ya(t.commands[0])?0:1;return function e_(t,e,n){let r=t,s=e,u=n;for(;u>s;){if(u-=s,r=r.parent,!r)throw new h.vHH(4005,!1);s=r.segments.length}return new lc(r,!1,s-u)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(u,s,t),m=l.processChildren?Ll(l.segmentGroup,l.index,u.commands):dp(l.segmentGroup,l.index,u.commands);return pm(s,l.segmentGroup,m,n,r)}function ya(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ou(t){return"object"==typeof t&&null!=t&&t.outlets}function pm(t,e,n,r,s){let l,u={};r&&Object.entries(r).forEach(([I,C])=>{u[I]=Array.isArray(C)?C.map(M=>`${M}`):`${C}`}),l=t===e?n:Fl(t,e,n);const m=lp(ph(l));return new b(m,u,s)}function Fl(t,e,n){const r={};return Object.entries(t.children).forEach(([s,u])=>{r[s]=u===e?n:Fl(u,e,n)}),new A(t.segments,r)}class gm{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ya(r[0]))throw new h.vHH(4003,!1);const s=r.find(ou);if(s&&s!==up(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lc{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function dp(t,e,n){if(t||(t=new A([],{})),0===t.segments.length&&t.hasChildren())return Ll(t,e,n);const r=function mm(t,e,n){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(r>=n.length)return u;const l=t.segments[s],m=n[r];if(ou(m))break;const I=`${m}`,C=r<n.length-1?n[r+1]:null;if(s>0&&void 0===I)break;if(I&&C&&"object"==typeof C&&void 0===C.outlets){if(!gh(I,C,l))return u;r+=2}else{if(!gh(I,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(t,e,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const u=new A(t.segments.slice(0,r.pathIndex),{});return u.children[bt]=new A(t.segments.slice(r.pathIndex),t.children),Ll(u,0,s)}return r.match&&0===s.length?new A(t.segments,{}):r.match&&!t.hasChildren()?ym(t,e,n):r.match?Ll(t,0,s):ym(t,e,n)}function Ll(t,e,n){if(0===n.length)return new A(t.segments,{});{const r=function dc(t){return ou(t[0])?t[0].outlets:{[bt]:t}}(n),s={};if(Object.keys(r).some(u=>u!==bt)&&t.children[bt]&&1===t.numberOfChildren&&0===t.children[bt].segments.length){const u=Ll(t.children[bt],e,n);return new A(t.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(s[u]=dp(t.children[u],e,l))}),Object.entries(t.children).forEach(([u,l])=>{void 0===r[u]&&(s[u]=l)}),new A(t.segments,s)}}function ym(t,e,n){const r=t.segments.slice(0,e);let s=0;for(;s<n.length;){const u=n[s];if(ou(u)){const I=vm(u.outlets);return new A(r,I)}if(0===s&&ya(n[0])){r.push(new O(t.segments[e].path,_m(n[0]))),s++;continue}const l=ou(u)?u.outlets[bt]:`${u}`,m=s<n.length-1?n[s+1]:null;l&&m&&ya(m)?(r.push(new O(l,_m(m))),s+=2):(r.push(new O(l,{})),s++)}return new A(r,{})}function vm(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=ym(new A([],{}),0,r))}),e}function _m(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function gh(t,e,n){return t==n.path&&Xi(e,n.parameters)}const Vl="imperative";class es{constructor(e,n){this.id=e,this.url=n}}class Ul extends es{constructor(e,n,r="imperative",s=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class So extends es{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class au extends es{constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bl extends es{constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s,this.type=16}}class hc extends es{constructor(e,n,r,s){super(e,n),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t_ extends es{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bI extends es{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TI extends es{constructor(e,n,r,s,u){super(e,n),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wm extends es{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mh extends es{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yh{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Im{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Em{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fc{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pc{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hp{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fp{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gc{}class mc{constructor(e){this.url=e}}class Dm{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uu,this.attachRef=null}}let uu=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,s){const u=this.getOrCreateContext(r);u.outlet=s,this.contexts.set(r,u)}onChildOutletDestroyed(r){const s=this.getContext(r);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let s=this.getContext(r);return s||(s=new Dm,this.contexts.set(r,s)),s}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class vh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=jl(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=jl(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=$l(e,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return $l(e,this._root).map(n=>n.value)}}function jl(t,e){if(t===e.value)return e;for(const n of e.children){const r=jl(t,n);if(r)return r}return null}function $l(t,e){if(t===e.value)return[e];for(const n of e.children){const r=$l(t,n);if(r.length)return r.unshift(e),r}return[]}class As{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function yc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Mi extends vh{constructor(e,n){super(e),this.snapshot=n,Sr(this,e)}toString(){return this.snapshot.toString()}}function cu(t,e){const n=function Cm(t,e){const l=new Gl([],{},{},"",{},bt,e,null,{});return new zl("",new As(l,[]))}(0,e),r=new br.X([new O("",{})]),s=new br.X({}),u=new br.X({}),l=new br.X({}),m=new br.X(""),I=new vc(r,s,l,m,u,bt,e,n.root);return I.snapshot=n.root,new Mi(new As(I,[]),n)}class vc{constructor(e,n,r,s,u,l,m,I){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=u,this.outlet=l,this.component=m,this._futureSnapshot=I,this.title=this.dataSubject?.pipe((0,mt.U)(C=>C[Cs]))??(0,ft.of)(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>bo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>bo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const s=n[r],u=n[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function Hl(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gl{get title(){return this.data?.[Cs]}constructor(e,n,r,s,u,l,m,I,C){this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.routeConfig=I,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zl extends vh{constructor(e,n){super(n),this.url=e,Sr(this,n)}toString(){return Hi(this._root)}}function Sr(t,e){e.value._routerState=t,e.children.forEach(n=>Sr(t,n))}function Hi(t){const e=t.children.length>0?` { ${t.children.map(Hi).join(", ")} } `:"";return`${t.value}${e}`}function ql(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xi(e.params,n.params)||t.paramsSubject.next(n.params),function $i(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Xi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _h(t,e){const n=Xi(t.params,e.params)&&function $(t,e){return Z(t,e)&&t.every((n,r)=>Xi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||_h(t.parent,e.parent))}let gp=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(uu),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Zl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:s,previousValue:u}=r.name;if(s)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=r;const u=this.location,m=r.snapshot.component,I=this.parentContexts.getOrCreateContext(this.name).children,C=new bm(r,I,u.injector);this.activated=u.createComponent(m,{index:u.length,injector:C,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=h.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),e})();class bm{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===vc?this.route:e===uu?this.childContexts:this.parent.get(e,n)}}const Zl=new h.OlP("");let ii=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:s}=r,u=xl([s.queryParams,s.params,s.data]).pipe((0,wr.w)(([l,m,I],C)=>(I={...l,...m,...I},0===C?(0,ft.of)(I):Promise.resolve(I)))).subscribe(l=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(r);const m=(0,h.qFp)(s.component);if(m)for(const{templateName:I}of m.inputs)r.activatedComponentRef.setInput(I,l[I]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,u)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();function va(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const s=function n_(t,e,n){return e.children.map(r=>{for(const s of n.children)if(t.shouldReuseRoute(r.value,s.value.snapshot))return va(t,r,s);return va(t,r)})}(t,e,n);return new As(r,s)}{if(t.shouldAttach(e.value)){const u=t.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>va(t,m)),l}}const r=function Ao(t){return new vc(new br.X(t.url),new br.X(t.params),new br.X(t.queryParams),new br.X(t.fragment),new br.X(t.data),t.outlet,t.component,t)}(e.value),s=e.children.map(u=>va(t,u));return new As(r,s)}}const Mo="ngNavigationCancelingError";function Wl(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ga(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=yp(!1,0,e);return s.url=n,s.navigationBehaviorOptions=r,s}function yp(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Mo]=!0,r.cancellationCode=e,n&&(r.url=n),r}function wh(t){return t&&t[Mo]}let Tm=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},dependencies:[gp],encapsulation:2}),e})();function B(t){const e=t.children&&t.children.map(B),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==bt&&(n.component=Tm),n}function W(t){return t.outlet||bt}function Ue(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class wn{constructor(e,n,r,s,u){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=u}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ql(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const s=yc(n);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),Object.values(s).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,n,r){const s=e.value,u=n?n.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,n,l.children)}else this.deactivateChildRoutes(e,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,u=yc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,u=yc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const s=yc(n);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new hp(u.value.snapshot))}),e.children.length&&this.forwardEvent(new fc(e.value.snapshot))}activateRoutes(e,n,r){const s=e.value,u=n?n.value:null;if(ql(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,n,l.children)}else this.activateChildRoutes(e,n,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),ql(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Ue(s.snapshot);l.attachRef=null,l.route=s,l.injector=m,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class xi{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xo{constructor(e,n){this.component=e,this.route=n}}function Am(t,e,n){const r=t._root;return lu(r,e?e._root:null,n,[r.value])}function No(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||(0,h.Z0I)(t)?e.get(t):t:r}function lu(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=yc(e);return t.children.forEach(l=>{(function Ro(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,l=e?e.value:null,m=n?n.getContext(t.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const I=function _p(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Z(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Z(t.url,e.url)||!Xi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(t,e)||!Xi(t.queryParams,e.queryParams);default:return!_h(t,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);I?s.canActivateChecks.push(new xi(r)):(u.data=l.data,u._resolvedData=l._resolvedData),lu(t,e,u.component?m?m.children:null:n,r,s),I&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new xo(m.outlet.component,l))}else l&&du(e,m,s),s.canActivateChecks.push(new xi(r)),lu(t,null,u.component?m?m.children:null:n,r,s)})(l,u[l.value.outlet],n,r.concat([l.value]),s),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,m])=>du(m,n.getContext(l),s)),s}function du(t,e,n){const r=yc(t),s=t.value;Object.entries(r).forEach(([u,l])=>{du(l,s.component?e?e.children.getContext(u):null:e,n)}),n.canDeactivateChecks.push(new xo(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function hu(t){return"function"==typeof t}function Ip(t){return t instanceof Ji||"EmptyError"===t?.name}const _c=Symbol("INITIAL_VALUE");function Yl(){return(0,wr.w)(t=>xl(t.map(e=>e.pipe(Is(1),Xa(_c)))).pipe((0,mt.U)(e=>{for(const n of e)if(!0!==n){if(n===_c)return _c;if(!1===n||n instanceof b)return n}return!0}),Ai(e=>e!==_c),Is(1)))}function PI(t){return(0,ch.z)((0,Pn.b)(e=>{if(ga(e))throw Wl(0,e)}),(0,mt.U)(e=>!0===e))}class Dp{constructor(e){this.segmentGroup=e||null}}class Cp{constructor(e){this.urlTree=e}}function wc(t){return $r(new Dp(t))}function Ql(t){return $r(new Cp(t))}class UM{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,n){let r=[],s=n.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,ft.of)(r);if(s.numberOfChildren>1||!s.children[bt])return $r(new h.vHH(4e3,!1));s=s.children[bt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,s){const u=this.createSegmentGroup(e,n.root,r,s);return new b(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([s,u])=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);r[s]=n[m]}else r[s]=u}),r}createSegmentGroup(e,n,r,s){const u=this.createSegments(e,n.segments,r,s);let l={};return Object.entries(n.children).forEach(([m,I])=>{l[m]=this.createSegmentGroup(e,I,r,s)}),new A(u,l)}createSegments(e,n,r,s){return n.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,n,r){const s=r[n.path.substring(1)];if(!s)throw new h.vHH(4001,!1);return s}findOrReturn(e,n){let r=0;for(const s of n){if(s.path===e.path)return n.splice(r),s;r++}return e}}const u_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function c_(t,e,n,r,s){const u=l_(t,e,n);return u.matched?(r=function Sm(t,e){return t.providers&&!t._injector&&(t._injector=(0,h.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function OI(t,e,n,r){const s=e.canMatch;if(!s||0===s.length)return(0,ft.of)(!0);const u=s.map(l=>{const m=No(l,t);return Tr(function AI(t){return t&&hu(t.canMatch)}(m)?m.canMatch(e,n):t.runInContext(()=>m(e,n)))});return(0,ft.of)(u).pipe(Yl(),PI())}(r,e,n).pipe((0,mt.U)(l=>!0===l?u:{...u_}))):(0,ft.of)(u)}function l_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...u_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||ru)(n,t,e);if(!s)return{...u_};const u={};Object.entries(s.posParams??{}).forEach(([m,I])=>{u[m]=I.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function Jl(t,e,n,r){return n.length>0&&function kI(t,e,n){return n.some(r=>bp(t,e,r)&&W(r)!==bt)}(t,n,r)?{segmentGroup:new A(e,d_(r,new A(n,t.children))),slicedSegments:[]}:0===n.length&&function FI(t,e,n){return n.some(r=>bp(t,e,r))}(t,n,r)?{segmentGroup:new A(t.segments,Nm(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new A(t.segments,t.children),slicedSegments:n}}function Nm(t,e,n,r,s){const u={};for(const l of r)if(bp(t,n,l)&&!s[W(l)]){const m=new A([],{});u[W(l)]=m}return{...s,...u}}function d_(t,e){const n={};n[bt]=e;for(const r of t)if(""===r.path&&W(r)!==bt){const s=new A([],{});n[W(r)]=s}return n}function bp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Jb{constructor(e,n,r,s,u,l,m){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=s,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new UM(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=Jl(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,bt).pipe(ri(n=>{if(n instanceof Cp)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Dp?this.noMatchError(n):n}),(0,mt.U)(n=>{const r=new Gl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bt,this.rootComponentType,null,{}),s=new As(r,n),u=new zl("",s),l=function DI(t,e,n=null,r=null){return su(ma(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,bt).pipe(ri(r=>{throw r instanceof Dp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=Hr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,s,!0)}processChildren(e,n,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,rn.D)(s).pipe(Ks(u=>{const l=r.children[u],m=function Ne(t,e){const n=t.filter(r=>W(r)===e);return n.push(...t.filter(r=>W(r)!==e)),n}(n,u);return this.processSegmentGroup(e,m,l,u)}),Sn((u,l)=>(u.push(...l),u)),oc(null),function tu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ai((s,u)=>t(s,u,r)):jr.y,eu(1),n?oc(e):ac(()=>new Ji))}(),(0,ur.z)(u=>{if(null===u)return wc(r);const l=fu(u);return function Xb(t){t.sort((e,n)=>e.value.outlet===bt?-1:n.value.outlet===bt?1:e.value.outlet.localeCompare(n.value.outlet))}(l),(0,ft.of)(l)}))}processSegment(e,n,r,s,u,l){return(0,rn.D)(n).pipe(Ks(m=>this.processSegmentAgainstRoute(m._injector??e,n,m,r,s,u,l).pipe(ri(I=>{if(I instanceof Dp)return(0,ft.of)(null);throw I}))),Ds(m=>!!m),ri(m=>{if(Ip(m))return function Yb(t,e,n){return 0===e.length&&!t.children[n]}(r,s,u)?(0,ft.of)([]):wc(r);throw m}))}processSegmentAgainstRoute(e,n,r,s,u,l,m){return function LI(t,e,n,r){return!!(W(t)===r||r!==bt&&bp(e,n,t))&&("**"===t.path||l_(e,t,n).matched)}(r,s,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,u,l,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,n,r,u,l):wc(s):wc(s)}expandSegmentAgainstRouteUsingRedirect(e,n,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ql(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,ur.z)(l=>{const m=new A(l,{});return this.processSegment(e,n,m,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,u,l){const{matched:m,consumedSegments:I,remainingSegments:C,positionalParamSegments:M}=l_(n,s,u);if(!m)return wc(n);const R=this.applyRedirects.applyRedirectCommands(I,s.redirectTo,M);return s.redirectTo.startsWith("/")?Ql(R):this.applyRedirects.lineralizeSegments(s,R).pipe((0,ur.z)(H=>this.processSegment(e,r,n,H.concat(C),l,!1)))}matchSegmentAgainstRoute(e,n,r,s,u,l){let m;if("**"===r.path){const I=s.length>0?up(s).parameters:{},C=new Gl(s,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VI(r),W(r),r.component??r._loadedComponent??null,r,tT(r));m=(0,ft.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),n.children={}}else m=c_(n,r,s,e).pipe((0,mt.U)(({matched:I,consumedSegments:C,remainingSegments:M,parameters:R})=>I?{snapshot:new Gl(C,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VI(r),W(r),r.component??r._loadedComponent??null,r,tT(r)),consumedSegments:C,remainingSegments:M}:null));return m.pipe((0,wr.w)(I=>null===I?wc(n):this.getChildConfig(e=r._injector??e,r,s).pipe((0,wr.w)(({routes:C})=>{const M=r._loadedInjector??e,{snapshot:R,consumedSegments:H,remainingSegments:q}=I,{segmentGroup:ye,slicedSegments:Ve}=Jl(n,H,q,C);if(0===Ve.length&&ye.hasChildren())return this.processChildren(M,C,ye).pipe((0,mt.U)(ct=>null===ct?null:[new As(R,ct)]));if(0===C.length&&0===Ve.length)return(0,ft.of)([new As(R,[])]);const Be=W(r)===u;return this.processSegment(M,C,ye,Ve,Be?bt:u,!0).pipe((0,mt.U)(ct=>[new As(R,ct)]))}))))}getChildConfig(e,n,r){return n.children?(0,ft.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,ft.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function Zb(t,e,n,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,ft.of)(!0);const u=s.map(l=>{const m=No(l,t);return Tr(function Ih(t){return t&&hu(t.canLoad)}(m)?m.canLoad(e,n):t.runInContext(()=>m(e,n)))});return(0,ft.of)(u).pipe(Yl(),PI())}(e,n,r).pipe((0,ur.z)(s=>s?this.configLoader.loadChildren(e,n).pipe((0,Pn.b)(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):function Kb(t){return $r(yp(!1,3))}())):(0,ft.of)({routes:[],injector:e})}}function eT(t){const e=t.value.routeConfig;return e&&""===e.path}function fu(t){const e=[],n=new Set;for(const r of t){if(!eT(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),n.add(s)):e.push(r)}for(const r of n){const s=fu(r.children);e.push(new As(r.value,s))}return e.filter(r=>!n.has(r))}function VI(t){return t.data||{}}function tT(t){return t.resolve||{}}function BI(t){return"string"==typeof t.title||null===t.title}function h_(t){return(0,wr.w)(e=>{const n=t(e);return n?(0,rn.D)(n).pipe((0,mt.U)(()=>e)):(0,ft.of)(e)})}const Eh=new h.OlP("ROUTES");let Tp=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,ft.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const s=Tr(r.loadComponent()).pipe((0,mt.U)(Dh),(0,Pn.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=l}),ha(()=>{this.componentLoaders.delete(r)})),u=new Co(s,()=>new Si.x).pipe(sc());return this.componentLoaders.set(r,u),u}loadChildren(r,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return(0,ft.of)({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const l=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,mt.U)(I=>{this.onLoadEndListener&&this.onLoadEndListener(s);let C,M;return Array.isArray(I)?M=I:(C=I.create(r).injector,M=C.get(Eh,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:M.map(B),injector:C}}),ha(()=>{this.childrenLoaders.delete(s)})),m=new Co(l,()=>new Si.x).pipe(sc());return this.childrenLoaders.set(s,m),m}loadModuleFactoryOrRoutes(r){return Tr(r()).pipe((0,mt.U)(Dh),(0,ur.z)(s=>s instanceof h.YKP||Array.isArray(s)?(0,ft.of)(s):(0,rn.D)(this.compiler.compileModuleAsync(s))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Dh(t){return function pu(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Sp=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Si.x,this.transitionAbortSubject=new Si.x,this.configLoader=(0,h.f3M)(Tp),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(je),this.rootContexts=(0,h.f3M)(uu),this.inputBindingEnabled=null!==(0,h.f3M)(Zl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ft.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new Im(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new yh(u))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:s})}setupNavigations(r,s,u){return this.transitions=new br.X({id:0,currentUrlTree:s,currentRawUrl:s,currentBrowserUrl:s,extractedUrl:r.urlHandlingStrategy.extract(s),urlAfterRedirects:r.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vl,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(l=>0!==l.id),(0,mt.U)(l=>({...l,extractedUrl:r.urlHandlingStrategy.extract(l.rawUrl)})),(0,wr.w)(l=>{this.currentTransition=l;let m=!1,I=!1;return(0,ft.of)(l).pipe((0,Pn.b)(C=>{this.currentNavigation={id:C.id,initialUrl:C.rawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,wr.w)(C=>{const M=C.currentBrowserUrl.toString(),R=!r.navigated||C.extractedUrl.toString()!==M||M!==C.currentUrlTree.toString();if(!R&&"reload"!==(C.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const q="";return this.events.next(new Bl(C.id,this.urlSerializer.serialize(C.rawUrl),q,0)),C.resolve(null),ws.E}if(r.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return(0,ft.of)(C).pipe((0,wr.w)(q=>{const ye=this.transitions?.getValue();return this.events.next(new Ul(q.id,this.urlSerializer.serialize(q.extractedUrl),q.source,q.restoredState)),ye!==this.transitions?.getValue()?ws.E:Promise.resolve(q)}),function BM(t,e,n,r,s,u){return(0,ur.z)(l=>function Qb(t,e,n,r,s,u,l="emptyOnly"){return new Jb(t,e,n,r,s,l,u).recognize()}(t,e,n,r,l.extractedUrl,s,u).pipe((0,mt.U)(({state:m,tree:I})=>({...l,targetSnapshot:m,urlAfterRedirects:I}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,Pn.b)(q=>{l.targetSnapshot=q.targetSnapshot,l.urlAfterRedirects=q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects};const ye=new t_(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(ye)}));if(R&&r.urlHandlingStrategy.shouldProcessUrl(C.currentRawUrl)){const{id:q,extractedUrl:ye,source:Ve,restoredState:Be,extras:ct}=C,At=new Ul(q,this.urlSerializer.serialize(ye),Ve,Be);this.events.next(At);const _t=cu(0,this.rootComponentType).snapshot;return this.currentTransition=l={...C,targetSnapshot:_t,urlAfterRedirects:ye,extras:{...ct,skipLocationChange:!1,replaceUrl:!1}},(0,ft.of)(l)}{const q="";return this.events.next(new Bl(C.id,this.urlSerializer.serialize(C.extractedUrl),q,1)),C.resolve(null),ws.E}}),(0,Pn.b)(C=>{const M=new bI(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}),(0,mt.U)(C=>(this.currentTransition=l={...C,guards:Am(C.targetSnapshot,C.currentSnapshot,this.rootContexts)},l)),function o_(t,e){return(0,ur.z)(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=n;return 0===l.length&&0===u.length?(0,ft.of)({...n,guardsResult:!0}):function xm(t,e,n,r){return(0,rn.D)(t).pipe((0,ur.z)(s=>function qb(t,e,n,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,ft.of)(!0);const l=u.map(m=>{const I=Ue(e)??s,C=No(m,I);return Tr(function SI(t){return t&&hu(t.canDeactivate)}(C)?C.canDeactivate(t,e,n,r):I.runInContext(()=>C(t,e,n,r))).pipe(Ds())});return(0,ft.of)(l).pipe(Yl())}(s.component,s.route,n,e,r)),Ds(s=>!0!==s,!0))}(l,r,s,t).pipe((0,ur.z)(m=>m&&function s_(t){return"boolean"==typeof t}(m)?function NI(t,e,n,r){return(0,rn.D)(e).pipe(Ks(s=>Ya(function Ep(t,e){return null!==t&&e&&e(new Em(t)),(0,ft.of)(!0)}(s.route.parent,r),function a_(t,e){return null!==t&&e&&e(new pc(t)),(0,ft.of)(!0)}(s.route,r),function RI(t,e,n){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function vp(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Qa(()=>{const m=l.guards.map(I=>{const C=Ue(l.node)??n,M=No(I,C);return Tr(function Mm(t){return t&&hu(t.canActivateChild)}(M)?M.canActivateChild(r,t):C.runInContext(()=>M(r,t))).pipe(Ds())});return(0,ft.of)(m).pipe(Yl())}));return(0,ft.of)(u).pipe(Yl())}(t,s.path,n),function zb(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ft.of)(!0);const s=r.map(u=>Qa(()=>{const l=Ue(e)??n,m=No(u,l);return Tr(function wp(t){return t&&hu(t.canActivate)}(m)?m.canActivate(e,t):l.runInContext(()=>m(e,t))).pipe(Ds())}));return(0,ft.of)(s).pipe(Yl())}(t,s.route,n))),Ds(s=>!0!==s,!0))}(r,u,t,e):(0,ft.of)(m)),(0,mt.U)(m=>({...n,guardsResult:m})))})}(this.environmentInjector,C=>this.events.next(C)),(0,Pn.b)(C=>{if(l.guardsResult=C.guardsResult,ga(C.guardsResult))throw Wl(0,C.guardsResult);const M=new TI(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.events.next(M)}),Ai(C=>!!C.guardsResult||(this.cancelNavigationTransition(C,"",3),!1)),h_(C=>{if(C.guards.canActivateChecks.length)return(0,ft.of)(C).pipe((0,Pn.b)(M=>{const R=new wm(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(R)}),(0,wr.w)(M=>{let R=!1;return(0,ft.of)(M).pipe(function jM(t,e){return(0,ur.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=n;if(!s.length)return(0,ft.of)(n);let u=0;return(0,rn.D)(s).pipe(Ks(l=>function $M(t,e,n,r){const s=t.routeConfig,u=t._resolve;return void 0!==s?.title&&!BI(s)&&(u[Cs]=s.title),function HM(t,e,n,r){const s=function UI(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===s.length)return(0,ft.of)({});const u={};return(0,rn.D)(s).pipe((0,ur.z)(l=>function nT(t,e,n,r){const s=Ue(e)??r,u=No(t,s);return Tr(u.resolve?u.resolve(e,n):s.runInContext(()=>u(e,n)))}(t[l],e,n,r).pipe(Ds(),(0,Pn.b)(m=>{u[l]=m}))),eu(1),function da(t){return(0,mt.U)(()=>t)}(u),ri(l=>Ip(l)?ws.E:$r(l)))}(u,t,e,r).pipe((0,mt.U)(l=>(t._resolvedData=l,t.data=Hr(t,n).resolve,s&&BI(s)&&(t.data[Cs]=s.title),null)))}(l.route,r,t,e)),(0,Pn.b)(()=>u++),eu(1),(0,ur.z)(l=>u===s.length?(0,ft.of)(n):ws.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,Pn.b)({next:()=>R=!0,complete:()=>{R||this.cancelNavigationTransition(M,"",2)}}))}),(0,Pn.b)(M=>{const R=new mh(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(R)}))}),h_(C=>{const M=R=>{const H=[];R.routeConfig?.loadComponent&&!R.routeConfig._loadedComponent&&H.push(this.configLoader.loadComponent(R.routeConfig).pipe((0,Pn.b)(q=>{R.component=q}),(0,mt.U)(()=>{})));for(const q of R.children)H.push(...M(q));return H};return xl(M(C.targetSnapshot.root)).pipe(oc(),Is(1))}),h_(()=>this.afterPreactivation()),(0,mt.U)(C=>{const M=function mp(t,e,n){const r=va(t,e._root,n?n._root:void 0);return new Mi(r,e)}(r.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return this.currentTransition=l={...C,targetRouterState:M},l}),(0,Pn.b)(()=>{this.events.next(new gc)}),((t,e,n,r)=>(0,mt.U)(s=>(new wn(e,s.targetRouterState,s.currentRouterState,n,r).activate(t),s)))(this.rootContexts,r.routeReuseStrategy,C=>this.events.next(C),this.inputBindingEnabled),Is(1),(0,Pn.b)({next:C=>{m=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new So(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects))),r.titleStrategy?.updateTitle(C.targetRouterState.snapshot),C.resolve(!0)},complete:()=>{m=!0}}),function fa(t){return(0,_r.e)((e,n)=>{(0,ic.Xf)(t).subscribe((0,Tn.x)(n,()=>n.complete(),uc.Z)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe((0,Pn.b)(C=>{throw C}))),ha(()=>{m||I||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),ri(C=>{if(I=!0,wh(C))this.events.next(new au(l.id,this.urlSerializer.serialize(l.extractedUrl),C.message,C.cancellationCode)),function Kl(t){return wh(t)&&ga(t.url)}(C)?this.events.next(new mc(C.url)):l.resolve(!1);else{this.events.next(new hc(l.id,this.urlSerializer.serialize(l.extractedUrl),C,l.targetSnapshot??void 0));try{l.resolve(r.errorHandler(C))}catch(M){l.reject(M)}}return ws.E}))}))}cancelNavigationTransition(r,s,u){const l=new au(r.id,this.urlSerializer.serialize(r.extractedUrl),s,u);this.events.next(l),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function f_(t){return t!==Vl}let p_=(()=>{var t;class e{buildTitle(r){let s,u=r.root;for(;void 0!==u;)s=this.getResolvedTitleForRoute(u)??s,u=u.children.find(l=>l.outlet===bt);return s}getResolvedTitleForRoute(r){return r.data[Cs]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(GM)},providedIn:"root"}),e})(),GM=(()=>{var t;class e extends p_{constructor(r){super(),this.title=r}updateTitle(r){const s=this.buildTitle(r);void 0!==s&&this.title.setTitle(s)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(vo))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(g_)},providedIn:"root"}),e})();class qM{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let g_=(()=>{var t;class e extends qM{}return(t=e).\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(t)))(s||t)}}(),t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ch=new h.OlP("",{providedIn:"root",factory:()=>({})});let ZM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(WM)},providedIn:"root"}),e})(),WM=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,s){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var bh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bh||{});function jI(t,e){t.events.pipe(Ai(n=>n instanceof So||n instanceof au||n instanceof hc||n instanceof Bl),(0,mt.U)(n=>n instanceof So||n instanceof Bl?bh.COMPLETE:n instanceof au&&(0===n.code||1===n.code)?bh.REDIRECTING:bh.FAILED),Ai(n=>n!==bh.REDIRECTING),Is(1)).subscribe(()=>{e()})}function rT(t){throw t}function iT(t,e,n){return e.parse("/")}const sT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$I={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new Si.x,this.options=(0,h.f3M)(Ch,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||rT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||iT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(ZM),this.routeReuseStrategy=(0,h.f3M)(zM),this.titleStrategy=(0,h.f3M)(p_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(Eh,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(Sp),this.urlSerializer=(0,h.f3M)(je),this.location=(0,h.f3M)(Ge),this.componentInputBindingEnabled=!!(0,h.f3M)(Zl,{optional:!0}),this.eventsSubscription=new Ja.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new b,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cu(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(s=>{try{const{currentTransition:u}=this.navigationTransitions;if(null===u)return void(Pm(s)&&this._events.next(s));if(s instanceof Ul)f_(u.source)&&(this.browserUrlTree=u.extractedUrl);else if(s instanceof Bl)this.rawUrlTree=u.rawUrl;else if(s instanceof t_){if("eager"===this.urlUpdateStrategy){if(!u.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);this.setBrowserUrl(l,u)}this.browserUrlTree=u.urlAfterRedirects}}else if(s instanceof gc)this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects);else if(s instanceof au)0!==s.code&&1!==s.code&&(this.navigated=!0),(3===s.code||2===s.code)&&this.restoreHistory(u);else if(s instanceof mc){const l=this.urlHandlingStrategy.merge(s.url,u.currentRawUrl),m={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||f_(u.source)};this.scheduleNavigation(l,Vl,null,m,{resolve:u.resolve,reject:u.reject,promise:u.promise})}s instanceof hc&&this.restoreHistory(u,!0),s instanceof So&&(this.navigated=!0),Pm(s)&&this._events.next(s)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vl,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const s="popstate"===r.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,s,r.state)},0)}))}navigateToSyncWithBrowser(r,s,u){const l={replaceUrl:!0},m=u?.navigationId?u:null;if(u){const C={...u};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(l.state=C)}const I=this.parseUrl(r);this.scheduleNavigation(I,s,m,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(B),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,s={}){const{relativeTo:u,queryParams:l,fragment:m,queryParamsHandling:I,preserveFragment:C}=s,M=C?this.currentUrlTree.fragment:m;let H,R=null;switch(I){case"merge":R={...this.currentUrlTree.queryParams,...l};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=l||null}null!==R&&(R=this.removeEmptyProps(R));try{H=ma(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),H=this.currentUrlTree.root}return su(H,r,R,M??null)}navigateByUrl(r,s={skipLocationChange:!1}){const u=ga(r)?r:this.parseUrl(r),l=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(l,Vl,null,s)}navigate(r,s={skipLocationChange:!1}){return function oT(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new h.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let s;try{s=this.urlSerializer.parse(r)}catch(u){s=this.malformedUriErrorHandler(u,this.urlSerializer,r)}return s}isActive(r,s){let u;if(u=!0===s?{...sT}:!1===s?{...$I}:s,ga(r))return hm(this.currentUrlTree,r,u);const l=this.parseUrl(r);return hm(this.currentUrlTree,l,u)}removeEmptyProps(r){return Object.keys(r).reduce((s,u)=>{const l=r[u];return null!=l&&(s[u]=l),s},{})}scheduleNavigation(r,s,u,l,m){if(this.disposed)return Promise.resolve(!1);let I,C,M;m?(I=m.resolve,C=m.reject,M=m.promise):M=new Promise((H,q)=>{I=H,C=q});const R=this.pendingTasks.add();return jI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(R))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:l,resolve:I,reject:C,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(H=>Promise.reject(H))}setBrowserUrl(r,s){const u=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(u)||s.extras.replaceUrl){const m={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(u,"",m)}else{const l={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(u,"",l)}}restoreHistory(r,s=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Pm(t){return!(t instanceof gc||t instanceof mc)}let Om=(()=>{var t;class e{constructor(r,s,u,l,m,I){this.router=r,this.route=s,this.tabIndexAttribute=u,this.renderer=l,this.el=m,this.locationStrategy=I,this.href=null,this.commands=null,this.onChanges=new Si.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const C=m.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===C||"area"===C,this.isAnchorElement?this.subscription=r.events.subscribe(M=>{M instanceof So&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,s,u,l,m){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||s||u||l||m||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,s){const u=this.renderer,l=this.el.nativeElement;null!==s?u.setAttribute(l,r,s):u.removeAttribute(l,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Ni),h.Y36(vc),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Le))},t.\u0275dir=h.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){1&r&&h.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&h.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]}),e})();class GI{}let uT=(()=>{var t;class e{constructor(r,s,u,l,m){this.router=r,this.injector=u,this.preloadingStrategy=l,this.loader=m}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(r=>r instanceof So),Ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const u=[];for(const l of s){l.providers&&!l._injector&&(l._injector=(0,h.MMx)(l.providers,r,`Route: ${l.path}`));const m=l._injector??r,I=l._loadedInjector??m;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&u.push(this.preloadConfig(m,l)),(l.children||l._loadedRoutes)&&u.push(this.processRoutes(I,l.children??l._loadedRoutes))}return(0,rn.D)(u).pipe((0,_s.J)())}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>{let u;u=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(r,s):(0,ft.of)(null);const l=u.pipe((0,ur.z)(m=>null===m?(0,ft.of)(void 0):(s._loadedRoutes=m.routes,s._loadedInjector=m.injector,this.processRoutes(m.injector??r,m.routes))));if(s.loadComponent&&!s._loadedComponent){const m=this.loader.loadComponent(s);return(0,rn.D)([l,m]).pipe((0,_s.J)())}return l})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Ni),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(GI),h.LFG(Tp))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const m_=new h.OlP("");let qI=(()=>{var t;class e{constructor(r,s,u,l,m={}){this.urlSerializer=r,this.transitions=s,this.viewportScroller=u,this.zone=l,this.options=m,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},m.scrollPositionRestoration=m.scrollPositionRestoration||"disabled",m.anchorScrolling=m.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ul?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof So?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Bl&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof fp&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fp(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){h.$Z()},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();function Ic(t,e){return{\u0275kind:t,\u0275providers:e}}function v_(){const t=(0,h.f3M)(h.zs3);return e=>{const n=t.get(h.z2F);if(e!==n.components[0])return;const r=t.get(Ni),s=t.get(__);1===t.get(Ap)&&r.initialNavigation(),t.get(w_,null,h.XFs.Optional)?.setUpPreloading(),t.get(m_,null,h.XFs.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const __=new h.OlP("",{factory:()=>new Si.x}),Ap=new h.OlP("",{providedIn:"root",factory:()=>1}),w_=new h.OlP("");function Lm(t){return Ic(0,[{provide:w_,useExisting:uT},{provide:GI,useExisting:t}])}const E_=new h.OlP("ROUTER_FORROOT_GUARD"),Xl=[Ge,{provide:je,useClass:$e},Ni,uu,{provide:vc,useFactory:function y_(t){return t.routerState.root},deps:[Ni]},Tp,[]];function hT(){return new h.PXZ("Router",Ni)}let Sh=(()=>{var t;class e{constructor(r){}static forRoot(r,s){return{ngModule:e,providers:[Xl,[],{provide:Eh,multi:!0,useValue:r},{provide:E_,useFactory:Um,deps:[[Ni,new h.FiY,new h.tp0]]},{provide:Ch,useValue:s||{}},s?.useHash?{provide:Le,useClass:xe}:{provide:Le,useClass:Ze},{provide:m_,useFactory:()=>{const t=(0,h.f3M)(nr),e=(0,h.f3M)(h.R0b),n=(0,h.f3M)(Ch),r=(0,h.f3M)(Sp),s=(0,h.f3M)(je);return n.scrollOffset&&t.setOffset(n.scrollOffset),new qI(s,r,t,e,n)}},s?.preloadingStrategy?Lm(s.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:hT},s?.initialNavigation?_a(s):[],s?.bindToComponentInputs?Ic(8,[ii,{provide:Zl,useExisting:ii}]).\u0275providers:[],[{provide:Mp,useFactory:v_},{provide:h.tb,multi:!0,useExisting:Mp}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Eh,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(E_,8))},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();function Um(t){return"guarded"}function _a(t){return["disabled"===t.initialNavigation?Ic(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Ni);return()=>{e.setUpLocationChangeListener()}}},{provide:Ap,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ic(2,[{provide:Ap,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const n=e.get(Re,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const s=e.get(Ni),u=e.get(__);jI(s,()=>{r(!0)}),e.get(Sp).afterPreactivation=()=>(r(!0),u.closed?(0,ft.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const Mp=new h.OlP("");let KI=(()=>{var t;class e{constructor(){this.themes=["retro","synthwave","cyberpunk","halloween"];let r=Number(localStorage.getItem("themeIndex"));r||(r=0),this.currThemeIndex=r}initDefaultTheme(){document.body.setAttribute("data-theme",this.themes[this.currThemeIndex])}toggleThemes(){this.currThemeIndex=(this.currThemeIndex+1)%this.themes.length,document.body.setAttribute("data-theme",this.themes[this.currThemeIndex]),localStorage.setItem("themeIndex",`${this.currThemeIndex}`)}get getCurrentThemeText(){return`Current Theme: ${this.themes[this.currThemeIndex]}`}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const b_=["*"];let YI=(()=>{var t;class e{constructor(r,s,u,l){this._router=r,this.location=s,this.titleService=u,this.themesService=l}ngOnInit(){this.links=["/education","/experience","","/projects","/contact"],this.pageTitles=["MohammedK's Education","MohammedK's Experience","MohammedK's Portfolio","MohammedK's Projects","MohammedK's Contact"];let r=this.links.indexOf(this.location.path());this.currStepNumber=-1==r?2:r,this.titleService.setTitle(this.pageTitles[this.currStepNumber]),this.maxStepNumber=this.links.length-1,this.themesService.initDefaultTheme()}handleKeyboardEvent(r){"ArrowLeft"===r.key?(this.currStepNumber>0&&(this.currStepNumber-=1),this._router.navigateByUrl(this.links[this.currStepNumber]),this.titleService.setTitle(this.pageTitles[this.currStepNumber])):"ArrowRight"==r.key&&(this.currStepNumber<this.maxStepNumber&&(this.currStepNumber+=1),this._router.navigateByUrl(this.links[this.currStepNumber]),this.titleService.setTitle(this.pageTitles[this.currStepNumber]))}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Ni),h.Y36(Ge),h.Y36(vo),h.Y36(KI))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-bottom-nav"]],hostBindings:function(r,s){1&r&&h.NdJ("keyup",function(l){return s.handleKeyboardEvent(l)},!1,h.Jf7)},ngContentSelectors:b_,decls:24,vars:5,consts:[[1,"flex","flex-col","w-full","bg-base-200","min-h-screen"],[1,"btm-nav","btm-nav-sm",2,"z-index","99"],["routerLink","/education",3,"ngClass","click"],["data-tip","Education",1,"tooltip"],[1,"bi","bi-mortarboard-fill"],["routerLink","/experience",3,"ngClass","click"],["data-tip","Experience",1,"tooltip"],[1,"bi","bi-cup-hot-fill"],["routerLink","/",3,"ngClass","click"],["data-tip","\u{1f3b5} Never gonna give you up \u{1f3b5}",1,"tooltip","tooltip-warning"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","stroke","currentColor",1,"h-5","w-5"],["id","SVGRepo_bgCarrier","stroke-width","2"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["opacity","0.5","d","M8.7838 21.9999C7.0986 21.2478 5.70665 20.0758 4.79175 18.5068","stroke","#1C274C","stroke-width","1.5","stroke-linecap","round"],["opacity","0.5","d","M14.8252 2.18595C16.5021 1.70882 18.2333 2.16305 19.4417 3.39724","stroke","#1C274C","stroke-width","1.5","stroke-linecap","round"],["d","M4.0106 8.36655L3.63846 7.71539L4.0106 8.36655ZM6.50218 8.86743L7.15007 8.48962L6.50218 8.86743ZM3.2028 10.7531L2.55491 11.1309H2.55491L3.2028 10.7531ZM7.69685 3.37253L8.34474 2.99472V2.99472L7.69685 3.37253ZM8.53873 4.81624L7.89085 5.19405L8.53873 4.81624ZM10.4165 9.52517C10.6252 9.88299 11.0844 10.0039 11.4422 9.79524C11.8 9.58659 11.9209 9.12736 11.7123 8.76955L10.4165 9.52517ZM7.53806 12.1327C7.74672 12.4905 8.20594 12.6114 8.56376 12.4027C8.92158 12.1941 9.0425 11.7349 8.83384 11.377L7.53806 12.1327ZM4.39747 5.25817L3.74958 5.63598L4.39747 5.25817ZM11.8381 2.9306L12.486 2.55279V2.55279L11.8381 2.9306ZM14.3638 7.26172L15.0117 6.88391L14.3638 7.26172ZM16.0475 10.1491L16.4197 10.8003C16.5934 10.701 16.7202 10.5365 16.772 10.3433C16.8238 10.15 16.7962 9.94413 16.6954 9.77132L16.0475 10.1491ZM17.6632 5.37608L17.0153 5.75389L17.6632 5.37608ZM20.1888 9.7072L20.8367 9.32939V9.32939L20.1888 9.7072ZM6.99128 17.2497L7.63917 16.8719L6.99128 17.2497ZM16.9576 19.2533L16.5854 18.6021L16.9576 19.2533ZM13.784 15.3C13.9927 15.6578 14.4519 15.7787 14.8097 15.5701C15.1676 15.3614 15.2885 14.9022 15.0798 14.5444L13.784 15.3ZM4.38275 9.0177C5.01642 8.65555 5.64023 8.87817 5.85429 9.24524L7.15007 8.48962C6.4342 7.26202 4.82698 7.03613 3.63846 7.71539L4.38275 9.0177ZM3.63846 7.71539C2.44761 8.39597 1.83532 9.8969 2.55491 11.1309L3.85068 10.3753C3.64035 10.0146 3.75139 9.37853 4.38275 9.0177L3.63846 7.71539ZM7.04896 3.75034L7.89085 5.19405L9.18662 4.43843L8.34474 2.99472L7.04896 3.75034ZM7.89085 5.19405L10.4165 9.52517L11.7123 8.76955L9.18662 4.43843L7.89085 5.19405ZM8.83384 11.377L7.15007 8.48962L5.85429 9.24524L7.53806 12.1327L8.83384 11.377ZM7.15007 8.48962L5.04535 4.88036L3.74958 5.63598L5.85429 9.24524L7.15007 8.48962ZM5.57742 3.5228C6.21109 3.16065 6.8349 3.38327 7.04896 3.75034L8.34474 2.99472C7.62887 1.76712 6.02165 1.54123 4.83313 2.22048L5.57742 3.5228ZM4.83313 2.22048C3.64228 2.90107 3.02999 4.40199 3.74958 5.63598L5.04535 4.88036C4.83502 4.51967 4.94606 3.88363 5.57742 3.5228L4.83313 2.22048ZM11.1902 3.30841L13.7159 7.63953L15.0117 6.88391L12.486 2.55279L11.1902 3.30841ZM13.7159 7.63953L15.3997 10.5269L16.6954 9.77132L15.0117 6.88391L13.7159 7.63953ZM9.71869 3.08087C10.3524 2.71872 10.9762 2.94134 11.1902 3.30841L12.486 2.55279C11.7701 1.32519 10.1629 1.0993 8.9744 1.77855L9.71869 3.08087ZM8.9744 1.77855C7.78355 2.45914 7.17126 3.96006 7.89085 5.19405L9.18662 4.43843C8.97629 4.07774 9.08733 3.4417 9.71869 3.08087L8.9744 1.77855ZM17.0153 5.75389L19.5409 10.085L20.8367 9.32939L18.311 4.99827L17.0153 5.75389ZM15.5437 5.52635C16.1774 5.1642 16.8012 5.38682 17.0153 5.75389L18.311 4.99827C17.5952 3.77068 15.988 3.54478 14.7994 4.22404L15.5437 5.52635ZM14.7994 4.22404C13.6086 4.90462 12.9963 6.40555 13.7159 7.63953L15.0117 6.88391C14.8013 6.52322 14.9124 5.88718 15.5437 5.52635L14.7994 4.22404ZM2.55491 11.1309L6.34339 17.6276L7.63917 16.8719L3.85068 10.3753L2.55491 11.1309ZM16.5854 18.6021C13.2185 20.5264 9.24811 19.631 7.63917 16.8719L6.34339 17.6276C8.45414 21.2472 13.4079 22.1458 17.3297 19.9045L16.5854 18.6021ZM19.5409 10.085C21.1461 12.8377 19.9501 16.6792 16.5854 18.6021L17.3297 19.9045C21.2539 17.6618 22.9512 12.9554 20.8367 9.32939L19.5409 10.085ZM15.0798 14.5444C14.4045 13.3863 14.8772 11.6818 16.4197 10.8003L15.6754 9.49797C13.5735 10.6993 12.5995 13.2687 13.784 15.3L15.0798 14.5444Z","fill","#1C274C"],["routerLink","/projects",3,"ngClass","click"],["data-tip","Projects",1,"tooltip"],[1,"bi","bi-terminal-fill"],["routerLink","/contact",3,"ngClass","click"],["data-tip","Say hi!!",1,"tooltip"],[1,"bi","bi-chat-left-heart-fill"]],template:function(r,s){1&r&&(h.F$t(),h.TgZ(0,"div",0),h.Hsn(1),h.qZA(),h.TgZ(2,"div",1)(3,"button",2),h.NdJ("click",function(){return s.currStepNumber=0}),h.TgZ(4,"div",3),h._UZ(5,"i",4),h.qZA()(),h.TgZ(6,"button",5),h.NdJ("click",function(){return s.currStepNumber=1}),h.TgZ(7,"div",6),h._UZ(8,"i",7),h.qZA()(),h.TgZ(9,"button",8),h.NdJ("click",function(){return s.currStepNumber=2}),h.TgZ(10,"div",9),h.O4$(),h.TgZ(11,"svg",10),h._UZ(12,"g",11)(13,"g",12),h.TgZ(14,"g",13),h._UZ(15,"path",14)(16,"path",15)(17,"path",16),h.qZA()()()(),h.kcU(),h.TgZ(18,"button",17),h.NdJ("click",function(){return s.currStepNumber=3}),h.TgZ(19,"div",18),h._UZ(20,"i",19),h.qZA()(),h.TgZ(21,"button",20),h.NdJ("click",function(){return s.currStepNumber=4}),h.TgZ(22,"div",21),h._UZ(23,"i",22),h.qZA()()()),2&r&&(h.xp6(3),h.Q6J("ngClass",0==s.currStepNumber?"active":""),h.xp6(3),h.Q6J("ngClass",1==s.currStepNumber?"active":""),h.xp6(3),h.Q6J("ngClass",2===s.currStepNumber?"active":""),h.xp6(9),h.Q6J("ngClass",3==s.currStepNumber?"active":""),h.xp6(3),h.Q6J("ngClass",4==s.currStepNumber?"active":""))},dependencies:[qo,Om]}),e})(),gT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"app-bottom-nav"),h._UZ(1,"router-outlet"),h.qZA())},dependencies:[gp,YI]}),e})();const QI=[];let T_=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[Sh.forRoot(QI),Sh]}),e})();const nx=[ln];let mT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[nx,ln]}),e})(),JI=(()=>{var t;class e{constructor(r){this.themesService=r}ngOnInit(){this.themesService.initDefaultTheme()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(KI))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-home-page"]],decls:46,vars:1,consts:[[1,"hero-content","flex-row","lg:flex-col"],[1,"w-36","rounded-lg","shadow-2xl","mask","mask-circle","mt-10"],["src","https://avatars.githubusercontent.com/u/19955265?v=4"],[1,"text-5xl","font-bold","text-center"],[1,"swap","swap-flip","text-5xl"],["emoji",""],["type","checkbox"],[1,"swap-on"],[1,"swap-off"],[1,"py-10","flex","flex-row","items-center","justify-center","space-x-4"],["data-tip","@mohammedabkhan",1,"tooltip","tooltip-open","tooltip-top"],["href","https://www.linkedin.com/in/mohammedabkhan/","target","_blank",1,"btn","btn-sm","badge","badge-lg","badge-accent"],[1,"bi","bi-linkedin"],["data-tip","@sleepytaco",1,"tooltip","tooltip-open","tooltip-bottom"],["href","https://github.com/sleepytaco","target","_blank",1,"btn","btn-sm","badge","badge-lg","badge-neutral"],[1,"bi","bi-github"],["href","https://cs.brown.edu/media/resumes/mkhan160.pdf","target","_blank",1,"btn","btn-sm","badge","badge-lg","badge-primary"],[1,"bi","bi-file-earmark-fill"],["data-tip","abukhan363@gmail.com",1,"tooltip","tooltip-open","tooltip-bottom"],[1,"btn","btn-sm","badge","badge-lg","badge-secondary"],[1,"bi","bi-envelope-at-fill"],[1,"btn","btn-sm","badge","badge-lg",3,"click"],[1,"bi","bi-arrow-left-right"],[1,"flex","flex-col","items-center","justify-center","mt-3"],[1,"kbd","kbd-sm"],[1,"flex","flex-row","items-center","justify-center","w-full","gap-2","mt-20"],[1,"flex","justify-center","gap-3"],[1,"kbd"]],template:function(r,s){if(1&r){const u=h.EpF();h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"img",2),h.qZA(),h.TgZ(3,"div")(4,"h1",3),h._uU(5,"Hi, I'm Mohammed! "),h.TgZ(6,"label",4,5),h._UZ(8,"input",6),h.TgZ(9,"div",7),h._uU(10,"\u2728"),h.qZA(),h.TgZ(11,"div",8),h._uU(12,"\u{1f917}"),h.qZA()()(),h.TgZ(13,"div",9)(14,"div",10)(15,"a",11),h._UZ(16,"i",12),h._uU(17," linkedin "),h.qZA()(),h.TgZ(18,"div",13)(19,"a",14),h._UZ(20,"i",15),h._uU(21," github "),h.qZA()(),h.TgZ(22,"a",16),h._UZ(23,"i",17),h._uU(24," resume "),h.qZA(),h.TgZ(25,"div",18)(26,"a",19),h._UZ(27,"i",20),h._uU(28," email "),h.qZA()(),h.TgZ(29,"a",21),h.NdJ("click",function(){h.CHM(u);const m=h.MAs(7);return s.themesService.toggleThemes(),h.KtG(m.click())}),h._UZ(30,"i",22),h._uU(31),h.qZA()(),h.TgZ(32,"div",23)(33,"p"),h._uU(34,"Press "),h.TgZ(35,"kbd",24),h._uU(36,"F"),h.qZA(),h._uU(37," for fireworks."),h.qZA()(),h.TgZ(38,"div",25)(39,"p"),h._uU(40,"Move around with"),h.qZA(),h.TgZ(41,"div",26)(42,"kbd",27),h._uU(43,"\u25c0\ufe0e"),h.qZA(),h.TgZ(44,"kbd",27),h._uU(45,"\u25b6\ufe0e"),h.qZA()()()()()}2&r&&(h.xp6(31),h.hij(" ",s.themesService.getCurrentThemeText," "))}}),e})(),rx=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-education-page"]],decls:47,vars:0,consts:[[1,"text-5xl","font-bold","text-center","pt-20"],[1,"grid","grid-cols-2","p-10","mb-16","gap-10"],[1,"flex","flex-col","h-auto","card","gap-4","glass","rounded-box","place-items-center","py-10"],[1,"indicator-item","indicator-center","badge","badge-success"],[1,"w-36","rounded-lg","shadow-2xl","mask","mask-circle"],["src","https://kgo.googleusercontent.com/profile_vrt_raw_bytes_1587515319_10192.png"],[1,"text-xl","font-bold","text-center"],[1,"text-sm","italic","text-center"],[1,"text-sm","text-center"],[1,"flex","flex-col","items-center","justify-center","mt-3","px-10","gap-3"],[1,"font-semibold"],[1,"grid","flex-grow","h-auto","card","gap-4","glass","rounded-box","place-items-center","py-10"],["src","https://brand.psu.edu/images/backgrounds/penn-state-shield.jpg"]],template:function(r,s){1&r&&(h.TgZ(0,"h1",0),h._uU(1,"Education"),h.qZA(),h.TgZ(2,"div",1)(3,"div",2)(4,"span",3),h._uU(5,"Expected May 2024"),h.qZA(),h.TgZ(6,"div",4),h._UZ(7,"img",5),h.qZA(),h.TgZ(8,"div")(9,"h1",6),h._uU(10,"Brown University"),h.qZA(),h.TgZ(11,"h1",7),h._uU(12,"MS in Computer Science (Aug 2022 - )"),h.qZA(),h.TgZ(13,"h1",8),h._uU(14,"GPA: 4.00"),h.qZA()(),h.TgZ(15,"div",9)(16,"ul")(17,"li"),h._uU(18,"\u2022 CS Master's student concentrating in AI and computer graphics"),h.qZA(),h.TgZ(19,"li"),h._uU(20,"\u2022 TA for CS1410: Artificial Intelligence"),h.qZA()(),h.TgZ(21,"p")(22,"span",10),h._uU(23,"Relevant Coursework:"),h.qZA(),h._uU(24," Artificial Intelligence, Computer Graphics, Deep Learning, Computer Vision, Computational Linguistics"),h.qZA()()(),h.TgZ(25,"div",11)(26,"div",4),h._UZ(27,"img",12),h.qZA(),h.TgZ(28,"div")(29,"h1",6),h._uU(30,"Penn State University - Main Campus"),h.qZA(),h.TgZ(31,"h1",7),h._uU(32,"BS in Computer Engineering (Aug 2018 - May 2022)"),h.qZA(),h.TgZ(33,"h1",8),h._uU(34,"GPA: 3.66"),h.qZA()(),h.TgZ(35,"div",9)(36,"ul")(37,"li"),h._uU(38,"\u2022 Mentor for the Engineering Orientation Network club during Fall 2020"),h.qZA(),h.TgZ(39,"li"),h._uU(40,"\u2022 Grader for CMPSC465: Data Structures and Algorithms course during Fall 2021"),h.qZA(),h.TgZ(41,"li"),h._uU(42,"\u2022 Dean\u2019s List: Fall 2019, Spring 2020, Fall 2020, Spring 2021, Fall 2021, Spring 2022"),h.qZA()(),h.TgZ(43,"p")(44,"span",10),h._uU(45,"Relevant Coursework:"),h.qZA(),h._uU(46," Data Structures and Algorithms, Software Design Methods, Operating Systems, Database Management Systems, Intro to Probability and Stochastic Processes for Engineering"),h.qZA()()()())}}),e})();function ix(t,e){1&t&&(h.TgZ(0,"span",13),h._uU(1,"Current"),h.qZA())}function Bm(t,e){if(1&t&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&t){const n=e.$implicit;h.xp6(1),h.hij(" \u2022 ",n," ")}}function yT(t,e){if(1&t&&(h.TgZ(0,"span",14),h._uU(1),h.qZA()),2&t){const n=e.$implicit;h.xp6(1),h.Oqu(n)}}function S_(t,e){if(1&t&&(h.TgZ(0,"div",4)(1,"div",5),h.YNc(2,ix,2,0,"span",6),h.TgZ(3,"h1",7),h._uU(4),h.qZA(),h.TgZ(5,"h1",8),h._uU(6),h.qZA(),h.TgZ(7,"h1",9),h._uU(8),h.qZA(),h.TgZ(9,"ul"),h.YNc(10,Bm,2,1,"li",10),h.qZA(),h._UZ(11,"br"),h.TgZ(12,"div",11),h.YNc(13,yT,2,1,"span",12),h.qZA()()()),2&t){const n=e.$implicit;h.xp6(2),h.Q6J("ngIf",n.ongoing),h.xp6(2),h.Oqu(n.title),h.xp6(2),h.Oqu(n.company),h.xp6(2),h.Oqu(n.duration),h.xp6(2),h.Q6J("ngForOf",n.desc),h.xp6(3),h.Q6J("ngForOf",n.skills)}}let A_=(()=>{var t;class e{constructor(){this.experiences=[{ongoing:!0,title:"Computer Science Teaching Assistant",company:"Brown University",duration:"Aug 2023 - Present",desc:["Teaching assistant for CS1410: Artificial Intelligence (Fall 2023)","Organized weekly office hours to help students with assignments involving search, hidden markov models, machine learning, and reinforcement learning.","Responsible for mentoring students on their final project which invovles coding an AI bot to beat a game."],skills:["Python","NumPy","Machine Learning","Reinforcement Learning","Teaching","Mentoring","Time Management"]},{ongoing:!1,title:"Django Backend Developer",company:"WeCodeucate.org",duration:"Aug 2021 - Aug 2023",desc:["Codeucate is a fast-paced non-profit that offers computer science courses geared towards the younger generation.","Helped develop, refactor and document their student portal that uses Django as the backend.","Deployed the Django backend on Azure and worked with technologies like SQL and Redis as per the requirements of the Codeucate student portal.","Collaborated with front-end developers to integrate user-facing elements with server-side logic, integrated features like instructor onboarding, referral system, certificate generator, and a payments system using the PayPal API."],skills:["Python","Django","JavaScript","Integrating APIs","Microsoft Azure","SQL","Redis","Collaboration","Time Management","Code Refactoring/Documentation"]},{ongoing:!1,title:"Android Tech Fellow",company:"CodePath.org",duration:"Jan 2022 - May 2022",desc:["Responsible for teaching CodePath's Android Development course at Penn State via weekly sessions where the students developed 4 Android apps throughout a span of 10 weeks.","Mentored and supported a class of 14 students by providing technical support during labs and assignments to ensure they are on track with the pace of the course.","Brought up student enrollment by marketing the course on-campus by reaching out to several Computer Science and Engineering professors and clubs."],skills:["Java","Android Development","Communication","Teaching","Facilitation","Classroom Management"]},{ongoing:!1,title:"Capstone Project Software Engineer",company:"Medtronic, Plc",duration:"Aug 2021 - Dec 2021",desc:["Penn State Computer Engineering capstone project sponsored by Medtronic, plc.","Collaborated with a team of four to build a custom motion capture Android app utilizing the XsensDOT SDK to establish real-time connections with up to three wireless sensors and display live arm angle calculations on the screen.","Worked closely with Medtronic, plc sponsors to optimize the app's performance, coordinating regular meetings to analyze and troubleshoot the raw data latency issues, resulting in a 50ms reduction in background data collection latency and improving the overall user experience."],skills:["Java","Android Development","Communication","Team Leadership"]},{ongoing:!1,title:"Computer Science Grader",company:"Penn State University - Main Campus",duration:"Aug 2021 - Dec 2021",desc:["Graded assignments covering data structures and algorithmic design for over 300 students."],skills:["Algorithms & Data Structures"]}]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-experience-page"]],decls:6,vars:1,consts:[[1,"text-5xl","font-bold","text-center","pt-20"],[1,"px-40","pt-10"],[1,"grid","grid-cols-2","px-10","py-10","gap-4","mb-16"],["class","card glass bg-base-100 shadow-xl",4,"ngFor","ngForOf"],[1,"card","glass","bg-base-100","shadow-xl"],[1,"card-body"],["class","indicator-item indicator-center badge badge-success",4,"ngIf"],[1,"text-lg","font-bold"],[1,"text-"],[1,"text-sm","italic"],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-2"],["class","badge badge-secondary badge-md",4,"ngFor","ngForOf"],[1,"indicator-item","indicator-center","badge","badge-success"],[1,"badge","badge-secondary","badge-md"]],template:function(r,s){1&r&&(h.TgZ(0,"h1",0),h._uU(1,"Experience"),h.qZA(),h.TgZ(2,"p",1),h._uU(3," Most of my past experiences have been teaching and developing software for non-profits. From these roles, I have picked up great enthusiasm for working collaboratively with team members, communicating effectively, and remaining focused on delivering high-quality results."),h.qZA(),h.TgZ(4,"div",2),h.YNc(5,S_,14,6,"div",3),h.qZA()),2&r&&(h.xp6(5),h.Q6J("ngForOf",s.experiences))},dependencies:[Zo,Us]}),e})(),jm=(()=>{var t;class e{constructor(r,s){this._renderer=r,this._elementRef=s,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(r,s){this._renderer.setProperty(this._elementRef.nativeElement,r,s)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.Qsj),h.Y36(h.SBq))},t.\u0275dir=h.lG2({type:t}),e})(),gu=(()=>{var t;class e extends jm{}return(t=e).\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(t)))(s||t)}}(),t.\u0275dir=h.lG2({type:t,features:[h.qOj]}),e})();const ts=new h.OlP("NgValueAccessor"),M_={provide:ts,useExisting:(0,h.Gpc)(()=>N_),multi:!0},Hm=new h.OlP("CompositionEventMode");let N_=(()=>{var t;class e extends jm{constructor(r,s,u){super(r,s),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x_(){const t=k()?k().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Hm,8))},t.\u0275dir=h.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&h.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[h._Bn([M_]),h.qOj]}),e})();function wa(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function Mh(t){return null!=t&&"number"==typeof t.length}const Ri=new h.OlP("NgValidators"),mu=new h.OlP("NgAsyncValidators"),vT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gm{static min(e){return function zm(t){return e=>{if(wa(e.value)||wa(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function R_(t){return e=>{if(wa(e.value)||wa(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function XI(t){return wa(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function eE(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function _T(t){return wa(t.value)||vT.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function tE(t){return e=>wa(e.value)||!Mh(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Np(t){return e=>Mh(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function qm(t){if(!t)return Zm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(wa(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:n,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return O_(e)}static composeAsync(e){return oE(e)}}function Zm(t){return null}function P_(t){return null!=t}function Wm(t){return(0,h.QGY)(t)?(0,rn.D)(t):t}function Rp(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function nE(t,e){return e.map(n=>n(t))}function iE(t){return t.map(e=>function rE(t){return!t.validate}(e)?e:n=>e.validate(n))}function O_(t){if(!t)return null;const e=t.filter(P_);return 0==e.length?null:function(n){return Rp(nE(n,e))}}function sE(t){return null!=t?O_(iE(t)):null}function oE(t){if(!t)return null;const e=t.filter(P_);return 0==e.length?null:function(n){return function Ah(...t){const e=(0,Do.jO)(t),{args:n,keys:r}=Ka(t),s=new ni.y(u=>{const{length:l}=n;if(!l)return void u.complete();const m=new Array(l);let I=l,C=l;for(let M=0;M<l;M++){let R=!1;(0,ic.Xf)(n[M]).subscribe((0,Tn.x)(u,H=>{R||(R=!0,C--),m[M]=H},()=>I--,void 0,()=>{(!I||!R)&&(C||u.next(r?rc(r,m):m),u.complete())}))}});return e?s.pipe(Eo(e)):s}(nE(n,e).map(Wm)).pipe((0,mt.U)(Rp))}}function xh(t){return null!=t?oE(iE(t)):null}function aE(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function td(t){return t._rawValidators}function Nh(t){return t._rawAsyncValidators}function k_(t){return t?Array.isArray(t)?t:[t]:[]}function Pp(t,e){return Array.isArray(t)?t.includes(e):t===e}function uE(t,e){const n=k_(e);return k_(t).forEach(s=>{Pp(n,s)||n.push(s)}),n}function cE(t,e){return k_(e).filter(n=>!Pp(t,n))}class lE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Pi extends lE{get formDirective(){return null}get path(){return null}}class yu extends lE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Km{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let F_=(()=>{var t;class e extends Km{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(yu,2))},t.\u0275dir=h.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[h.qOj]}),e})(),L_=(()=>{var t;class e extends Km{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Pi,10))},t.\u0275dir=h.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[h.qOj]}),e})();const kp="VALID",U_="INVALID",Zn="PENDING",Fp="DISABLED";function Lp(t){return(Vp(t)?t.validators:t)||null}function B_(t,e){return(Vp(e)?e.asyncValidators:t)||null}function Vp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function $_(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[n])throw new h.vHH(1001,"")}function gE(t,e,n){t._forEachChild((r,s)=>{if(void 0===n[s])throw new h.vHH(1002,"")})}class Up{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kp}get invalid(){return this.status===U_}get pending(){return this.status==Zn}get disabled(){return this.status===Fp}get enabled(){return this.status!==Fp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cE(e,this._rawAsyncValidators))}hasValidator(e){return Pp(this._rawValidators,e)}hasAsyncValidator(e){return Pp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Fp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kp||this.status===Zn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fp:kp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zn,this._hasOwnPendingAsyncValidator=!0;const n=Wm(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,s)=>r&&r._find(s),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Fp:this.errors?U_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zn)?Zn:this._anyControlsHaveStatus(U_)?U_:kp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function bT(t){return Array.isArray(t)?sE(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function j_(t){return Array.isArray(t)?xh(t):t||null}(this._rawAsyncValidators)}}class Rh extends Up{constructor(e,n,r){super(Lp(n),B_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){gE(this,0,e),Object.keys(e).forEach(r=>{$_(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((s,u)=>{r=n(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class H_ extends Rh{}const ns=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>_u}),_u="always";function jp(t,e,n=_u){Jm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function z_(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Gp(t,e)})}(t,e),function mE(t,e){const n=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Oh(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Gp(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Hp(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function $p(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),G_(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ph(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Jm(t,e){const n=td(t);null!==e.validator?t.setValidators(aE(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Nh(t);null!==e.asyncValidator?t.setAsyncValidators(aE(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const s=()=>t.updateValueAndValidity();Ph(e._rawValidators,s),Ph(e._rawAsyncValidators,s)}function G_(t,e){let n=!1;if(null!==t){if(null!==e.validator){const s=td(t);if(Array.isArray(s)&&s.length>0){const u=s.filter(l=>l!==e.validator);u.length!==s.length&&(n=!0,t.setValidators(u))}}if(null!==e.asyncValidator){const s=Nh(t);if(Array.isArray(s)&&s.length>0){const u=s.filter(l=>l!==e.asyncValidator);u.length!==s.length&&(n=!0,t.setAsyncValidators(u))}}}const r=()=>{};return Ph(e._rawValidators,r),Ph(e._rawAsyncValidators,r),n}function Gp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function K_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Y_(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Pt=class extends Up{constructor(e=null,n,r){super(Lp(n),B_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Y_(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){K_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){K_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Y_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let qp=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=h.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),EE=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();const X_=new h.OlP("NgModelWithFormControlWarning"),kT={provide:Pi,useExisting:(0,h.Gpc)(()=>iy)};let iy=(()=>{var t;class e extends Pi{constructor(r,s,u){super(),this.callSetDisabledState=u,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(r),this._setAsyncValidators(s)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(G_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const s=this.form.get(r.path);return jp(s,r,this.callSetDisabledState),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),s}getControl(r){return this.form.get(r.path)}removeControl(r){$p(r.control||null,r,!1),function yE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,s){this.form.get(r.path).setValue(s)}onSubmit(r){return this.submitted=!0,function xT(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const s=r.control,u=this.form.get(r.path);s!==u&&($p(s||null,r),(t=>t instanceof Pt)(u)&&(jp(u,r,this.callSetDisabledState),r.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const s=this.form.get(r.path);(function q_(t,e){Jm(t,e)})(s,r),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const s=this.form.get(r.path);s&&function ST(t,e){return G_(t,e)}(s,r)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jm(this.form,this),this._oldForm&&G_(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Ri,10),h.Y36(mu,10),h.Y36(ns,8))},t.\u0275dir=h.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,s){1&r&&h.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([kT]),h.qOj,h.TTD]}),e})();const AE={provide:yu,useExisting:(0,h.Gpc)(()=>n0)};let n0=(()=>{var t;class e extends yu{set isDisabled(r){}constructor(r,s,u,l,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.name=null,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(s),this._setAsyncValidators(u),this.valueAccessor=function Xm(t,e){if(!e)return null;let n,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===N_?n=u:function lx(t){return Object.getPrototypeOf(t.constructor)===gu}(u)?r=u:s=u}),s||r||n||null}(0,l)}ngOnChanges(r){this._added||this._setUpControl(),function W_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function Qm(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(h.Y36(Pi,13),h.Y36(Ri,10),h.Y36(mu,10),h.Y36(ts,10),h.Y36(X_,8))},t.\u0275dir=h.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([AE]),h.qOj,h.TTD]}),e})(),ly=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[EE]}),e})();class Fh extends Up{constructor(e,n,r){super(Lp(n),B_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let s=this._adjustIndex(e);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),n&&(this.controls.splice(s,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){gE(this,0,e),e.forEach((r,s)=>{$_(this,!1,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function GT(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let zT=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,s=null){const u=this._reduceControls(r);let l={};return GT(s)?l=s:null!==s&&(l.validators=s.validator,l.asyncValidators=s.asyncValidator),new Rh(u,l)}record(r,s=null){const u=this._reduceControls(r);return new H_(u,s)}control(r,s,u){let l={};return this.useNonNullable?(GT(s)?l=s:(l.validators=s,l.asyncValidators=u),new Pt(r,{...l,nonNullable:!0})):new Pt(r,s,u)}array(r,s,u){const l=r.map(m=>this._createControl(m));return new Fh(l,s,u)}_reduceControls(r){const s={};return Object.keys(r).forEach(u=>{s[u]=this._createControl(r[u])}),s}_createControl(r){return r instanceof Pt||r instanceof Up?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),UE=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:X_,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:ns,useValue:r.callSetDisabledState??_u}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[ly]}),e})();function BE(t,e){if(1&t&&(h.TgZ(0,"span",11),h._uU(1),h.qZA()),2&t){const n=e.$implicit;h.xp6(1),h.Oqu(n)}}function Zp(t,e){if(1&t){const n=h.EpF();h.TgZ(0,"div",5)(1,"div",6),h.NdJ("click",function(){const u=h.CHM(n).index,l=h.oxw();return h.KtG(l.showModalByID(u))}),h.TgZ(2,"h1",7),h._uU(3),h.qZA(),h.TgZ(4,"h1",8),h._uU(5),h.qZA(),h.TgZ(6,"ul"),h._uU(7),h.qZA(),h._UZ(8,"br"),h.TgZ(9,"div",9),h.YNc(10,BE,2,1,"span",10),h.qZA()()()}if(2&t){const n=e.$implicit;h.xp6(3),h.Oqu(n.title),h.xp6(2),h.Oqu(n.subtitle),h.xp6(2),h.hij(" ",n.desc," "),h.xp6(3),h.Q6J("ngForOf",n.skills)}}function WT(t,e){if(1&t&&(h.TgZ(0,"a",27),h._uU(1," View "),h._UZ(2,"i",28),h.qZA()),2&t){const n=h.oxw().$implicit;h.s9C("href",n.projectUrl,h.LSH)}}function jE(t,e){if(1&t&&(h.TgZ(0,"span",11),h._uU(1),h.qZA()),2&t){const n=e.$implicit;h.xp6(1),h.Oqu(n)}}function $E(t,e){if(1&t&&h._UZ(0,"img",29),2&t){const n=h.oxw().$implicit;h.s9C("src",n.imgUrl,h.LSH)}}function KT(t,e){if(1&t){const n=h.EpF();h.TgZ(0,"dialog",12)(1,"div",13)(2,"form",14)(3,"button",15),h.NdJ("click",function(){const u=h.CHM(n).index,l=h.oxw();return h.KtG(l.hideModalByID(u))}),h._UZ(4,"i",16),h.qZA()(),h.TgZ(5,"h1",17),h._uU(6),h.YNc(7,WT,3,1,"a",18),h.qZA(),h.TgZ(8,"h1",19),h._uU(9),h.qZA(),h.TgZ(10,"p",20),h._uU(11,"Skills gained/utilized:"),h.qZA(),h.TgZ(12,"div",21),h.YNc(13,jE,2,1,"span",10),h.qZA(),h.TgZ(14,"div",22),h.YNc(15,$E,1,1,"img",23),h._UZ(16,"div",24),h.qZA(),h.TgZ(17,"div",25)(18,"button",26),h.NdJ("click",function(){const u=h.CHM(n).index,l=h.oxw();return h.KtG(l.hideModalByID(u))}),h._uU(19,"Close"),h.qZA()()()()}if(2&t){const n=e.$implicit;h.MGl("id","modal_",e.index,""),h.xp6(6),h.hij(" ",n.title," "),h.xp6(1),h.Q6J("ngIf",n.projectUrl),h.xp6(2),h.Oqu(n.subtitle),h.xp6(4),h.Q6J("ngForOf",n.skills),h.xp6(2),h.Q6J("ngIf",n.imgUrl),h.xp6(1),h.Q6J("innerHTML",n.modalDesc,h.oJD)}}let YT=(()=>{var t;class e{constructor(){this.portfolio={title:"Portfolio Website",subtitle:"Personal Project",desc:"You're currently viewing it! \u{1f525}",skills:["AngularJS","TypeScript","Firebase","RxJS","DaisyUI","TailwindCSS","ParticlesJS","UI/UX Design"],imgUrl:"",projectUrl:"",modalDesc:"This is my first time working with AngularJS and I love how structured making projects with it feels! \n    It reminded me of working with views and templates in Django. I use Firestore to store the happy cats count found in the /contact page. I display the\n    happy cats count in real-time. I had fun wrapping my head around RxJS concepts like observables and how it streamlines working with async data. \n    Also, I had a blast desgining the UI for this website. I hope you liked it!"},this.untube={title:"UnTube: A YouTube Playlist Manager",subtitle:"Personal Project",desc:"A YouTube playlist manager web app that makes it easy to manage playlists via bulk operations that are not directly provided by YouTube.",skills:["Python","Django","Bootstrap5","HTMX.js","AJAX","YouTube API","Charts.js","UI/UX Design"],imgUrl:"assets/imgs/UnTube_dashboard.gif",projectUrl:"https://github.com/sleepytaco/UnTube",modalDesc:"I built UnTube to help users manage multiple YouTube playlists with ease. Users can log in with their Google account to import their playlists into UnTube. They can perform operations like: bulk delete videos from playlists, address duplicate or unavailable videos, bulk copy/move videos from one playlist to another, and view charts and statistics for playlists. My goal was to create a user-friendly and efficient tool that streamlines the process of managing YouTube playlists. Through building UnTube, I deepened my expertise in web app development, API integration, and user experience design.\n    "},this.christmas3Dscene={title:"3D Indoor Christmas Scene",subtitle:"Computer Graphics Final Project @ Brown University",desc:"A 3D indoor christmas scene involving Shadow Mapping, Parallax Mapping for the walls, and Particle Effects for the fireplace.",skills:["C++","Qt Framework","Computer Graphics","Shadow Mapping","OpenGL"],imgUrl:"assets/imgs/Brown_CG_Christmas3DScene.png",projectUrl:"https://github.com/yuki-mohammed-jazeps/CS1230-Final-Project",modalDesc:"Our team built a chirstmas themed scene for our computer graphics final project. Our team implemented the following features:\n    Parallax Mapping (Jazeps Medina Tretmanis),\n    Shadow Mapping (Mohammed Khan),\n    Particle Effects (Yuki Hayashita)\n    "},this.textureSynthCNN={title:"Texture Synthesis CNN",subtitle:"Deep Learning Final Project @ Brown University",desc:"Implemented a purely CNN-based architecture in PyTorch for synthesizing variations of an input texture exemplar from a white noise image.",skills:["Python","PyTorch","Deep Learning","Image Synthesis","CNNs"],imgUrl:"assets/imgs/CS1470_TextureSynthCNN_POSTER.png",projectUrl:"https://github.com/sleepytaco/TextureSynthesisCNN",modalDesc:"The goal behind the Texture Synthesis model is to generate a variation of a texture input by iteratively sampling patterns from it. In each iteration, the model tries to ensure the generated texture image and the provided texture image are closely correlated. I helped build the model using PyTorch. Setting up the model involved running two instances of a custom VGG19 model in conjunction while keeping track of the feature outputs produced at each layer. Then, these feature outputs are used to calculate the loss and eventually generate a texture output."},this.cppRaytracer={title:"C++ Raytracer",subtitle:"Computer Graphics Course Project @ Brown University",desc:"Built a Raytracer in C++ that includes a pipeline for ray-object intersections and supports lighting effects, shadows, recursive reflections, and texture mapping.",skills:["C++","Qt Framework","OOP"],imgUrl:"assets/imgs/Brown_CG_Raytracer.png",projectUrl:"",modalDesc:'Working with C++ always forces me to think in a very object-oriented way. The raytracing algorithm involves setting up objects for the camera, scene, rays, and image textures. \n    A scene consists of implicitly defined shapes/objects with unique properties describing their material. Then, for every pixel in the resulting rendered image, the algorithm "shoots" a ray \n    through that pixel into the scene and checks for ray-object intersections. If there is an intersection, an RGB color value is calculated using the Phong illumination model. More realistic\n     renderings were made by adding support for shadows and reflections by recursively tracing a ray into the scene from every object the ray intersects.'},this.bleachedCoralCNN={title:"Dolphin Fins Siamese Network & Bleached Coral Classifier",subtitle:"Computer Vision Final Project @ Brown University",desc:"Went through the whole ML project life cycle to solve two problems: uniquely identify dolphins based on their fins and classify if a coral is bleached.",skills:["Python","TensorFlow","Deep Learning","Siamese Network","CNNs","Google Colab"],imgUrl:"assets/imgs/Brown_CV_FinalProjPoster.png",projectUrl:"",modalDesc:"The first problem we tried to solve was a multi-class classification problem that involved identifying dolphins by their fins. It turns out that you can uniquely identify a dolphin by tracing its fin - just as you can uniquely identify a human by their thumbprint. One of our teammates had access to an image dataset of dolphin fin images each with their unique identifiers. I helped pre-process the dataset by filtering unwanted images, converting it into a TensorFlow dataset, splitting the dataset into learning, test, and cross-validation sets, and finally doing some data normalization + augmentation before passing it to our models. We experimented with a CNN model and a Siamese Network with various hyperparameters. Our main bottleneck was that our dataset only had about 1,500 usable dolphin fin images. Hence, our model consistently overfitted our dataset and underperformed on the validation set. <br><br> Next, we moved on to a different data set, this time a Coral image dataset from Kaggle. Our task with this new dataset was to classify if a coral was bleached or not. We were able to set up a CNN model that made a classification with 70% accuracy. Our team further experimented with various other ML algorithms like SVMs, random forests, KNNs, and logistic regression to try and fit the Corals dataset and compare their performances."},this.cameraProjAndTriang={title:"Camera Projection & Triangulation in MATLAB",subtitle:"Computer Vision Project @ Penn State University",desc:"Used MATLAB to perform camera projection and triangulation using data of a subject performing Tai Chi.",skills:["MATLAB","Computer Vision","Linear Algebra"],imgUrl:"assets/imgs/PSU_CMPEN454_Skeleton3D.png",projectUrl:"",modalDesc:"Used MATLAB to implement forward and inverse camera projection with two camera views using 3D body joints data for a set of motion capture frames of a subject performing Tai Chi exercises, along with triangulation to recover original 3D points from matching projected 2D image points."},this.aniQuote={title:"Anime Quote Generator",subtitle:"Personal Project",desc:"A random anime quote generator with quotes powered by Animechan API.",skills:["Python","Django","HTMX.js","SQLite","UI/UX Design"],imgUrl:"assets/imgs/AniQuote_walkthrough.gif",projectUrl:"https://github.com/sleepytaco/AniQuote",modalDesc:"A web app to retreive and display random quotes from Animechan API. Stored retrieved quotes in an SQLite database and kept tally of the number\n    of times that quote has been seen and liked. A list of top 3 most liked quotes is displayed at the bottom."},this.xkcdTextMode={title:"XKCD Text Mode",subtitle:"Android University Final Project",desc:"Android app that uses the XKCD API to retrieve and view a comic's transcript and image.",skills:["Java","Android Development","REST APIs","Parse Backend"],imgUrl:"assets/imgs/XKCD_walkthrough.gif",projectUrl:"https://github.com/sleepytaco/XKCDTextMode",modalDesc:"This is a XKCD comic viewer that uses the XKCD API to retrieve and view a comic's transcript and image. \n    Uses Parse as a backend to store the user's favorite comics and to track the number of unique comics they open."},this.imageManager={title:"Image Manager GUI",subtitle:"Personal Project",desc:"A simple python GUI app made with Tkinter which can rename, delete, and move images on Windows.",skills:["Python","Tkinter GUI","Windows"],imgUrl:"assets/imgs/ImageManagerApp.png",projectUrl:"https://github.com/sleepytaco/ImageManager",modalDesc:"A simple GUI application that can view images from a folder and manage them. Made with python3 using tkinter. \n    The user can use arrow keys to navigate through the images inside a selected folder. One of the tricky parts of this project was renaming\n    an image. When performing the rename operation, or even moving an image from one folder to another, I had to make sure\n    to add a number at the end if an image file with similar name already exists in the same folder or destination folder.\n    "},this.quickGif={title:"Quick GIF Maker",subtitle:"Personal Project",desc:"A simple web app made with Django that can create sharable GIFs.",skills:["Python","Django","Pillow","Bootstrap4","JQuery","AJAX"],imgUrl:"assets/imgs/QuickGifApp.gif",projectUrl:"https://github.com/sleepytaco/QuickGIF",modalDesc:"A simple web app made with Django that can create sharable GIFs. Utilizes the Pillow library to create the gifs. Created gifs are stored with a unique identifier which is used to create a sharable link. Implemented the client side with Bootstrap4 and made jQuery AJAX calls to retrieve generated GIF links from the server.\n    "},this.mangaDownloader={title:"Manga Downloader",subtitle:"Personal Project",desc:"A script to download manga from mangakakalot.com and manganelo.com using browser automation with selenium.",skills:["Python","Web Scraping","Browser Automation","Selenium"],imgUrl:"https://github.com/sleepytaco/manga_downloader/raw/master/walkthrough.gif?raw=true",projectUrl:"https://github.com/sleepytaco/manga_downloader",modalDesc:"Downloads manga using browser automation with selenium. Can download from the following sites: https://mangakakalot.com/, https://manganelo.com/manga/, https://m.manganelo.com.\n    "},this.projects=[this.portfolio,this.untube,this.textureSynthCNN,this.bleachedCoralCNN,this.cppRaytracer,this.christmas3Dscene,this.cameraProjAndTriang,this.xkcdTextMode,this.quickGif,this.aniQuote,this.imageManager]}showModalByID(r){document.getElementById(`modal_${r}`)?.classList.add("modal-open")}hideModalByID(r){document.getElementById(`modal_${r}`)?.classList.remove("modal-open")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-projects-page"]],decls:7,vars:2,consts:[[1,"text-5xl","font-bold","text-center","pt-20"],[1,"px-40","pt-10"],[1,"grid","grid-cols-3","px-10","py-10","gap-4","mb-16"],["class","card glass bg-base-100 shadow-xl",4,"ngFor","ngForOf"],["class","modal",3,"id",4,"ngFor","ngForOf"],[1,"card","glass","bg-base-100","shadow-xl"],[1,"card-body",3,"click"],[1,"text-lg","font-bold"],[1,"text-sm","italic"],[1,"flex","flex-wrap","gap-2"],["class","badge badge-primary badge-md",4,"ngFor","ngForOf"],[1,"badge","badge-primary","badge-md"],[1,"modal",3,"id"],[1,"modal-box","w-11/12","max-w-5xl"],["method","dialog"],[1,"btn","btn-lg","btn-circle","btn-ghost","absolute","right-2","top-2",3,"click"],[1,"bi","bi-x-lg"],[1,"font-bold","text-lg","text-center"],["role","button","class","btn btn-xs mx-1","target","_blank",3,"href",4,"ngIf"],[1,"text-sm","italic","text-center"],[1,"text-sm","text-center","pt-2"],[1,"flex","flex-wrap","gap-2","justify-center","pt-1"],[1,"py-5","px-12","flex","flex-col","gap-5"],["class","w-full h-96 object-scale-down",3,"src",4,"ngIf"],[3,"innerHTML"],[1,"flex","flex-row","justify-center"],[1,"btn","btn-neutral","btn-outline",3,"click"],["role","button","target","_blank",1,"btn","btn-xs","mx-1",3,"href"],[1,"bi","bi-box-arrow-up-right"],[1,"w-full","h-96","object-scale-down",3,"src"]],template:function(r,s){1&r&&(h.TgZ(0,"h1",0),h._uU(1,"Projects I've Worked On"),h.qZA(),h.TgZ(2,"p",1),h._uU(3," With every project, I've come to gain an appreciation for writing clean, documentable code. I love spending time designing pleasing and intuitive UIs for my projects. I have a lot of backend web development experience and very recently picked up reactive frontend JS frameworks. Apart from web development, I gained quite a bit of experience building Machine Learning projects over the past year. I'm well versed with the entire ML project life cycle - from data pre-processing to setting up models to training and evaluating models - in TensorFlow and PyTorch. Click on a card for project images and more details!\n"),h.qZA(),h.TgZ(4,"div",2),h.YNc(5,Zp,11,4,"div",3),h.YNc(6,KT,20,7,"dialog",4),h.qZA()),2&r&&(h.xp6(5),h.Q6J("ngForOf",s.projects),h.xp6(1),h.Q6J("ngForOf",s.projects))},dependencies:[Zo,Us,qp,L_]}),e})();var ge=P(5861),Ar=P(8186);P(3182);var et,Dc=P(534),Kp=P(4537),Cc=P(7879),un=P(9058),GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qs={},Lh=Lh||{},Lt=GE||self;function dy(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function id(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Js="closure_uid_"+(1e9*Math.random()>>>0),Yp=0;function Oi(t,e,n){return t.call.apply(t.bind,arguments)}function sd(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Gr(t,e,n){return(Gr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oi:sd).apply(null,arguments)}function Gi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[s].apply(r,l)}}function xs(){this.s=this.s,this.o=this.o}xs.prototype.s=!1,xs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function tS(t){Object.prototype.hasOwnProperty.call(t,Js)&&t[Js]||(t[Js]=++Yp)}(this)},xs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const od=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bc(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ad(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(dy(r)){const s=t.length||0,u=r.length||0;t.length=s+u;for(let l=0;l<u;l++)t[s+l]=r[l]}else t.push(r)}}function Ir(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ir.prototype.h=function(){this.defaultPrevented=!0};var Uh=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Lt.addEventListener("test",()=>{},e),Lt.removeEventListener("test",()=>{},e)}catch{}return t}();function Ea(t){return/^[\s\xa0]*$/.test(t)}function Iu(){var t=Lt.navigator;return t&&(t=t.userAgent)?t:""}function Oo(t){return-1!=Iu().indexOf(t)}function hy(t){return hy[" "](t),t}hy[" "]=function(){};var y0,t,qE=Oo("Opera"),ud=Oo("Trident")||Oo("MSIE"),g0=Oo("Edge"),fy=g0||ud,m0=Oo("Gecko")&&!(-1!=Iu().toLowerCase().indexOf("webkit")&&!Oo("Edge"))&&!(Oo("Trident")||Oo("MSIE"))&&!Oo("Edge"),ZE=-1!=Iu().toLowerCase().indexOf("webkit")&&!Oo("Edge");function py(){var t=Lt.document;return t?t.documentMode:void 0}e:{var WE="",KE=(t=Iu(),m0?/rv:([^\);]+)(\)|;)/.exec(t):g0?/Edge\/([\d\.]+)/.exec(t):ud?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ZE?/WebKit\/(\S+)/.exec(t):qE?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(KE&&(WE=KE?KE[1]:""),ud){var v0=py();if(null!=v0&&v0>parseFloat(WE)){y0=String(v0);break e}}y0=WE}var rS=Lt.document&&ud&&(py()||parseInt(y0,10))||void 0;function gy(t,e){if(Ir.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(m0){e:{try{hy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:iS[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gy.$.h.call(this)}}Mr(gy,Ir);var iS={2:"touch",3:"pen",4:"mouse"};gy.prototype.h=function(){gy.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qp="closure_listenable_"+(1e6*Math.random()|0),sS=0;function w0(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++sS,this.fa=this.ia=!1}function Tc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Jp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function I0(t){const e={};for(const n in t)e[n]=t[n];return e}const Bh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E0(t,e){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)t[n]=r[n];for(let u=0;u<Bh.length;u++)n=Bh[u],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yy(t){this.src=t,this.g={},this.h=0}function cd(t,e){var n=e.type;if(n in t.g){var u,r=t.g[n],s=od(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Tc(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function D0(t,e,n,r){for(var s=0;s<t.length;++s){var u=t[s];if(!u.fa&&u.listener==e&&u.capture==!!n&&u.la==r)return s}return-1}yy.prototype.add=function(t,e,n,r,s){var u=t.toString();(t=this.g[u])||(t=this.g[u]=[],this.h++);var l=D0(t,e,r,s);return-1<l?(e=t[l],n||(e.ia=!1)):((e=new w0(e,this.src,u,!!r,s)).ia=n,t.push(e)),e};var C0="closure_lm_"+(1e6*Math.random()|0),b0={};function YE(t,e,n,r,s){if(r&&r.once)return Xp(t,e,n,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)YE(t,e[u],n,r,s);return null}return n=M0(n),t&&t[Qp]?t.O(e,n,id(r)?!!r.capture:!!r,s):vy(t,e,n,!1,r,s)}function vy(t,e,n,r,s,u){if(!e)throw Error("Invalid event type");var l=id(s)?!!s.capture:!!s,m=A0(t);if(m||(t[C0]=m=new yy(t)),(n=m.add(e,n,r,l,u)).proxy)return n;if(r=function _y(){const e=S0;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Uh||(s=l),void 0===s&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(QE(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Xp(t,e,n,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Xp(t,e[u],n,r,s);return null}return n=M0(n),t&&t[Qp]?t.P(e,n,id(r)?!!r.capture:!!r,s):vy(t,e,n,!0,r,s)}function oS(t,e,n,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)oS(t,e[u],n,r,s);else r=id(r)?!!r.capture:!!r,n=M0(n),t&&t[Qp]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=D0(u=t.g[e],n,r,s))&&(Tc(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete t.g[e],t.h--))):t&&(t=A0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=D0(e,n,r,s)),(n=-1<t?e[t]:null)&&T0(n))}function T0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Qp])cd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=A0(e))?(cd(n,t),0==n.h&&(n.src=null,e[C0]=null)):Tc(t)}}}function QE(t){return t in b0?b0[t]:b0[t]="on"+t}function S0(t,e){if(t.fa)t=!0;else{e=new gy(e,this);var n=t.listener,r=t.la||t.src;t.ia&&T0(t),t=n.call(r,e)}return t}function A0(t){return(t=t[C0])instanceof yy?t:null}var wy="__closure_events_fn_"+(1e9*Math.random()>>>0);function M0(t){return"function"==typeof t?t:(t[wy]||(t[wy]=function(e){return t.handleEvent(e)}),t[wy])}function si(){xs.call(this),this.i=new yy(this),this.S=this,this.J=null}function oi(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ir(e,t);else if(e instanceof Ir)e.target=e.target||t;else{var s=e;E0(e=new Ir(r,t),s)}if(s=!0,n)for(var u=n.length-1;0<=u;u--){var l=e.g=n[u];s=eg(l,r,!0,e)&&s}if(s=eg(l=e.g=t,r,!0,e)&&s,s=eg(l,r,!1,e)&&s,n)for(u=0;u<n.length;u++)s=eg(l=e.g=n[u],r,!1,e)&&s}function eg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==n){var m=l.listener,I=l.la||l.src;l.ia&&cd(t.i,l),s=!1!==m.call(I,r)&&s}}return s&&!r.defaultPrevented}Mr(si,xs),si.prototype[Qp]=!0,si.prototype.removeEventListener=function(t,e,n,r){oS(this,t,e,n,r)},si.prototype.N=function(){if(si.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tc(n[r]);delete t.g[e],t.h--}}this.J=null},si.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},si.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Iy=Lt.JSON.stringify;function uS(){var t=tg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var x0=new class aS{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N0,t=>t.reset());class N0{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function R0(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function lS(t){Lt.setTimeout(()=>{throw t},0)}let Sc,Ac=!1,tg=new class cS{constructor(){this.h=this.g=null}add(e,n){const r=x0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},P0=()=>{const t=Lt.Promise.resolve(void 0);Sc=()=>{t.then(dS)}};var dS=()=>{for(var t;t=uS();){try{t.h.call(t.g)}catch(n){lS(n)}var e=x0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ac=!1};function Ey(t,e){si.call(this),this.h=t||1,this.g=e||Lt,this.j=Gr(this.qb,this),this.l=Date.now()}function O0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function ng(t,e,n){if("function"==typeof t)n&&(t=Gr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gr(t.handleEvent,t)}return 2147483647<Number(e)?-1:Lt.setTimeout(t,e||0)}function Dy(t){t.g=ng(()=>{t.g=null,t.i&&(t.i=!1,Dy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mr(Ey,si),(et=Ey.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oi(this,"tick"),this.ga&&(O0(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){Ey.$.N.call(this),O0(this),delete this.g};class JE extends xs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dy(this)}N(){super.N(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jh(t){xs.call(this),this.h=t,this.g={}}Mr(jh,xs);var XE=[];function eD(t,e,n,r){Array.isArray(n)||(n&&(XE[0]=n.toString()),n=XE);for(var s=0;s<n.length;s++){var u=YE(e,n[s],r||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function k0(t){Jp(t.g,function(e,n){this.g.hasOwnProperty(n)&&T0(e)},t),t.g={}}function $h(){this.g=!0}function ld(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return Iy(n)}catch{return e}}(t,n)+(r?" "+r:"")})}jh.prototype.N=function(){jh.$.N.call(this),k0(this)},jh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$h.prototype.Ea=function(){this.g=!1},$h.prototype.info=function(){};var Mc={},L0=null;function rg(){return L0=L0||new si}function rD(t){Ir.call(this,Mc.Ta,t)}function Hh(t){const e=rg();oi(e,new rD(e))}function V0(t,e){Ir.call(this,Mc.STAT_EVENT,t),this.stat=e}function mi(t){const e=rg();oi(e,new V0(e,t))}function ig(t,e){Ir.call(this,Mc.Ua,t),this.size=e}function Gh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){t()},e)}Mc.Ta="serverreachability",Mr(rD,Ir),Mc.STAT_EVENT="statevent",Mr(V0,Ir),Mc.Ua="timingevent",Mr(ig,Ir);var sg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},U0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cy(){}function j0(){}Cy.prototype.h=null;var Da,zh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function by(){Ir.call(this,"d")}function qh(){Ir.call(this,"c")}function Ty(){}function og(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new jh(this),this.P=dd,this.V=new Ey(t=fy?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Sy}function Sy(){this.i=null,this.g="",this.h=!1}Mr(by,Ir),Mr(qh,Ir),Mr(Ty,Cy),Ty.prototype.g=function(){return new XMLHttpRequest},Ty.prototype.i=function(){return{}},Da=new Ty;var dd=45e3,ag={},Ay={};function ug(t,e,n){t.L=1,t.v=lg(Eu(e)),t.s=n,t.S=!0,fS(t,null)}function fS(t,e){t.G=Date.now(),Zh(t),t.A=Eu(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),dD(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Sy,t.g=TS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new JE(Gr(t.Pa,t,t.g),t.O)),eD(t.U,t.g,"readystatechange",t.nb),e=t.I?I0(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Hh(),function tD(t,e,n,r,s,u){t.info(function(){if(t.g)if(u)for(var l="",m=u.split("&"),I=0;I<m.length;I++){var C=m[I].split("=");if(1<C.length){var M=C[0];C=C[1];var R=M.split("_");l=2<=R.length&&"type"==R[1]?l+(M+"=")+C+"&":l+(M+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+n+"\n"+l})}(t.j,t.u,t.A,t.m,t.W,t.s)}function pS(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function iD(t,e,n){let s,r=!0;for(;!t.J&&t.C<n.length;){if(s=gS(t,n),s==Ay){4==e&&(t.o=4,mi(14),r=!1),ld(t.j,t.m,null,"[Incomplete Response]");break}if(s==ag){t.o=4,mi(15),ld(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ld(t.j,t.m,s,null),$0(t,s)}pS(t)&&s!=Ay&&s!=ag&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,mi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ky(e),e.M=!0,mi(11))):(ld(t.j,t.m,n,"[Invalid Chunked Response]"),hd(t),Wh(t))}function gS(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ay:(n=Number(e.substring(n,r)),isNaN(n)?ag:(r+=1)+n>e.length?Ay:(e=e.slice(r,r+n),t.C=r+n,e))}function Zh(t){t.Y=Date.now()+t.P,sD(t,t.P)}function sD(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Gh(Gr(t.lb,t),e)}function cr(t){t.B&&(Lt.clearTimeout(t.B),t.B=null)}function Wh(t){0==t.l.H||t.J||rw(t.l,t)}function hd(t){cr(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,O0(t.V),k0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||xy(n.i,t)))if(!t.K&&xy(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;gg(n),Py(n)}Oy(n),mi(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=Gh(Gr(n.ib,n),6e3));if(1>=Z0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else gd(n,11)}else if((t.K||n.g==t)&&gg(n),!Ea(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(n.V=C[0],C=C[1],2==n.H)if("c"==C[0]){n.K=C[1],n.pa=C[2];const M=C[3];null!=M&&(n.ra=M,n.l.info("VER="+n.ra));const R=C[4];null!=R&&(n.Ga=R,n.l.info("SVER="+n.Ga));const H=C[5];null!=H&&"number"==typeof H&&0<H&&(n.L=r=1.5*H,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const q=t.g;if(q){const ye=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var u=r.i;u.g||-1==ye.indexOf("spdy")&&-1==ye.indexOf("quic")&&-1==ye.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Qh(u,u.h),u.h=null))}if(r.F){const Ve=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Ve&&(r.Da=Ve,Gn(r.I,r.F,Ve))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var l=t;if((r=n).wa=md(r,r.J?r.pa:null,r.Y),l.K){fD(r.i,l);var m=l,I=r.L;I&&m.setTimeout(I),m.B&&(cr(m),Zh(m)),r.g=l}else tw(r);0<n.j.length&&pg(n)}else"stop"!=C[0]&&"close"!=C[0]||gd(n,7);else 3==n.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?gd(n,7):J0(n):"noop"!=C[0]&&n.h&&n.h.Aa(C),n.A=0)}Hh()}catch{}}function H0(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(dy(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function mS(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(dy(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function oD(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(dy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],n&&n[u],t)}(et=og.prototype).setTimeout=function(t){this.P=t},et.nb=function(t){t=t.target;const e=this.M;e&&3==ba(t)?e.l():this.Pa(t)},et.Pa=function(t){try{if(t==this.g)e:{const M=ba(this.g);var e=this.g.Ia();if(this.g.da(),!(3>M)&&(3!=M||fy||this.g&&(this.h.h||this.g.ja()||ID(this.g)))){this.J||4!=M||7==e||Hh(),cr(this);var n=this.g.da();this.ca=n;t:if(pS(this)){var r=ID(this.g);t="";var s=r.length,u=4==ba(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hd(this),Wh(this);var l="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==n,function F0(t,e,n,r,s,u,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,M,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,I=this.g;if((m=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ea(m)){var C=m;break t}}C=null}if(!(n=C)){this.i=!1,this.o=3,mi(12),hd(this),Wh(this);break e}ld(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$0(this,n)}this.S?(iD(this,M,l),fy&&this.i&&3==M&&(eD(this.U,this.V,"tick",this.mb),this.V.start())):(ld(this.j,this.m,l,null),$0(this,l)),4==M&&hd(this),this.i&&!this.J&&(4==M?rw(this.l,this):(this.i=!1,Zh(this)))}else(function bS(t){const e={};t=(t.g&&2<=ba(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ea(t[r]))continue;var n=R0(t[r]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const u=e[s]||[];e[s]=u,u.push(n)}!function my(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<l.indexOf("Unknown SID")?(this.o=3,mi(12)):(this.o=0,mi(13)),hd(this),Wh(this)}}}catch{}},et.mb=function(){if(this.g){var t=ba(this.g),e=this.g.ja();this.C<e.length&&(cr(this),iD(this,t,e),this.i&&4!=t&&Zh(this))}},et.cancel=function(){this.J=!0,hd(this)},et.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function hS(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Hh(),mi(17)),hd(this),this.o=2,Wh(this)):sD(this,this.Y-t)};var G0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fd){this.h=t.h,cg(this,t.j),this.s=t.s,this.g=t.g,My(this,t.m),this.l=t.l;var e=t.i,n=new Yh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),z0(this,n),this.o=t.o}else t&&(e=String(t).match(G0))?(this.h=!1,cg(this,e[1]||"",!0),this.s=pd(e[2]||""),this.g=pd(e[3]||"",!0),My(this,e[4]),this.l=pd(e[5]||"",!0),z0(this,e[6]||"",!0),this.o=pd(e[7]||"")):(this.h=!1,this.i=new Yh(null,this.h))}function Eu(t){return new fd(t)}function cg(t,e,n){t.j=n?pd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function My(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function z0(t,e,n){e instanceof Yh?(t.i=e,function dg(t,e){e&&!t.j&&(xc(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(cD(this,r),dD(this,s,n))},t)),t.j=e}(t.i,t.h)):(n||(e=rs(e,Fo)),t.i=new Yh(e,t.h))}function Gn(t,e,n){t.i.set(e,n)}function lg(t){return Gn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rs(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yS),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yS(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}fd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rs(e,aD,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(rs(e,aD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(rs(n,"/"==n.charAt(0)?ko:Ca,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rs(n,uD)),t.join("")};var aD=/[#\/\?@]/g,Ca=/[#\?:]/g,ko=/[#\?]/g,Fo=/[#\?@]/g,uD=/#/g;function Yh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xc(t){t.g||(t.g=new Map,t.h=0,t.i&&function Kh(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var u=t[n].substring(0,r);s=t[n].substring(r+1)}else u=t[n];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function cD(t,e){xc(t),e=Nc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lD(t,e){return xc(t),e=Nc(t,e),t.g.has(e)}function dD(t,e,n){cD(t,e),0<n.length&&(t.i=null,t.g.set(Nc(t,e),bc(n)),t.h+=n.length)}function Nc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function q0(t){this.l=t||_S,t=Lt.PerformanceNavigationTiming?0<(t=Lt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ka&&Lt.g.Ka()&&Lt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=Yh.prototype).add=function(t,e){xc(this),this.i=null,t=Nc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},et.forEach=function(t,e){xc(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)},et.ta=function(){xc(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let u=0;u<s.length;u++)n.push(e[r])}return n},et.Z=function(t){xc(this);let e=[];if("string"==typeof t)lD(this,t)&&(e=e.concat(this.g.get(Nc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},et.set=function(t,e){return xc(this),this.i=null,lD(this,t=Nc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},et.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),t.push(s)}}return this.i=t.join("&")};var _S=10;function hD(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Z0(t){return t.h?1:t.g?t.g.size:0}function xy(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Qh(t,e){t.g?t.g.add(e):t.h=e}function fD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function W0(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return bc(t.i)}q0.prototype.cancel=function(){if(this.i=W0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var pD=class{stringify(t){return Lt.JSON.stringify(t,void 0)}parse(t){return Lt.JSON.parse(t,void 0)}};function gD(){this.g=new pD}function wS(t,e,n){const r=n||"";try{H0(t,function(s,u){let l=s;id(s)&&(l=Iy(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Jh(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Rc(t){this.l=t.fc||null,this.j=t.ob||!1}function hg(t,e){si.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ny,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mr(Rc,Cy),Rc.prototype.g=function(){return new hg(this.l,this.j)},Rc.prototype.i=function(t){return function(){return t}}({}),Mr(hg,si);var Ny=0;function K0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Xh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ef(t)}function ef(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(et=hg.prototype).open=function(t,e){if(this.readyState!=Ny)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ef(this)},et.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Lt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xh(this)),this.readyState=Ny},et.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ef(this)),this.g&&(this.readyState=3,ef(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Lt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xh(this):ef(this),3==this.readyState&&K0(this)}},et.Za=function(t){this.g&&(this.response=this.responseText=t,Xh(this))},et.Ya=function(t){this.g&&(this.response=t,Xh(this))},et.ka=function(){this.g&&Xh(this)},et.setRequestHeader=function(t,e){this.v.append(t,e)},et.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var mD=Lt.JSON.parse;function Wn(t){si.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Y0,this.L=this.M=!1}Mr(Wn,si);var Y0="",ES=/^https?$/i,DS=["POST","PUT"];function yD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vD(t),Ry(t)}function vD(t){t.F||(t.F=!0,oi(t,"complete"),oi(t,"error"))}function _D(t){if(t.h&&typeof Lh<"u"&&(!t.C[1]||4!=ba(t)||2!=t.da()))if(t.v&&4==ba(t))ng(t.La,0,t);else if(oi(t,"readystatechange"),4==ba(t)){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===l){var s=String(t.I).match(G0)[1]||null;!s&&Lt.self&&Lt.self.location&&(s=Lt.self.location.protocol.slice(0,-1)),r=!ES.test(s?s.toLowerCase():"")}n=r}if(n)oi(t,"complete"),oi(t,"success");else{t.m=6;try{var u=2<ba(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.da()+"]",vD(t)}}finally{Ry(t)}}}function Ry(t,e){if(t.g){wD(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||oi(t,"ready");try{n.onreadystatechange=r}catch{}}}function wD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Lt.clearTimeout(t.A),t.A=null)}function ba(t){return t.g?t.g.readyState:0}function ID(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Y0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ED(t){let e="";return Jp(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Q0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ED(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Gn(t,e,n))}function fg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function DD(t){this.Ga=0,this.j=[],this.l=new $h,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fg("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fg("baseRetryDelayMs",5e3,t),this.hb=fg("retryDelaySeedMs",1e4,t),this.eb=fg("forwardChannelMaxRetries",2,t),this.xa=fg("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new q0(t&&t.concurrentRequestLimit),this.Ja=new gD,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function J0(t){if(CD(t),3==t.H){var e=t.W++,n=Eu(t.I);if(Gn(n,"SID",t.K),Gn(n,"RID",e),Gn(n,"TYPE","terminate"),tf(t,n),(e=new og(t,t.l,e)).L=2,e.v=lg(Eu(n)),n=!1,Lt.navigator&&Lt.navigator.sendBeacon)try{n=Lt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Lt.Image&&((new Image).src=e.v,n=!0),n||(e.g=TS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zh(e)}TD(t)}function Py(t){t.g&&(ky(t),t.g.cancel(),t.g=null)}function CD(t){Py(t),t.u&&(Lt.clearTimeout(t.u),t.u=null),gg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Lt.clearTimeout(t.m),t.m=null)}function pg(t){if(!hD(t.i)&&!t.m){t.m=!0;var e=t.Na;Sc||P0(),Ac||(Sc(),Ac=!0),tg.add(e,t),t.C=0}}function X0(t,e){var n;n=e?e.m:t.W++;const r=Eu(t.I);Gn(r,"SID",t.K),Gn(r,"RID",n),Gn(r,"AID",t.V),tf(t,r),t.o&&t.s&&Q0(r,t.o,t.s),n=new og(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ew(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qh(t.i,n),ug(n,r,e)}function tf(t,e){t.na&&Jp(t.na,function(n,r){Gn(e,r,n)}),t.h&&H0({},function(n,r){Gn(e,r,n)})}function ew(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Gr(t.h.Va,t.h,t):null;e:{var s=t.j;let u=-1;for(;;){const l=["count="+n];-1==u?0<n?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let I=0;I<n;I++){let C=s[I].g;const M=s[I].map;if(C-=u,0>C)u=Math.max(0,s[I].g-100),m=!1;else try{wS(M,l,"req"+C+"_")}catch{r&&r(M)}}if(m){r=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tw(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sc||P0(),Ac||(Sc(),Ac=!0),tg.add(e,t),t.A=0}}function Oy(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Gh(Gr(t.Ma,t),Pc(t,t.A)),t.A++,0))}function ky(t){null!=t.B&&(Lt.clearTimeout(t.B),t.B=null)}function nw(t){t.g=new og(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Eu(t.wa);Gn(e,"RID","rpc"),Gn(e,"SID",t.K),Gn(e,"AID",t.V),Gn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Gn(e,"TO",t.qa),Gn(e,"TYPE","xmlhttp"),tf(t,e),t.o&&t.s&&Q0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=lg(Eu(e)),n.s=null,n.S=!0,fS(n,t)}function gg(t){null!=t.v&&(Lt.clearTimeout(t.v),t.v=null)}function rw(t,e){var n=null;if(t.g==e){gg(t),ky(t),t.g=null;var r=2}else{if(!xy(t.i,e))return;n=e.F,fD(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;oi(r=rg(),new ig(r,n)),pg(t)}else tw(t);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function bD(t,e){return!(Z0(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Gh(Gr(t.Na,t,e),Pc(t,t.C)),t.C++,0)))}(t,e)||2==r&&Oy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:gd(t,5);break;case 4:gd(t,10);break;case 3:gd(t,6);break;default:gd(t,2)}}function Pc(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gd(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Gr(t.pb,t);n||(n=new fd("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||cg(n,"https"),lg(n)),function IS(t,e){const n=new $h;if(Lt.Image){const r=new Image;r.onload=Gi(Jh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gi(Jh,n,r,"TestLoadImage: error",!1,e),r.onabort=Gi(Jh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gi(Jh,n,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else mi(2);t.H=0,t.h&&t.h.za(e),TD(t),CD(t)}function TD(t){if(t.H=0,t.ma=[],t.h){const e=W0(t.i);(0!=e.length||0!=t.j.length)&&(ad(t.ma,e),ad(t.ma,t.j),t.i.i.length=0,bc(t.j),t.j.length=0),t.h.ya()}}function md(t,e,n){var r=n instanceof fd?Eu(n):new fd(n);if(""!=r.g)e&&(r.g=e+"."+r.g),My(r,r.m);else{var s=Lt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new fd(null);r&&cg(u,r),e&&(u.g=e),s&&My(u,s),n&&(u.l=n),r=u}return e=t.Da,(n=t.F)&&e&&Gn(r,n,e),Gn(r,"VER",t.ra),tf(t,r),r}function TS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wn(n&&t.Ha&&!t.va?new Rc({ob:!0}):t.va)).Oa(t.J),e}function Fy(){}function iw(){if(ud&&!(10<=Number(rS)))throw Error("Environmental error: no available transport.")}function is(t,e){si.call(this),this.g=new DD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ea(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ea(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Lo(this)}function sw(t){by.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function SS(){qh.call(this),this.status=1}function Lo(t){this.g=t}function Vo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ow(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var u=t.g[3],l=(e=t.g[0])+(u^(n=t.g[1])&((s=t.g[2])^u))+r[0]+3614090360&4294967295;l=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=n+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(n^u&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^n&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(n^u&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^n&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(n^u&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^n&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(n^u&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^s&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^n&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^s&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^n&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^s&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^n&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^s&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^n&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(n^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=n+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=n+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=n+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^n)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=n+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(n|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~n))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=n+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(n|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~n))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=n+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(n|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~n))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=n+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=n+((l=e+(s^(n|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~n))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+u&4294967295}function Jt(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var u=0|t[s];r&&u==e||(n[s]=u,r=!1)}this.g=n}(et=Wn.prototype).Oa=function(t){this.M=t},et.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Da.g(),this.C=function B0(t){return t.h||(t.h=t.i())}(this.u?this.u:Da),this.g.onreadystatechange=Gr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(u){return void yD(this,u)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())n.set(u,r.get(u))}r=Array.from(n.keys()).find(u=>"content-type"==u.toLowerCase()),s=Lt.FormData&&t instanceof Lt.FormData,!(0<=od(DS,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of n)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wD(this),0<this.B&&((this.L=function CS(t){return ud&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gr(this.ua,this)):this.A=ng(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){yD(this,u)}},et.ua=function(){typeof Lh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oi(this,"timeout"),this.abort(8))},et.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,oi(this,"complete"),oi(this,"abort"),Ry(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ry(this,!0)),Wn.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?_D(this):this.kb())},et.kb=function(){_D(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<ba(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mD(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=DD.prototype).ra=8,et.H=1,et.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new og(this,this.l,t);let u=this.s;if(this.U&&(u?(u=I0(u),E0(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ew(this,s,e),Gn(n=Eu(this.I),"RID",t),Gn(n,"CVER",22),this.F&&Gn(n,"X-HTTP-Session-Id",this.F),tf(this,n),u&&(this.O?e="headers="+encodeURIComponent(String(ED(u)))+"&"+e:this.o&&Q0(n,this.o,u)),Qh(this.i,s),this.bb&&Gn(n,"TYPE","init"),this.P?(Gn(n,"$req",e),Gn(n,"SID","null"),s.aa=!0,ug(s,n,null)):ug(s,n,e),this.H=2}}else 3==this.H&&(t?X0(this,t):0==this.j.length||hD(this.i)||X0(this))},et.Ma=function(){if(this.u=null,nw(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Gh(Gr(this.jb,this),t)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mi(10),Py(this),nw(this))},et.ib=function(){null!=this.v&&(this.v=null,Py(this),Oy(this),mi(19))},et.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mi(2)):(this.l.info("Failed to ping google.com"),mi(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=Fy.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},iw.prototype.g=function(t,e){return new is(t,e)},Mr(is,si),is.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=md(t,null,t.Y),pg(t)},is.prototype.close=function(){J0(this.g)},is.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Iy(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&pg(e)},is.prototype.N=function(){this.g.h=null,delete this.j,J0(this.g),delete this.g,is.$.N.call(this)},Mr(sw,by),Mr(SS,qh),Mr(Lo,Fy),Lo.prototype.Ba=function(){oi(this.g,"a")},Lo.prototype.Aa=function(t){oi(this.g,new sw(t))},Lo.prototype.za=function(t){oi(this.g,new SS)},Lo.prototype.ya=function(){oi(this.g,"b")},Mr(Vo,function AS(){this.blockSize=-1}),Vo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vo.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=n;)ow(this,t,u),u+=this.blockSize;if("string"==typeof t){for(;u<e;)if(r[s++]=t.charCodeAt(u++),s==this.blockSize){ow(this,r),s=0;break}}else for(;u<e;)if(r[s++]=t[u++],s==this.blockSize){ow(this,r),s=0;break}}this.h=s,this.i+=e},Vo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var MS={};function nf(t){return-128<=t&&128>t?function zE(t,e){var n=MS;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Jt([0|e],0>e?-1:0)}):new Jt([0|t],0>t?-1:0)}function Ns(t){if(isNaN(t)||!isFinite(t))return yd;if(0>t)return ai(Ns(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=SD;return new Jt(e,0)}var SD=4294967296,yd=nf(0),Ly=nf(1),AD=nf(16777216);function Ta(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Rs(t){return-1==t.h}function ai(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Jt(n,~t.h).add(Ly)}function mg(t,e){return t.add(ai(e))}function Vy(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function yg(t,e){this.g=t,this.h=e}function Uy(t,e){if(Ta(e))throw Error("division by zero");if(Ta(t))return new yg(yd,yd);if(Rs(t))return e=Uy(ai(t),e),new yg(ai(e.g),ai(e.h));if(Rs(e))return e=Uy(t,ai(e)),new yg(ai(e.g),e.h);if(30<t.g.length){if(Rs(t)||Rs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ly,r=e;0>=r.X(t);)n=rf(n),r=rf(r);var s=sf(n,1),u=sf(r,1);for(r=sf(r,2),n=sf(n,2);!Ta(r);){var l=u.add(r);0>=l.X(t)&&(s=s.add(n),u=l),r=sf(r,1),n=sf(n,1)}return e=mg(t,s.R(e)),new yg(s,e)}for(s=yd;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Ns(n)).R(e);Rs(l)||0<l.X(t);)l=(u=Ns(n-=r)).R(e);Ta(u)&&(u=Ly),s=s.add(u),t=mg(t,l)}return new yg(s,t)}function rf(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Jt(n,t.h)}function sf(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],u=0;u<r;u++)s[u]=0<e?t.D(u+n)>>>e|t.D(u+n+1)<<32-e:t.D(u+n);return new Jt(s,t.h)}(et=Jt.prototype).ea=function(){if(Rs(this))return-ai(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:SD+r)*e,e*=SD}return t},et.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ta(this))return"0";if(Rs(this))return"-"+ai(this).toString(t);for(var e=Ns(Math.pow(t,6)),n=this,r="";;){var s=Uy(n,e).g,u=((0<(n=mg(n,s.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ta(n=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},et.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},et.X=function(t){return Rs(t=mg(this,t))?-1:Ta(t)?0:1},et.abs=function(){return Rs(this)?ai(this):this},et.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&t.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=l>>>16,n[s]=(l&=65535)<<16|(u&=65535)}return new Jt(n,-2147483648&n[n.length-1]?-1:0)},et.R=function(t){if(Ta(this)||Ta(t))return yd;if(Rs(this))return Rs(t)?ai(this).R(ai(t)):ai(ai(this).R(t));if(Rs(t))return ai(this.R(ai(t)));if(0>this.X(AD)&&0>t.X(AD))return Ns(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),m=t.D(s)>>>16,I=65535&t.D(s);n[2*r+2*s]+=l*I,Vy(n,2*r+2*s),n[2*r+2*s+1]+=u*I,Vy(n,2*r+2*s+1),n[2*r+2*s+1]+=l*m,Vy(n,2*r+2*s+1),n[2*r+2*s+2]+=u*m,Vy(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Jt(n,0)},et.gb=function(t){return Uy(this,t).h},et.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Jt(n,this.h&t.h)},et.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Jt(n,this.h|t.h)},et.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Jt(n,this.h^t.h)},iw.prototype.createWebChannel=iw.prototype.g,is.prototype.send=is.prototype.u,is.prototype.open=is.prototype.m,is.prototype.close=is.prototype.close,sg.NO_ERROR=0,sg.TIMEOUT=8,sg.HTTP_ERROR=6,U0.COMPLETE="complete",j0.EventType=zh,zh.OPEN="a",zh.CLOSE="b",zh.ERROR="c",zh.MESSAGE="d",si.prototype.listen=si.prototype.O,Wn.prototype.listenOnce=Wn.prototype.P,Wn.prototype.getLastError=Wn.prototype.Sa,Wn.prototype.getLastErrorCode=Wn.prototype.Ia,Wn.prototype.getStatus=Wn.prototype.da,Wn.prototype.getResponseJson=Wn.prototype.Wa,Wn.prototype.getResponseText=Wn.prototype.ja,Wn.prototype.send=Wn.prototype.ha,Wn.prototype.setWithCredentials=Wn.prototype.Oa,Vo.prototype.digest=Vo.prototype.l,Vo.prototype.reset=Vo.prototype.reset,Vo.prototype.update=Vo.prototype.j,Jt.prototype.add=Jt.prototype.add,Jt.prototype.multiply=Jt.prototype.R,Jt.prototype.modulo=Jt.prototype.gb,Jt.prototype.compare=Jt.prototype.X,Jt.prototype.toNumber=Jt.prototype.ea,Jt.prototype.toString=Jt.prototype.toString,Jt.prototype.getBits=Jt.prototype.D,Jt.fromNumber=Ns,Jt.fromString=function zi(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return ai(zi(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ns(Math.pow(e,8)),r=yd,s=0;s<t.length;s+=8){var u=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+u),e);8>u?(u=Ns(Math.pow(e,u)),r=r.R(u).add(Ns(l))):r=(r=r.R(n)).add(Ns(l))}return r};var xS=Qs.createWebChannelTransport=function(){return new iw},NS=Qs.getStatEventTarget=function(){return rg()},af=Qs.ErrorCode=sg,MD=Qs.EventType=U0,xD=Qs.Event=Mc,aw=Qs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},RS=Qs.FetchXmlHttpFactory=Rc,Oc=Qs.WebChannel=j0,vg=Qs.XhrIo=Wn,PS=Qs.Md5=Vo,uf=Qs.Integer=Jt;const ND="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let vd="9.23.0";const Du=new Cc.Yd("@firebase/firestore");function uw(){return Du.logLevel}function Fe(t,...e){if(Du.logLevel<=Cc.in.DEBUG){const n=e.map(PD);Du.debug(`Firestore (${vd}): ${t}`,...n)}}function Er(t,...e){if(Du.logLevel<=Cc.in.ERROR){const n=e.map(PD);Du.error(`Firestore (${vd}): ${t}`,...n)}}function Uo(t,...e){if(Du.logLevel<=Cc.in.WARN){const n=e.map(PD);Du.warn(`Firestore (${vd}): ${t}`,...n)}}function PD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function it(t="Unexpected state"){const e=`FIRESTORE (${vd}) INTERNAL ASSERTION FAILED: `+t;throw Er(e),new Error(e)}function pt(t,e){t||it()}function We(t,e){return t}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends un.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class cf{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zr.UNAUTHENTICATED))}shutdown(){}}class kS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FS{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let s=this.i;const u=C=>this.i!==s?(s=this.i,n(C)):Promise.resolve();let l=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=l;e.enqueueRetryable((0,ge.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},I=C=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>I(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?I(C):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xr)}},0),m()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt("string"==typeof r.accessToken),new cf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(null===e||"string"==typeof e),new zr(e)}}class LS{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Sx{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new LS(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=u=>{null!=u.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pt("string"==typeof n.token),this.T=n.token,new kD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function VS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class lf{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=VS(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function Ft(t,e){return t<e?-1:t>e?1:0}function _d(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function LD(t){return t+"\0"}class On{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new On(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gt(e)}static min(){return new gt(new On(0,0))}static max(){return new gt(new On(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class df{constructor(e,n,r){void 0===n?n=0:n>e.length&&it(),void 0===r?r=e.length-n:r>e.length-n&&it(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===df.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof df?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const u=e.get(s),l=n.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xt extends df{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xt(n)}static emptyPath(){return new Xt([])}}const cw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends df{construct(e,n,r){return new lr(e,n,r)}static isValidIdentifier(e){return cw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Ae(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Ae(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[s+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Ae(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=I,s+=2}else"`"===m?(l=!l,s++):"."!==m||l?(r+=m,s++):(u(),s++)}if(u(),l)throw new Ae(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(n)}static emptyPath(){return new lr([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Xt.fromString(e))}static fromName(e){return new Ke(Xt.fromString(e).popFirst(5))}static empty(){return new Ke(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Xt(e.slice()))}}class _g{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function lw(t){return t.fields.find(e=>2===e.kind)}function wd(t){return t.fields.filter(e=>2!==e.kind)}_g.UNKNOWN_ID=-1;class hf{constructor(e,n){this.fieldPath=e,this.kind=n}}class ff{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ff(0,Ps.min())}}function VD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=gt.fromTimestamp(1e9===r?new On(n+1,0):new On(n,r));return new Ps(s,Ke.empty(),e)}function UD(t){return new Ps(t.readTime,t.key,-1)}class Ps{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ps(gt.min(),Ke.empty(),-1)}static max(){return new Ps(gt.max(),Ke.empty(),-1)}}function dw(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ke.comparator(t.documentKey,e.documentKey),0!==n?n:Ft(t.largestBatchId,e.largestBatchId))}const BD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function kc(t){return hw.apply(this,arguments)}function hw(){return hw=(0,ge.Z)(function*(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==BD)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}),hw.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let s=0,u=0,l=!1;e.forEach(m=>{++s,m.next(()=>{++u,l&&u===s&&n()},I=>r(I))}),l=!0,u===s&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(s=>s?re.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,u)=>{r.push(n.call(this,s,u))}),this.waitFor(r)}static mapArray(e,n){return new re((r,s)=>{const u=e.length,l=new Array(u);let m=0;for(let I=0;I<u;I++){const C=I;n(e[C]).next(M=>{l[C]=M,++m,m===u&&r(l)},M=>s(M))}})}static doWhile(e,n){return new re((r,s)=>{const u=()=>{!0===e()?n().next(()=>{u()},s):r()};u()})}}class wg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new xr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new pf(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=Ig(r.target.error);this.v.reject(new pf(e,s))}}static open(e,n,r,s){try{return new wg(n,e.transaction(s,r))}catch(u){throw new pf(n,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new $S(n)}}class Bo{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===Bo.S((0,un.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),Id(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,un.hl)())return!1;if(Bo.C())return!0;const e=(0,un.z$)(),n=Bo.S(e),r=0<n&&n<10,s=Bo.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,ge.Z)(function*(){return n.db||(Fe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,s)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{s(new pf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;s("VersionError"===m.name?new Ae(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ae(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new pf(e,m))},u.onupgradeneeded=l=>{Fe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',l.oldVersion),n.V.O(l.target.result,u.transaction,l.oldVersion,n.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,s){var u=this;return(0,ge.Z)(function*(){const l="readonly"===n;let m=0;for(;;){++m;try{u.db=yield u.$(e);const I=wg.open(u.db,e,l?"readonly":"readwrite",r),C=s(I).next(M=>(I.P(),M)).catch(M=>(I.abort(M),re.reject(M))).toPromise();return C.catch(()=>{}),yield I.R,C}catch(I){const C=I,M="FirebaseError"!==C.name&&m<3;if(Fe("SimpleDb","Transaction failed with error:",C.message,"Retrying:",M),u.close(),!M)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class jS{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Id(this.L.delete())}}class pf extends Ae{constructor(e,n){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fc(t){return"IndexedDbTransactionError"===t.name}class $S{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Fe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Id(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),Id(this.store.add(e))}get(e){return Id(this.store.get(e)).next(n=>(void 0===n&&(n=null),Fe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),Id(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),Id(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(l,m)=>{u.push(m)}).next(()=>u)}{const s=this.store.getAll(r.range);return new re((u,l)=>{s.onerror=m=>{l(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new re((s,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{s(l.target.result)}})}J(e,n){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,l,m)=>m.delete())}X(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.W(s,n)}Z(e){const n=this.cursor({});return new re((r,s)=>{n.onerror=u=>{const l=Ig(u.target.error);s(l)},n.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}W(e,n){const r=[];return new re((s,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void s();const I=new jS(m),C=n(m.primaryKey,m.value,I);if(C instanceof re){const M=C.catch(R=>(I.done(),re.reject(R)));r.push(M)}I.isDone?s():null===I.K?m.continue():m.continue(I.K)}}).next(()=>re.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Id(t){return new re((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const s=Ig(r.target.error);n(s)}})}let $D=!1;function Ig(t){const e=Bo.S((0,un.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $D||($D=!0,setTimeout(()=>{throw r},0)),r}}return t}class fw{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){n.task=null;try{Fe("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){Fc(r)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield kc(r)}yield n.et(6e4)}))}}class HD{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,ge.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let s=n,u=!0;return re.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Fe("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,s).next(m=>{s-=m,r.add(l)});u=!1})).next(()=>n-s)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(s,u)).next(m=>(Fe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,n,m))).next(()=>l.size)}))}rt(e,n){let r=e;return n.changes.forEach((s,u)=>{const l=UD(u);dw(l,r)>0&&(r=l)}),new Ps(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let qi=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Eg(t){return null==t}function Dg(t){return 0===t&&1/t==-1/0}function By(t){return"number"==typeof t&&Number.isInteger(t)&&!Dg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ki(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lc(e)),e=GD(t.get(n),e);return Lc(e)}function GD(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const u=t.charAt(s);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function Lc(t){return t+"\x01\x01"}function jo(t){const e=t.length;if(pt(e>=2),2===e)return pt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Xt.emptyPath();const n=e-2,r=[];let s="";for(let u=0;u<e;){const l=t.indexOf("\x01",u);switch((l<0||l>n)&&it(),t.charAt(l+1)){case"\x01":const m=t.substring(u,l);let I;0===s.length?I=m:(s+=m,I=s,s=""),r.push(I);break;case"\x10":s+=t.substring(u,l),s+="\0";break;case"\x11":s+=t.substring(u,l+1);break;default:it()}u=l+2}return new Xt(r)}const zD=["userId","batchId"];function pw(t,e){return[t,ki(e)]}function jy(t,e,n){return[t,ki(e),n]}const gw={},HS=["prefixPath","collectionGroup","readTime","documentId"],qD=["prefixPath","collectionGroup","documentId"],ZD=["collectionGroup","readTime","prefixPath","documentId"],GS=["canonicalId","targetId"],WD=["targetId","path"],mw=["path","targetId"],KD=["collectionId","parent"],YD=["indexId","uid"],QD=["uid","sequenceNumber"],JD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zS=["indexId","uid","orderedDocumentKey"],qS=["userId","collectionPath","documentId"],ZS=["userId","collectionPath","largestBatchId"],WS=["userId","collectionGroup","largestBatchId"],yw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mx=[...yw,"documentOverlays"],vw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],XD=vw,KS=[...XD,"indexConfiguration","indexState","indexEntries"];class eC extends jD{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function ui(t,e){const n=We(t);return Bo.M(n.ht,e)}function tC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class An{constructor(e,n){this.comparator=e,this.root=n||yi.EMPTY}insert(e,n){return new An(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yi.BLACK,null,null))}remove(e){return new An(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $y(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $y(this.root,e,this.comparator,!1)}getReverseIterator(){return new $y(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $y(this.root,e,this.comparator,!0)}}class $y{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yi{constructor(e,n,r,s,u){this.key=e,this.value=n,this.color=r??yi.RED,this.left=s??yi.EMPTY,this.right=u??yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,u){return new yi(e??this.key,n??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,n,r),null):0===u?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===n(e,s.key)){if(s.right.isEmpty())return yi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1,yi.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(t,e,n,r,s){return this}insert(t,e,n){return new yi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rC(this.data.getIterator())}getIteratorFrom(e){return new rC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class rC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gf(t){return t.hasNext()?t.getNext():void 0}class ss{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new ss([])}unionWith(e){let n=new kn(lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ss(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _d(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class iC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iC("Invalid base64 string: "+s):s}}(e);return new Nr(n)}static fromUint8Array(e){const n=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const sC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cu(t){if(pt(!!t),"string"==typeof t){let e=0;const n=sC.exec(t);if(pt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kn(t.seconds),nanos:Kn(t.nanos)}}function Kn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Sa(t){return"string"==typeof t?Nr.fromBase64String(t):Nr.fromUint8Array(t)}function Hy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gy(t){const e=t.mapValue.fields.__previous_value__;return Hy(e)?Gy(e):e}function zy(t){const e=Cu(t.mapValue.fields.__local_write_time__.timestampValue);return new On(e.seconds,e.nanos)}class xx{constructor(e,n,r,s,u,l,m,I,C){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=I,this.useFetchStreams=C}}class Uc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Uc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}const Bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qy={nullValue:"NULL_VALUE"};function jc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hy(t)?4:cC(t)?9007199254740991:10:it()}function Aa(t,e){if(t===e)return!0;const n=jc(t);if(n!==jc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zy(t).isEqual(zy(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=Cu(r.timestampValue),l=Cu(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Sa(t.bytesValue).isEqual(Sa(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Kn(r.geoPointValue.latitude)===Kn(s.geoPointValue.latitude)&&Kn(r.geoPointValue.longitude)===Kn(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Kn(r.integerValue)===Kn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Kn(r.doubleValue),l=Kn(s.doubleValue);return u===l?Dg(u)===Dg(l):isNaN(u)&&isNaN(l)}return!1}(t,e);case 9:return _d(t.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(tC(u)!==tC(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Aa(u[m],l[m])))return!1;return!0}(t,e);default:return it()}var s}function bu(t,e){return void 0!==(t.values||[]).find(n=>Aa(n,e))}function $c(t,e){if(t===e)return 0;const n=jc(t),r=jc(e);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(t.booleanValue,e.booleanValue);case 2:return function(s,u){const l=Kn(s.integerValue||s.doubleValue),m=Kn(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(t,e);case 3:return Zy(t.timestampValue,e.timestampValue);case 4:return Zy(zy(t),zy(e));case 5:return Ft(t.stringValue,e.stringValue);case 6:return function(s,u){const l=Sa(s),m=Sa(u);return l.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),m=u.split("/");for(let I=0;I<l.length&&I<m.length;I++){const C=Ft(l[I],m[I]);if(0!==C)return C}return Ft(l.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,u){const l=Ft(Kn(s.latitude),Kn(u.latitude));return 0!==l?l:Ft(Kn(s.longitude),Kn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],m=u.values||[];for(let I=0;I<l.length&&I<m.length;++I){const C=$c(l[I],m[I]);if(C)return C}return Ft(l.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Bc.mapValue&&u===Bc.mapValue)return 0;if(s===Bc.mapValue)return 1;if(u===Bc.mapValue)return-1;const l=s.fields||{},m=Object.keys(l),I=u.fields||{},C=Object.keys(I);m.sort(),C.sort();for(let M=0;M<m.length&&M<C.length;++M){const R=Ft(m[M],C[M]);if(0!==R)return R;const H=$c(l[m[M]],I[C[M]]);if(0!==H)return H}return Ft(m.length,C.length)}(t.mapValue,e.mapValue);default:throw it()}}function Zy(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ft(t,e);const n=Cu(t),r=Cu(e),s=Ft(n.seconds,r.seconds);return 0!==s?s:Ft(n.nanos,r.nanos)}function mf(t){return oC(t)}function oC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Cu(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Sa(t.bytesValue).toBase64():"referenceValue"in t?Ke.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=oC(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of s)l?l=!1:u+=",",u+=`${m}:${oC(r.fields[m])}`;return u+"}"}(t.mapValue):it();var e}function yf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ed(t){return!!t&&"integerValue"in t}function bg(t){return!!t&&"arrayValue"in t}function aC(t){return!!t&&"nullValue"in t}function uC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dd(t){return!!t&&"mapValue"in t}function vf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cC(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function lC(t){return"nullValue"in t?qy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yf(Uc.empty(),Ke.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:it()}function Ky(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yf(Uc.empty(),Ke.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Bc:it()}function dC(t,e){const n=$c(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function hC(t,e){const n=$c(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vf(n)}setAll(e){let n=lr.emptyPath(),r={},s=[];e.forEach((l,m)=>{if(!n.isImmediateParentOf(m)){const I=this.getFieldsMap(n);this.applyChanges(I,r,s),r={},s=[],n=m.popLast()}l?r[m.lastSegment()]=vf(l):s.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,s)}delete(e){const n=this.field(e.popLast());Dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Dd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Vc(n,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new ci(vf(this.value))}}function fC(t){const e=[];return Vc(t.fields,(n,r)=>{const s=new lr([n]);if(Dd(r)){const u=fC(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new ss(e)}class Fn{constructor(e,n,r,s,u,l,m){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new Fn(e,0,gt.min(),gt.min(),gt.min(),ci.empty(),0)}static newFoundDocument(e,n,r,s){return new Fn(e,1,n,gt.min(),r,s,0)}static newNoDocument(e,n){return new Fn(e,2,n,gt.min(),gt.min(),ci.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,gt.min(),gt.min(),ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tu{constructor(e,n){this.position=e,this.inclusive=n}}function Tg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const u=e[s],l=t.position[s];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(l.referenceValue),n.key):$c(l,n.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function pC(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Aa(t.position[n],e.position[n]))return!1;return!0}class _f{constructor(e,n="asc"){this.field=e,this.dir=n}}function gC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _w{}class qt extends _w{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Ew(e,n,r):"array-contains"===n?new QS(e,r):"in"===n?new vC(e,r):"not-in"===n?new _C(e,r):"array-contains-any"===n?new Cw(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Dw(e,r):new YS(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison($c(n,this.value)):null!==n&&jc(this.value)===jc(n)&&this.matchesComparison($c(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fn extends _w{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new fn(e,n)}matches(e){return wf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function wf(t){return"and"===t.op}function Yy(t){return"or"===t.op}function Qy(t){return mC(t)&&wf(t)}function mC(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function ww(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+mf(t.value);if(Qy(t))return t.filters.map(e=>ww(e)).join(",");{const e=t.filters.map(n=>ww(n)).join(",");return`${t.op}(${e})`}}function Jy(t,e){return t instanceof qt?(n=t,(r=e)instanceof qt&&n.op===r.op&&n.field.isEqual(r.field)&&Aa(n.value,r.value)):t instanceof fn?function(n,r){return r instanceof fn&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((s,u,l)=>s&&Jy(u,r.filters[l]),!0)}(t,e):void it();var n,r}function Xy(t,e){const n=t.filters.concat(e);return fn.create(n,t.op)}function Iw(t){return t instanceof qt?`${(e=t).field.canonicalString()} ${e.op} ${mf(e.value)}`:t instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(Iw).join(" ,")+"}"}(t):"Filter";var e}class Ew extends qt{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dw extends qt{constructor(e,n){super(e,"in",n),this.keys=yC(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YS extends qt{constructor(e,n){super(e,"not-in",n),this.keys=yC(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yC(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class QS extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bg(n)&&bu(n.arrayValue,this.value)}}class vC extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&bu(this.value.arrayValue,n)}}class _C extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!bu(this.value.arrayValue,n)}}class Cw extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bu(this.value.arrayValue,r))}}class wC{constructor(e,n=null,r=[],s=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function bw(t,e=null,n=[],r=[],s=null,u=null,l=null){return new wC(t,e,n,r,s,u,l)}function Hc(t){const e=We(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ww(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Eg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mf(r)).join(",")),e.dt=n}return e.dt}function If(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Jy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pC(t.startAt,e.startAt)&&pC(t.endAt,e.endAt)}function ev(t){return Ke.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Sg(t,e){return t.filters.filter(n=>n instanceof qt&&n.field.isEqual(e))}function Tw(t,e,n){let r=qy,s=!0;for(const u of Sg(t,e)){let l=qy,m=!0;switch(u.op){case"<":case"<=":l=lC(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=qy}dC({value:r,inclusive:s},{value:l,inclusive:m})<0&&(r=l,s=m)}if(null!==n)for(let u=0;u<t.orderBy.length;++u)if(t.orderBy[u].field.isEqual(e)){const l=n.position[u];dC({value:r,inclusive:s},{value:l,inclusive:n.inclusive})<0&&(r=l,s=n.inclusive);break}return{value:r,inclusive:s}}function IC(t,e,n){let r=Bc,s=!0;for(const u of Sg(t,e)){let l=Bc,m=!0;switch(u.op){case">=":case">":l=Ky(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=Bc}hC({value:r,inclusive:s},{value:l,inclusive:m})>0&&(r=l,s=m)}if(null!==n)for(let u=0;u<t.orderBy.length;++u)if(t.orderBy[u].field.isEqual(e)){const l=n.position[u];hC({value:r,inclusive:s},{value:l,inclusive:n.inclusive})>0&&(r=l,s=n.inclusive);break}return{value:r,inclusive:s}}class Ma{constructor(e,n=null,r=[],s=[],u=null,l="F",m=null,I=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=I,this.wt=null,this._t=null}}function EC(t,e,n,r,s,u,l,m){return new Ma(t,e,n,r,s,u,l,m)}function Rr(t){return new Ma(t)}function Cd(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Sw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function tv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function DC(t){return null!==t.collectionGroup}function Ef(t){const e=We(t);if(null===e.wt){e.wt=[];const n=tv(e),r=Sw(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new _f(n)),e.wt.push(new _f(lr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new _f(lr.keyField(),u))}}}return e.wt}function Fi(t){const e=We(t);if(!e._t)if("F"===e.limitType)e._t=bw(e.path,e.collectionGroup,Ef(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const u of Ef(e))n.push(new _f(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Tu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Tu(e.startAt.position,e.startAt.inclusive):null;e._t=bw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function Ag(t,e){e.getFirstInequalityField(),tv(t);const n=t.filters.concat([e]);return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Aw(t,e,n){return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nv(t,e){return If(Fi(t),Fi(e))&&t.limitType===e.limitType}function JS(t){return`${Hc(Fi(t))}|lt:${t.limitType}`}function bd(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Iw(r)).join(", ")}]`),Eg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mf(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mf(r)).join(",")),`Target(${n})`}(Fi(t))}; limitType=${t.limitType})`}function Mg(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ke.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Ef(n))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(s,u,l){const m=Tg(s,u,l);return s.inclusive?m<=0:m<0}(n.startAt,Ef(n),r)||n.endAt&&!function(s,u,l){const m=Tg(s,u,l);return s.inclusive?m>=0:m>0}(n.endAt,Ef(n),r)));var n,r}function rv(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CC(t){return(e,n)=>{let r=!1;for(const s of Ef(t)){const u=bC(s,e,n);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function bC(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):function(s,u,l){const m=u.data.field(s),I=l.data.field(s);return null!==m&&null!==I?$c(m,I):it()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}class Su{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vc(this.inner,(n,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return nC(this.inner)}size(){return this.innerSize}}const XS=new An(Ke.comparator);function os(){return XS}const iv=new An(Ke.comparator);function Df(...t){let e=iv;for(const n of t)e=e.insert(n.key,n);return e}function TC(t){let e=iv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Os(){return ov()}function sv(){return ov()}function ov(){return new Su(t=>t.toString(),(t,e)=>t.isEqual(e))}const SC=new An(Ke.comparator),eA=new kn(Ke.comparator);function jt(...t){let e=eA;for(const n of t)e=e.add(n);return e}const Cf=new kn(Ft);function Mw(){return Cf}function xw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dg(e)?"-0":e}}function av(t){return{integerValue:""+t}}function tA(t,e){return By(e)?av(e):xw(t,e)}class uv{constructor(){this._=void 0}}function Nx(t,e,n){return t instanceof bf?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Hy(s)&&(s=Gy(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(n,e):t instanceof Gc?Nw(t,e):t instanceof Td?Rw(t,e):function(r,s){const u=AC(r,s),l=MC(u)+MC(r.gt);return Ed(u)&&Ed(r.gt)?av(l):xw(r.serializer,l)}(t,e)}function nA(t,e,n){return t instanceof Gc?Nw(t,e):t instanceof Td?Rw(t,e):n}function AC(t,e){return t instanceof Sd?Ed(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class bf extends uv{}class Gc extends uv{constructor(e){super(),this.elements=e}}function Nw(t,e){const n=xC(e);for(const r of t.elements)n.some(s=>Aa(s,r))||n.push(r);return{arrayValue:{values:n}}}class Td extends uv{constructor(e){super(),this.elements=e}}function Rw(t,e){let n=xC(e);for(const r of t.elements)n=n.filter(s=>!Aa(s,r));return{arrayValue:{values:n}}}class Sd extends uv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function MC(t){return Kn(t.integerValue||t.doubleValue)}function xC(t){return bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Tf{constructor(e,n){this.field=e,this.transform=n}}class NC{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ng{}function RC(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Pg(t.key,Ln.none()):new Rg(t.key,t.data,Ln.none());{const n=t.data,r=ci.empty();let s=new kn(lr.comparator);for(let u of e.fields)if(!s.has(u)){let l=n.field(u);null===l&&u.length>1&&(u=u.popLast(),l=n.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new zc(t.key,r,new ss(s.toArray()),Ln.none())}}function iA(t,e,n){t instanceof Rg?function(r,s,u){const l=r.value.clone(),m=aA(r.fieldTransforms,s,u.transformResults);l.setAll(m),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(t,e,n):t instanceof zc?function(r,s,u){if(!xg(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=aA(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(oA(r)),m.setAll(l),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function cv(t,e,n,r){return t instanceof Rg?function(s,u,l,m){if(!xg(s.precondition,u))return l;const I=s.value.clone(),C=uA(s.fieldTransforms,m,u);return I.setAll(C),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null}(t,e,n,r):t instanceof zc?function(s,u,l,m){if(!xg(s.precondition,u))return l;const I=uA(s.fieldTransforms,m,u),C=u.data;return C.setAll(oA(s)),C.setAll(I),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(M=>M.field))}(t,e,n,r):(l=n,xg(t.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function PC(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),u=AC(r.transform,s||null);null!=u&&(null===n&&(n=ci.empty()),n.set(r.field,u))}return n||null}function sA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&_d(n,r,(s,u)=>function rA(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Gc&&r instanceof Gc||n instanceof Td&&r instanceof Td?_d(n.elements,r.elements,Aa):n instanceof Sd&&r instanceof Sd?Aa(n.gt,r.gt):n instanceof bf&&r instanceof bf);var n,r}(s,u))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Rg extends Ng{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zc extends Ng{constructor(e,n,r,s,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function oA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aA(t,e,n){const r=new Map;pt(t.length===n.length);for(let s=0;s<n.length;s++){const u=t[s],l=u.transform,m=e.data.field(u.field);r.set(u.field,nA(l,m,n[s]))}return r}function uA(t,e,n){const r=new Map;for(const s of t){const u=s.transform,l=n.data.field(s.field);r.set(s.field,Nx(u,l,e))}return r}class Pg extends Ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OC extends Ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kC{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&iA(u,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cv(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cv(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sv();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=n.has(s.key)?null:m;const I=RC(l,m);null!==I&&r.set(s.key,I),l.isValidDocument()||l.convertToNoDocument(gt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),jt())}isEqual(e){return this.batchId===e.batchId&&_d(this.mutations,e.mutations,(n,r)=>sA(n,r))&&_d(this.baseMutations,e.baseMutations,(n,r)=>sA(n,r))}}class lv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){pt(e.mutations.length===r.length);let s=SC;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new lv(e,n,r,s)}}class Og{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cA{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yn,en;function lA(t){switch(t){default:return it();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function dA(t){if(void 0===t)return Er("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Yn.OK:return ae.OK;case Yn.CANCELLED:return ae.CANCELLED;case Yn.UNKNOWN:return ae.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return ae.INTERNAL;case Yn.UNAVAILABLE:return ae.UNAVAILABLE;case Yn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Yn.NOT_FOUND:return ae.NOT_FOUND;case Yn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Yn.ABORTED:return ae.ABORTED;case Yn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Yn.DATA_LOSS:return ae.DATA_LOSS;default:return it()}}(en=Yn||(Yn={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class Pw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return kg}static getOrCreateInstance(){return null===kg&&(kg=new Pw),kg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let kg=null;function LC(){return new TextEncoder}const hA=new uf([4294967295,4294967295],0);function VC(t){const e=LC().encode(t),n=new PS;return n.update(e),new Uint8Array(n.digest())}function fA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new uf([n,r],0),new uf([s,u],0)]}class Ow{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(r<0)throw new Au(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Au(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=uf.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(uf.fromNumber(r)));return 1===s.compare(hA)&&(s=new uf([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=VC(e),[r,s]=fA(n);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new Ow(u,s,n);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const n=VC(e),[r,s]=fA(n);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qc{constructor(e,n,r,s,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Fg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qc(gt.min(),s,new An(Ft),os(),jt())}}class Fg{constructor(e,n,r,s,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fg(r,n,jt(),jt(),jt())}}class dv{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class UC{constructor(e,n){this.targetId=e,this.Vt=n}}class BC{constructor(e,n,r=Nr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class jC{constructor(){this.St=0,this.Dt=$C(),this.Ct=Nr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=jt(),n=jt(),r=jt();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:it()}}),new Fg(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=$C()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class pA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=os(),this.zt=hv(),this.Wt=new An(Ft)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:it()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(ev(l))if(0===s){const m=new Ke(l.path);this.Yt(r,m,Fn.newNoDocument(m,gt.min()))}else pt(1===s);else{const m=this.ie(r);if(m!==s){const I=this.re(e,m);0!==I&&(this.ee(r),this.Wt=this.Wt.insert(r,2===I?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Pw.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(C,M,R){var H,q,ye,Ve,Be,ct;const At={localCacheCount:M,existenceFilterCount:R.count},_t=R.unchangedNames;return _t&&(At.bloomFilter={applied:0===C,hashCount:null!==(H=_t?.hashCount)&&void 0!==H?H:0,bitmapLength:null!==(Ve=null===(ye=null===(q=_t?.bits)||void 0===q?void 0:q.bitmap)||void 0===ye?void 0:ye.length)&&void 0!==Ve?Ve:0,padding:null!==(ct=null===(Be=_t?.bits)||void 0===Be?void 0:Be.padding)&&void 0!==ct?ct:0}),At}(I,m,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let I,C;try{I=Sa(u).toUint8Array()}catch(M){if(M instanceof iC)return Uo("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw M}try{C=new Ow(I,l,m)}catch(M){return Uo(M instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",M),1}return 0===C.It?1:s!==n-this.oe(e.targetId,C)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;n.vt(m)||(this.Yt(e,u,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&ev(m.target)){const I=new Ke(m.target.path);null!==this.jt.get(I)||this.ae(l,I)||this.Yt(l,I,Fn.newNoDocument(I,e))}u.Mt&&(n.set(l,u.Ot()),u.Ft())}});let r=jt();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(I=>{const C=this.se(I);return!C||"TargetPurposeLimboResolution"===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new qc(e,n,this.Wt,this.jt,r);return this.jt=os(),this.zt=hv(),this.Wt=new An(Ft),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new jC,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new kn(Ft),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Fe("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new jC),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function hv(){return new An(Ke.comparator)}function $C(){return new An(Ke.comparator)}const gA={asc:"ASCENDING",desc:"DESCENDING"},mA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yA={and:"AND",or:"OR"};class vA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kw(t,e){return t.useProto3Json||Eg(e)?e:{value:e}}function Sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _A(t,e){return Sf(t,e.toTimestamp())}function dr(t){return pt(!!t),gt.fromTimestamp(function(e){const n=Cu(e);return new On(n.seconds,n.nanos)}(t))}function Lg(t,e){return(n=t,new Xt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function GC(t){const e=Xt.fromString(t);return pt(YC(e)),e}function Vg(t,e){return Lg(t.databaseId,e.path)}function $o(t,e){const n=GC(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(Fw(n))}function fv(t,e){return Lg(t.databaseId,e)}function wA(t){const e=GC(t);return 4===e.length?Xt.emptyPath():Fw(e)}function li(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fw(t){return pt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Lw(t,e,n){return{name:Vg(t,e),fields:n.value.mapValue.fields}}function zC(t,e,n){const r=$o(t,e.name),s=dr(e.updateTime),u=e.createTime?dr(e.createTime):gt.min(),l=new ci({mapValue:{fields:e.fields}}),m=Fn.newFoundDocument(r,s,u,l);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function Ad(t,e){let n;if(e instanceof Rg)n={update:Lw(t,e.key,e.value)};else if(e instanceof Pg)n={delete:Vg(t,e.key)};else if(e instanceof zc)n={update:Lw(t,e.key,e.data),updateMask:KC(e.fieldMask)};else{if(!(e instanceof OC))return it();n={verify:Vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof bf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Gc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Td)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Sd)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw it()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:_A(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:it()),n;var s}function xa(t,e){const n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Ln.updateTime(dr(s.updateTime)):void 0!==s.exists?Ln.exists(s.exists):Ln.none():Ln.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,l){let m=null;"setToServerValue"in l?(pt("REQUEST_TIME"===l.setToServerValue),m=new bf):"appendMissingElements"in l?m=new Gc(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new Td(l.removeAllFromArray.values||[]):"increment"in l?m=new Sd(u,l.increment):it();const I=lr.fromServerFormat(l.fieldPath);return new Tf(I,m)}(t,s)):[];var s;if(e.update){const s=$o(t,e.update.name),u=new ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new ss((e.updateMask.fieldPaths||[]).map(C=>lr.fromServerFormat(C)));return new zc(s,u,l,n,r)}return new Rg(s,u,n,r)}if(e.delete){const s=$o(t,e.delete);return new Pg(s,n)}if(e.verify){const s=$o(t,e.verify);return new OC(s,n)}return it()}function pv(t,e){return{documents:[fv(t,e.path)]}}function Ug(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(I){if(0!==I.length)return bA(fn.create(I,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const u=function(I){if(0!==I.length)return I.map(C=>{return{field:Zc((M=C).field),direction:EA(M.dir)};var M})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const l=kw(t,e.limit);var m,I;return null!==l&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(n.structuredQuery.endAt={before:!(I=e.endAt).inclusive,values:I.position}),n}function WC(t){let e=wA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){pt(1===r);const M=n.from[0];M.allDescendants?s=M.collectionId:e=e.child(M.collectionId)}let u=[];n.where&&(u=function(M){const R=Vw(M);return R instanceof fn&&Qy(R)?R.getFilters():[R]}(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(M=>{return new _f(Md((R=M).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;n.limit&&(m=function(M){let R;return R="object"==typeof M?M.value:M,Eg(R)?null:R}(n.limit));let I=null;var M;n.startAt&&(I=new Tu((M=n.startAt).values||[],!!M.before));let C=null;return n.endAt&&(C=function(M){return new Tu(M.values||[],!M.before)}(n.endAt)),EC(e,s,l,u,m,"F",I,C)}function Vw(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Md(e.unaryFilter.field);return qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Md(e.unaryFilter.field);return qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Md(e.unaryFilter.field);return qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Md(e.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(t):void 0!==t.fieldFilter?qt.create(Md((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return fn.create(e.compositeFilter.filters.map(n=>Vw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return it()}}(e.compositeFilter.op))}(t):it();var e}function EA(t){return gA[t]}function DA(t){return mA[t]}function CA(t){return yA[t]}function Zc(t){return{fieldPath:t.canonicalString()}}function Md(t){return lr.fromServerFormat(t.fieldPath)}function bA(t){return t instanceof qt?function(e){if("=="===e.op){if(uC(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NAN"}};if(aC(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uC(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NOT_NAN"}};if(aC(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(e.field),op:DA(e.op),value:e.value}}}(t):t instanceof fn?function(e){const n=e.getFilters().map(r=>bA(r));return 1===n.length?n[0]:{compositeFilter:{op:CA(e.op),filters:n}}}(t):it()}function KC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YC(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Na{constructor(e,n,r,s,u=gt.min(),l=gt.min(),m=Nr.EMPTY_BYTE_STRING,I=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=I}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class TA{constructor(e){this.fe=e}}function Bw(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Bg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Vg(s=t.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Sf(s,u.version.toTimestamp()),createTime:Sf(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xd(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:n.path.toArray(),version:xd(e.version)}}var s,u;return r}function Bg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wc(t){const e=new On(t.seconds,t.nanoseconds);return gt.fromTimestamp(e)}function Kc(t,e){const n=(e.baseMutations||[]).map(u=>xa(t.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>xa(t.fe,u)),s=On.fromMillis(e.localWriteTimeMs);return new kC(e.batchId,s,n,r)}function Ra(t){const e=Wc(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Wc(t.lastLimboFreeSnapshotVersion):gt.min();let r;var s;return void 0!==t.query.documents?(pt(1===(s=t.query).documents.length),r=Fi(Rr(wA(s.documents[0])))):r=Fi(WC(t.query)),new Na(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Nr.fromBase64String(t.resumeToken))}function jg(t,e){const n=xd(e.snapshotVersion),r=xd(e.lastLimboFreeSnapshotVersion);let s;s=ev(e.target)?pv(t.fe,e.target):Ug(t.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hc(e.target),readTime:n,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function gv(t){const e=WC({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Aw(e,e.limit,"L"):e}function mv(t,e){return new Og(e.largestBatchId,xa(t.fe,e.overlayMutation))}function QC(t,e){const n=e.path.lastSegment();return[t,ki(e.path.popLast()),n]}function JC(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:xd(r.readTime),documentKey:ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class Px{getBundleMetadata(e,n){return jw(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Wc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return jw(e).put({bundleId:(r=n).id,createTime:xd(dr(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return XC(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:gv(s.bundledQuery),readTime:Wc(s.readTime)};var s})}saveNamedQuery(e,n){return XC(e).put({name:(r=n).name,readTime:xd(dr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function jw(t){return ui(t,"bundles")}function XC(t){return ui(t,"namedQueries")}class yv{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new yv(e,n.uid||"")}getOverlay(e,n){return vv(e).get(QC(this.userId,n)).next(r=>r?mv(this.serializer,r):null)}getOverlays(e,n){const r=Os();return re.forEach(n,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((u,l)=>{const m=new Og(n,l);s.push(this.we(e,m))}),re.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(l=>s.add(ki(l.getCollectionPath())));const u=[];return s.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(vv(e).J("collectionPathOverlayIndex",m))}),re.waitFor(u)}getOverlaysForCollection(e,n,r){const s=Os(),u=ki(n),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return vv(e).j("collectionPathOverlayIndex",l).next(m=>{for(const I of m){const C=mv(this.serializer,I);s.set(C.getKey(),C)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const u=Os();let l;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return vv(e).X({index:"collectionGroupOverlayIndex",range:m},(I,C,M)=>{const R=mv(this.serializer,C);u.size()<s||R.largestBatchId===l?(u.set(R.getKey(),R),l=R.largestBatchId):M.done()}).next(()=>u)}we(e,n){return vv(e).put(function(r,s,u){const[l,m,I]=QC(s,u.mutation.key);return{userId:s,collectionPath:m,documentId:I,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Ad(r.fe,u.mutation)}}(this.serializer,this.userId,n))}}function vv(t){return ui(t,"documentOverlays")}class Af{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Kn(e.integerValue));else if("doubleValue"in e){const r=Kn(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Dg(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Sa(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?cC(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):it()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const s of Object.keys(r))this.Te(s,n),this.me(r[s],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const s of r)this.me(s,n)}ve(e,n){this.ye(n,37),Ke.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function Ox(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function $w(t){const e=64-function(n){let r=0;for(let s=0;s<8;++s){const u=Ox(255&n[s]);if(r+=u,8!==u)break}return r}(t);return Math.ceil(e/8)}Af.Ve=new Af;class SA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=n.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=n.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const n=this.Fe(e),r=$w(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Le(e){const n=this.Fe(e),r=$w(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class AA{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class MA{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class _v{constructor(){this.je=new SA,this.ze=new AA(this.je),this.We=new MA(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Mf{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Mf(this.indexId,this.documentKey,this.arrayValue,r)}}function Nd(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=xA(t.arrayValue,e.arrayValue),0!==n?n:(n=xA(t.directionalValue,e.directionalValue),0!==n?n:Ke.comparator(t.documentKey,e.documentKey)))}function xA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class kx{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){pt(e.collectionGroup===this.collectionId);const n=lw(e);if(void 0!==n&&!this.en(n))return!1;const r=wd(e);let s=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)s=s.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const m=r[u];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[l++],m))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function eb(t){var e,n;if(pt(t instanceof qt||t instanceof fn),t instanceof qt){if(t instanceof vC){const s=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(u=>qt.create(t.field,"==",u)))||[];return fn.create(s,"or")}return t}const r=t.filters.map(s=>eb(s));return fn.create(r,t.op)}function wv(t){if(0===t.getFilters().length)return[];const e=Mu(eb(t));return pt(zw(e)),Hw(e)||Gw(e)?[e]:e.getFilters()}function Hw(t){return t instanceof qt}function Gw(t){return t instanceof fn&&Qy(t)}function zw(t){return Hw(t)||Gw(t)||function(e){if(e instanceof fn&&Yy(e)){for(const n of e.getFilters())if(!Hw(n)&&!Gw(n))return!1;return!0}return!1}(t)}function Mu(t){if(pt(t instanceof qt||t instanceof fn),t instanceof qt)return t;if(1===t.filters.length)return Mu(t.filters[0]);const e=t.filters.map(r=>Mu(r));let n=fn.create(e,t.op);return n=xf(n),zw(n)?n:(pt(n instanceof fn),pt(wf(n)),pt(n.filters.length>1),n.filters.reduce((r,s)=>Iv(r,s)))}function Iv(t,e){let n;return pt(t instanceof qt||t instanceof fn),pt(e instanceof qt||e instanceof fn),n=t instanceof qt?e instanceof qt?fn.create([t,e],"and"):Ev(t,e):e instanceof qt?Ev(e,t):function(r,s){if(pt(r.filters.length>0&&s.filters.length>0),wf(r)&&wf(s))return Xy(r,s.getFilters());const u=Yy(r)?r:s,l=Yy(r)?s:r,m=u.filters.map(I=>Iv(I,l));return fn.create(m,"or")}(t,e),xf(n)}function Ev(t,e){if(wf(e))return Xy(e,t.getFilters());{const n=e.filters.map(r=>Iv(t,r));return fn.create(n,"or")}}function xf(t){if(pt(t instanceof qt||t instanceof fn),t instanceof qt)return t;const e=t.getFilters();if(1===e.length)return xf(e[0]);if(mC(t))return t;const n=e.map(s=>xf(s)),r=[];return n.forEach(s=>{s instanceof qt?r.push(s):s instanceof fn&&(s.op===t.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:fn.create(r,t.op)}class NA{constructor(){this.rn=new $g}addToCollectionParentIndex(e,n){return this.rn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ps.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class $g{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new kn(Xt.comparator),u=!s.has(r);return this.index[n]=s.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new kn(Xt.comparator)).toArray()}}const Nf=new Uint8Array(0);class Dv{constructor(e,n){this.user=e,this.databaseId=n,this.on=new $g,this.un=new Su(r=>Hc(r),(r,s)=>If(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const u={collectionId:r,parent:ki(s)};return RA(e).put(u)}return re.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[LD(n),""],!1,!0);return RA(e).j(s).next(u=>{for(const l of u){if(l.collectionId!==n)break;r.push(jo(l.parent))}return r})}addFieldIndex(e,n){const r=qw(e),s={indexId:(l=n).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete s.indexId;const u=r.add(s);if(n.indexState){const l=Rf(e);return u.next(m=>{l.put(JC(m,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return u.next()}deleteFieldIndex(e,n){const r=qw(e),s=Rf(e),u=Cv(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Cv(e);let s=!0;const u=new Map;return re.forEach(this.cn(n),l=>this.an(e,l).next(m=>{s&&(s=!!m),u.set(l,m)})).next(()=>{if(s){let l=jt();const m=[];return re.forEach(u,(I,C)=>{var M;Fe("IndexedDbIndexManager",`Using index ${M=I,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${Hc(n)}`);const R=function(_t,Ot){const Ht=lw(Ot);if(void 0===Ht)return null;for(const sn of Sg(_t,Ht.fieldPath))switch(sn.op){case"array-contains-any":return sn.value.arrayValue.values||[];case"array-contains":return[sn.value]}return null}(C,I),H=function(_t,Ot){const Ht=new Map;for(const sn of wd(Ot))for(const us of Sg(_t,sn.fieldPath))switch(us.op){case"==":case"in":Ht.set(sn.fieldPath.canonicalString(),us.value);break;case"not-in":case"!=":return Ht.set(sn.fieldPath.canonicalString(),us.value),Array.from(Ht.values())}return null}(C,I),q=function(_t,Ot){const Ht=[];let sn=!0;for(const us of wd(Ot)){const Xg=0===us.kind?Tw(_t,us.fieldPath,_t.startAt):IC(_t,us.fieldPath,_t.startAt);Ht.push(Xg.value),sn&&(sn=Xg.inclusive)}return new Tu(Ht,sn)}(C,I),ye=function(_t,Ot){const Ht=[];let sn=!0;for(const us of wd(Ot)){const Xg=0===us.kind?IC(_t,us.fieldPath,_t.endAt):Tw(_t,us.fieldPath,_t.endAt);Ht.push(Xg.value),sn&&(sn=Xg.inclusive)}return new Tu(Ht,sn)}(C,I),Ve=this.hn(I,C,q),Be=this.hn(I,C,ye),ct=this.ln(I,C,H),At=this.fn(I.indexId,R,Ve,q.inclusive,Be,ye.inclusive,ct);return re.forEach(At,_t=>r.H(_t,n.limit).next(Ot=>{Ot.forEach(Ht=>{const sn=Ke.fromSegments(Ht.documentKey);l.has(sn)||(l=l.add(sn),m.push(sn))})}))}).next(()=>m)}return re.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:wv(fn.create(e.filters,"and")).map(r=>bw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,s,u,l,m){const I=(null!=n?n.length:1)*Math.max(r.length,u.length),C=I/(null!=n?n.length:1),M=[];for(let R=0;R<I;++R){const H=n?this.dn(n[R/C]):Nf,q=this.wn(e,H,r[R%C],s),ye=this._n(e,H,u[R%C],l),Ve=m.map(Be=>this.wn(e,H,Be,!0));M.push(...this.createRange(q,ye,Ve))}return M}wn(e,n,r,s){const u=new Mf(e,Ke.empty(),n,r);return s?u:u.Je()}_n(e,n,r,s){const u=new Mf(e,Ke.empty(),n,r);return s?u.Je():u}an(e,n){const r=new kx(n),s=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let l=null;for(const m of u)r.tn(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,n){let r=2;const s=this.cn(n);return re.forEach(s,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let I=new kn(lr.comparator),C=!1;for(const M of m.filters)for(const R of M.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?C=!0:I=I.add(R.field));for(const M of m.orderBy)M.field.isKeyField()||(I=I.add(M.field));return I.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==n.limit&&s.length>1&&2===r?1:r)}mn(e,n){const r=new _v;for(const s of wd(e)){const u=n.data.field(s.fieldPath);if(null==u)return null;const l=r.He(s.kind);Af.Ve._e(u,l)}return r.Qe()}dn(e){const n=new _v;return Af.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new _v;return Af.Ve._e(yf(this.databaseId,n),r.He(function(s){const u=wd(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let s=[];s.push(new _v);let u=0;for(const l of wd(e)){const m=r[u++];for(const I of s)if(this.yn(n,l.fieldPath)&&bg(m))s=this.pn(s,l,m);else{const C=I.He(l.kind);Af.Ve._e(m,C)}}return this.In(s)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const s=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of s){const I=new _v;I.seed(m.Qe()),Af.Ve._e(l,I.He(n.kind)),u.push(I)}return u}yn(e,n){return!!e.filters.find(r=>r instanceof qt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=qw(e),s=Rf(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(u=>{const l=[];return re.forEach(u,m=>s.get([m.indexId,this.uid]).next(I=>{l.push(function(C,M){const R=M?new ff(M.sequenceNumber,new Ps(Wc(M.readTime),new Ke(jo(M.documentKey)),M.largestBatchId)):ff.empty(),H=C.fields.map(([q,ye])=>new hf(lr.fromServerFormat(q),ye));return new _g(C.indexId,C.collectionGroup,H,R)}(m,I))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Ft(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=qw(e),u=Rf(e);return this.Tn(e).next(l=>s.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(m=>re.forEach(m,I=>u.put(JC(I.indexId,this.user,l,r)))))}updateIndexEntries(e,n){const r=new Map;return re.forEach(n,(s,u)=>{const l=r.get(s.collectionGroup);return(l?re.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(r.set(s.collectionGroup,m),re.forEach(m,I=>this.En(e,s,I).next(C=>{const M=this.An(u,I);return C.isEqual(M)?re.resolve():this.vn(e,u,I,C,M)}))))})}Rn(e,n,r,s){return Cv(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,s){return Cv(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const s=Cv(e);let u=new kn(Nd);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(l,m)=>{u=u.add(new Mf(r.indexId,n,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,n){let r=new kn(Nd);const s=this.mn(n,e);if(null==s)return r;const u=lw(n);if(null!=u){const l=e.data.field(u.fieldPath);if(bg(l))for(const m of l.arrayValue.values||[])r=r.add(new Mf(n.indexId,e.key,this.dn(m),s))}else r=r.add(new Mf(n.indexId,e.key,Nf,s));return r}vn(e,n,r,s,u){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const l=[];return function(m,I,C,M,R){const H=m.getIterator(),q=I.getIterator();let ye=gf(H),Ve=gf(q);for(;ye||Ve;){let Be=!1,ct=!1;if(ye&&Ve){const At=C(ye,Ve);At<0?ct=!0:At>0&&(Be=!0)}else null!=ye?ct=!0:Be=!0;Be?(M(Ve),Ve=gf(q)):ct?(R(ye),ye=gf(H)):(ye=gf(H),Ve=gf(q))}}(s,u,Nd,m=>{l.push(this.Rn(e,n,r,m))},m=>{l.push(this.Pn(e,n,r,m))}),re.waitFor(l)}Tn(e){let n=1;return Rf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((l,m)=>Nd(l,m)).filter((l,m,I)=>!m||0!==Nd(l,I[m-1]));const s=[];s.push(e);for(const l of r){const m=Nd(l,e),I=Nd(l,n);if(0===m)s[0]=e.Je();else if(m>0&&I<0)s.push(l),s.push(l.Je());else if(I>0)break}s.push(n);const u=[];for(let l=0;l<s.length;l+=2){if(this.bn(s[l],s[l+1]))return[];u.push(IDBKeyRange.bound([s[l].indexId,this.uid,s[l].arrayValue,s[l].directionalValue,Nf,[]],[s[l+1].indexId,this.uid,s[l+1].arrayValue,s[l+1].directionalValue,Nf,[]]))}return u}bn(e,n){return Nd(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(tb)}getMinOffset(e,n){return re.mapArray(this.cn(n),r=>this.an(e,r).next(s=>s||it())).next(tb)}}function RA(t){return ui(t,"collectionParents")}function Cv(t){return ui(t,"indexEntries")}function qw(t){return ui(t,"indexConfiguration")}function Rf(t){return ui(t,"indexState")}function tb(t){pt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;dw(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Ps(e.readTime,e.documentKey,n)}const nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Li{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rb(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),u=[],l=IDBKeyRange.only(n.batchId);let m=0;const I=r.X({range:l},(M,R,H)=>(m++,H.delete()));u.push(I.next(()=>{pt(1===m)}));const C=[];for(const M of n.mutations){const R=jy(e,M.key.path,n.batchId);u.push(s.delete(R)),C.push(M.key)}return re.waitFor(u).next(()=>C)}function Hg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw it();e=t.noDocument}return JSON.stringify(e).length}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class Gg{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,n,r,s){pt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Gg(u,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yc(e).X({index:"userMutationsIndex",range:r},(s,u,l)=>{n=!1,l.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const u=Pf(e),l=Yc(e);return l.add({}).next(m=>{pt("number"==typeof m);const I=new kC(m,n,r,s),C=function(H,q,ye){const Ve=ye.baseMutations.map(ct=>Ad(H.fe,ct)),Be=ye.mutations.map(ct=>Ad(H.fe,ct));return{userId:q,batchId:ye.batchId,localWriteTimeMs:ye.localWriteTime.toMillis(),baseMutations:Ve,mutations:Be}}(this.serializer,this.userId,I),M=[];let R=new kn((H,q)=>Ft(H.canonicalString(),q.canonicalString()));for(const H of s){const q=jy(this.userId,H.key.path,m);R=R.add(H.key.path.popLast()),M.push(l.put(C)),M.push(u.put(q,gw))}return R.forEach(H=>{M.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.Vn[m]=I.keys()}),re.waitFor(M).next(()=>I)})}lookupMutationBatch(e,n){return Yc(e).get(n).next(r=>r?(pt(r.userId===this.userId),Kc(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?re.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Vn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Yc(e).X({index:"userMutationsIndex",range:s},(l,m,I)=>{m.userId===this.userId&&(pt(m.batchId>=r),u=Kc(this.serializer,m)),I.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Yc(e).X({index:"userMutationsIndex",range:n,reverse:!0},(s,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yc(e).j("userMutationsIndex",n).next(r=>r.map(s=>Kc(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=pw(this.userId,n.path),s=IDBKeyRange.lowerBound(r),u=[];return Pf(e).X({range:s},(l,m,I)=>{const[C,M,R]=l,H=jo(M);if(C===this.userId&&n.path.isEqual(H))return Yc(e).get(R).next(q=>{if(!q)throw it();pt(q.userId===this.userId),u.push(Kc(this.serializer,q))});I.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(Ft);const s=[];return n.forEach(u=>{const l=pw(this.userId,u.path),m=IDBKeyRange.lowerBound(l),I=Pf(e).X({range:m},(C,M,R)=>{const[H,q,ye]=C,Ve=jo(q);H===this.userId&&u.path.isEqual(Ve)?r=r.add(ye):R.done()});s.push(I)}),re.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,u=pw(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new kn(Ft);return Pf(e).X({range:l},(I,C,M)=>{const[R,H,q]=I,ye=jo(H);R===this.userId&&r.isPrefixOf(ye)?ye.length===s&&(m=m.add(q)):M.done()}).next(()=>this.Dn(e,m))}Dn(e,n){const r=[],s=[];return n.forEach(u=>{s.push(Yc(e).get(u).next(l=>{if(null===l)throw it();pt(l.userId===this.userId),r.push(Kc(this.serializer,l))}))}),re.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return rb(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),re.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return re.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Pf(e).X({range:r},(u,l,m)=>{if(u[0]===this.userId){const I=jo(u[1]);s.push(I)}else m.done()}).next(()=>{pt(0===s.length)})})}containsKey(e,n){return Zw(e,this.userId,n)}xn(e){return Ww(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Zw(t,e,n){const r=pw(e,n.path),s=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return Pf(t).X({range:u,Y:!0},(m,I,C)=>{const[M,R,H]=m;M===e&&R===s&&(l=!0),C.done()}).next(()=>l)}function Yc(t){return ui(t,"mutations")}function Pf(t){return ui(t,"documentMutations")}function Ww(t){return ui(t,"mutationQueues")}class xu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xu(0)}static Mn(){return new xu(-1)}}class Fx{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new xu(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>gt.fromTimestamp(new On(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.On(e,s)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Rd(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(pt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let s=0;const u=[];return Rd(e).X((l,m)=>{const I=Ra(m);I.sequenceNumber<=n&&null===r.get(I.targetId)&&(s++,u.push(this.removeTargetData(e,I)))}).next(()=>re.waitFor(u)).next(()=>s)}forEachTarget(e,n){return Rd(e).X((r,s)=>{const u=Ra(s);n(u)})}$n(e){return bv(e).get("targetGlobalKey").next(n=>(pt(null!==n),n))}On(e,n){return bv(e).put("targetGlobalKey",n)}Fn(e,n){return Rd(e).put(jg(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Hc(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Rd(e).X({range:s,index:"queryTargetsIndex"},(l,m,I)=>{const C=Ra(m);If(n,C.target)&&(u=C,I.done())}).next(()=>u)}addMatchingKeys(e,n,r){const s=[],u=Qc(e);return n.forEach(l=>{const m=ki(l.path);s.push(u.put({targetId:r,path:m})),s.push(this.referenceDelegate.addReference(e,r,l))}),re.waitFor(s)}removeMatchingKeys(e,n,r){const s=Qc(e);return re.forEach(n,u=>{const l=ki(u.path);return re.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,n){const r=Qc(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Qc(e);let u=jt();return s.X({range:r,Y:!0},(l,m,I)=>{const C=jo(l[1]),M=new Ke(C);u=u.add(M)}).next(()=>u)}containsKey(e,n){const r=ki(n.path),s=IDBKeyRange.bound([r],[LD(r)],!1,!0);let u=0;return Qc(e).X({index:"documentTargetsIndex",Y:!0,range:s},([l,m],I,C)=>{0!==l&&(u++,C.done())}).next(()=>u>0)}le(e,n){return Rd(e).get(n).next(r=>r?Ra(r):null)}}function Rd(t){return ui(t,"targets")}function bv(t){return ui(t,"targetGlobal")}function Qc(t){return ui(t,"targetDocuments")}function ib([t,e],[n,r]){const s=Ft(t,n);return 0===s?Ft(e,r):s}class Lx{constructor(e){this.Ln=e,this.buffer=new kn(ib),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ib(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Fc(r)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield kc(r)}yield n.Qn(3e5)}))}}class OA{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return re.resolve(qi.ct);const r=new Lx(n);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(nb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nb):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,s,u,l,m,I,C;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),s=this.params.maximumSequenceNumbersToCollect):s=R,l=Date.now(),this.nthSequenceNumber(e,s))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,n))).next(R=>(u=R,I=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(C=Date.now(),uw()<=Cc.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-M}ms\n\tDetermined least recently used ${s} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(I-m)+`ms\n\tRemoved ${R} documents in `+(C-I)+`ms\nTotal Duration: ${C-M}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:R})))}}class kA{constructor(e,n){this.db=e,this.garbageCollector=function sb(t,e){return new OA(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,s)=>n(s))}addReference(e,n,r){return Tv(e,r)}removeReference(e,n,r){return Tv(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Tv(e,n)}Xn(e,n){return function(r,s){let u=!1;return Ww(r).Z(l=>Zw(r,l,s).next(m=>(m&&(u=!0),re.resolve(!m)))).next(()=>u)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Yn(e,(l,m)=>{if(m<=n){const I=this.Xn(e,l).next(C=>{if(!C)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,gt.min()),Qc(e).delete([0,ki(l.path)])))});s.push(I)}}).next(()=>re.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Tv(e,n)}Yn(e,n){const r=Qc(e);let s,u=qi.ct;return r.X({index:"documentTargetsIndex"},([l,m],{path:I,sequenceNumber:C})=>{0===l?(u!==qi.ct&&n(new Ke(jo(s)),u),u=C,s=I):u=qi.ct}).next(()=>{u!==qi.ct&&n(new Ke(jo(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tv(t,e){return Qc(t).put((r=t.currentSequenceNumber,{targetId:0,path:ki(e.path),sequenceNumber:r}));var r}class Kw{constructor(){this.changes=new Su(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ob{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Of(e).put(r)}removeEntry(e,n,r){return Of(e).delete(function(s,u){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Bg(u),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=Fn.newInvalidDocument(n);return Of(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zg(n))},(s,u)=>{r=this.ts(n,u)}).next(()=>r)}es(e,n){let r={size:0,document:Fn.newInvalidDocument(n)};return Of(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zg(n))},(s,u)=>{r={document:this.ts(n,u),size:Hg(u)}}).next(()=>r)}getEntries(e,n){let r=os();return this.ns(e,n,(s,u)=>{const l=this.ts(s,u);r=r.insert(s,l)}).next(()=>r)}ss(e,n){let r=os(),s=new An(Ke.comparator);return this.ns(e,n,(u,l)=>{const m=this.ts(u,l);r=r.insert(u,m),s=s.insert(u,Hg(l))}).next(()=>({documents:r,rs:s}))}ns(e,n,r){if(n.isEmpty())return re.resolve();let s=new kn(Qw);n.forEach(I=>s=s.add(I));const u=IDBKeyRange.bound(zg(s.first()),zg(s.last())),l=s.getIterator();let m=l.getNext();return Of(e).X({index:"documentKeyIndex",range:u},(I,C,M)=>{const R=Ke.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&Qw(m,R)<0;)r(m,null),m=l.getNext();m&&m.isEqual(R)&&(r(m,C),m=l.hasNext()?l.getNext():null),m?M.G(zg(m)):M.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,n,r,s){const u=n.path,l=[u.popLast().toArray(),u.lastSegment(),Bg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Of(e).j(IDBKeyRange.bound(l,m,!0)).next(I=>{let C=os();for(const M of I){const R=this.ts(Ke.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);R.isFoundDocument()&&(Mg(n,R)||s.has(R.key))&&(C=C.insert(R.key,R))}return C})}getAllFromCollectionGroup(e,n,r,s){let u=os();const l=Sv(n,r),m=Sv(n,Ps.max());return Of(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(I,C,M)=>{const R=this.ts(Ke.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(R.key,R),u.size===s&&M.done()}).next(()=>u)}newChangeBuffer(e){return new ub(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Yw(e).get("remoteDocumentGlobalKey").next(n=>(pt(!!n),n))}Zn(e,n){return Yw(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function Uw(t,e){let n;if(e.document)n=zC(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ke.fromSegments(e.noDocument.path),s=Wc(e.noDocument.readTime);n=Fn.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=Ke.fromSegments(e.unknownDocument.path),s=Wc(e.unknownDocument.version);n=Fn.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(r){const s=new On(r[0],r[1]);return gt.fromTimestamp(s)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(gt.min()))return r}return Fn.newInvalidDocument(e)}}function ab(t){return new ob(t)}class ub extends Kw{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Su(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new kn((u,l)=>Ft(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.us.get(u);if(n.push(this.os.removeEntry(e,u,m.readTime)),l.isValidDocument()){const I=Bw(this.os.serializer,l);s=s.add(u.path.popLast());const C=Hg(I);r+=C-m.size,n.push(this.os.addEntry(e,u,I))}else if(r-=m.size,this.trackRemovals){const I=Bw(this.os.serializer,l.convertToNoDocument(gt.min()));n.push(this.os.addEntry(e,u,I))}}),s.forEach(u=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),n.push(this.os.updateMetadata(e,r)),re.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:s})=>(s.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function Yw(t){return ui(t,"remoteDocumentGlobal")}function Of(t){return ui(t,"remoteDocumentsV14")}function zg(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Sv(t,e){const n=e.documentKey.path.toArray();return[t,Bg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Qw(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<n.length-2&&u<r.length-2;++u)if(s=Ft(n[u],r[u]),s)return s;return s=Ft(n.length,r.length),s||(s=Ft(n[n.length-2],r[r.length-2]),s||Ft(n[n.length-1],r[r.length-1]))}class cb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lb{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(null!==r&&cv(r.mutation,s,ss.empty(),On.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,jt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=jt()){const s=Os();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(u=>{let l=Df();return u.forEach((m,I)=>{l=l.insert(m,I.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,jt()))}populateOverlays(e,n,r){const s=[];return r.forEach(u=>{n.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,m)=>{n.set(l,m)})})}computeViews(e,n,r,s){let u=os();const l=ov(),m=ov();return n.forEach((I,C)=>{const M=r.get(C.key);s.has(C.key)&&(void 0===M||M.mutation instanceof zc)?u=u.insert(C.key,C):void 0!==M?(l.set(C.key,M.mutation.getFieldMask()),cv(M.mutation,C,M.mutation.getFieldMask(),On.now())):l.set(C.key,ss.empty())}),this.recalculateAndSaveOverlays(e,u).next(I=>(I.forEach((C,M)=>l.set(C,M)),n.forEach((C,M)=>{var R;return m.set(C,new cb(M,null!==(R=l.get(C))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,n){const r=ov();let s=new An((l,m)=>l-m),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const m of l)m.keys().forEach(I=>{const C=n.get(I);if(null===C)return;let M=r.get(I)||ss.empty();M=m.applyToLocalView(C,M),r.set(I,M);const R=(s.get(m.batchId)||jt()).add(I);s=s.insert(m.batchId,R)})}).next(()=>{const l=[],m=s.getReverseIterator();for(;m.hasNext();){const I=m.getNext(),C=I.key,M=I.value,R=sv();M.forEach(H=>{if(!u.has(H)){const q=RC(n.get(H),r.get(H));null!==q&&R.set(H,q),u=u.add(H)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,R))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return Ke.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):DC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var s}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-u.size):re.resolve(Os());let m=-1,I=u;return l.next(C=>re.forEach(C,(M,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(M)?re.resolve():this.remoteDocumentCache.getEntry(e,M).next(H=>{I=I.insert(M,H)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,I,C,jt())).next(M=>({batchId:m,changes:TC(M)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next(r=>{let s=Df();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let u=Df();return this.indexManager.getCollectionParents(e,s).next(l=>re.forEach(l,m=>{const I=(C=n,M=m.child(s),new Ma(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.getDocumentsMatchingCollectionQuery(e,I,r).next(C=>{C.forEach((M,R)=>{u=u.insert(M,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(u=>{s.forEach((m,I)=>{const C=I.getKey();null===u.get(C)&&(u=u.insert(C,Fn.newInvalidDocument(C)))});let l=Df();return u.forEach((m,I)=>{const C=s.get(m);void 0!==C&&cv(C.mutation,I,ss.empty(),On.now()),Mg(n,I)&&(l=l.insert(m,I))}),l})}}class Av{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return re.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:dr(r.createTime)}),re.resolve()}getNamedQuery(e,n){return re.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:gv(r.bundledQuery),readTime:dr(r.readTime)}),re.resolve();var r}}class FA{constructor(){this.overlays=new An(Ke.comparator),this.ls=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Os();return re.forEach(n,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,u)=>{this.we(e,n,u)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const s=Os(),u=n.length+1,l=new Ke(n.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const I=m.getNext().value,C=I.getKey();if(!n.isPrefixOf(C.path))break;C.path.length===u&&I.largestBatchId>r&&s.set(I.getKey(),I)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let u=new An((C,M)=>C-M);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===n&&C.largestBatchId>r){let M=u.get(C.largestBatchId);null===M&&(M=Os(),u=u.insert(C.largestBatchId,M)),M.set(C.getKey(),C)}}const m=Os(),I=u.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((C,M)=>m.set(C,M)),!(m.size()>=s)););return re.resolve(m)}we(e,n,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Og(n,r));let u=this.ls.get(n);void 0===u&&(u=jt(),this.ls.set(n,u)),this.ls.set(n,u.add(r.key))}}class Jw{constructor(){this.fs=new kn(qr.ds),this.ws=new kn(qr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new qr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new qr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ke(new Xt([])),r=new qr(n,e),s=new qr(n,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ke(new Xt([])),r=new qr(n,e),s=new qr(n,e+1);let u=jt();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const n=new qr(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class qr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ke.comparator(e.key,n.key)||Ft(e.As,n.As)}static _s(e,n){return Ft(e.As,n.As)||Ke.comparator(e.key,n.key)}}class db{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new kn(qr.ds)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,s){const u=this.vs;this.vs++;const l=new kC(u,n,r,s);this.mutationQueue.push(l);for(const m of s)this.Rs=this.Rs.add(new qr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=this.bs(n+1),u=s<0?0:s;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qr(n,0),s=new qr(n,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const m=this.Ps(l.As);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(Ft);return n.forEach(s=>{const u=new qr(s,0),l=new qr(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),re.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const l=new qr(new Ke(u),0);let m=new kn(Ft);return this.Rs.forEachWhile(I=>{const C=I.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(m=m.add(I.As)),!0)},l),re.resolve(this.Vs(m))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&n.push(s)}),n}removeMutationBatch(e,n){pt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return re.forEach(n.mutations,s=>{const u=new qr(s.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new qr(n,0),s=this.Rs.firstAfterOrEqual(r);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return re.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Vx{constructor(e){this.Ds=e,this.docs=new An(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():Fn.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let u=os();const l=n.path,m=new Ke(l.child("")),I=this.docs.getIteratorFrom(m);for(;I.hasNext();){const{key:C,value:{document:M}}=I.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||dw(UD(M),r)<=0||(s.has(M.key)||Mg(n,M))&&(u=u.insert(M.key,M.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,r,s){it()}Cs(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LA(this)}getSize(e){return re.resolve(this.size)}}class LA extends Kw{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Ux{constructor(e){this.persistence=e,this.xs=new Su(n=>Hc(n),If),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Jw,this.targetCount=0,this.Ms=xu.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),re.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new xu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Fn(n),re.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let s=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=n&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),re.waitFor(u).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,u=[];return s&&n.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.ks.containsKey(n))}}class Xw{constructor(e,n){this.$s={},this.overlays={},this.Os=new qi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ux(this),this.indexManager=new NA,this.remoteDocumentCache=new Vx(r=>this.referenceDelegate.Ls(r)),this.serializer=new TA(n),this.qs=new Av(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new db(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Fe("MemoryPersistence","Starting transaction:",e);const s=new Bx(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,n){return re.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Bx extends jD{constructor(e){super(),this.currentSequenceNumber=e}}class eI{constructor(e){this.persistence=e,this.Qs=new Jw,this.js=null}static zs(e){return new eI(e)}get Ws(){if(this.js)return this.js;throw it()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),re.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ws,r=>{const s=Ke.fromPath(r);return this.Hs(e,s).next(u=>{u||n.removeEntry(s,gt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return re.or([()=>re.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class VA{constructor(e){this.serializer=e}O(e,n,r,s){const u=new wg("createOrUpgrade",n);var m;r<1&&s>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zD,{unique:!0}),m.createObjectStore("documentMutations"),UA(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=re.resolve();return r<3&&s>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),UA(e)),l=l.next(()=>function(m){const I=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gt.min().toTimestamp(),targetCount:0};return I.put("targetGlobalKey",C)}(u))),r<4&&s>=4&&(0!==r&&(l=l.next(()=>function(m,I){return I.store("mutations").j().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zD,{unique:!0});const M=I.store("mutations"),R=C.map(H=>M.put(H));return re.waitFor(R)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(l=l.next(()=>this.Ys(u))),r<6&&s>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&s>=7&&(l=l.next(()=>this.Zs(u))),r<8&&s>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&s>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(l=l.next(()=>this.ei(u))),r<11&&s>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(l=l.next(()=>{!function(m){const I=m.createObjectStore("documentOverlays",{keyPath:qS});I.createIndex("collectionPathOverlayIndex",ZS,{unique:!1}),I.createIndex("collectionGroupOverlayIndex",WS,{unique:!1})}(e)})),r<13&&s>=13&&(l=l.next(()=>function(m){const I=m.createObjectStore("remoteDocumentsV14",{keyPath:HS});I.createIndex("documentKeyIndex",qD),I.createIndex("collectionGroupIndex",ZD)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(l=l.next(()=>this.si(e,u))),r<15&&s>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:YD}).createIndex("sequenceNumberIndex",QD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:JD}).createIndex("documentKeyIndex",zS,{unique:!1})}(e))),l}Xs(e){let n=0;return e.store("remoteDocuments").X((r,s)=>{n+=Hg(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(s=>re.forEach(s,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(m=>re.forEach(m,I=>{pt(I.userId===u.userId);const C=Kc(this.serializer,I);return rb(e,u.userId,C).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((l,m)=>{const I=new Xt(l),C=[0,ki(I)];u.push(n.get(C).next(M=>M?re.resolve():n.put({targetId:0,path:ki(I),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>re.waitFor(u))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:KD});const r=n.store("collectionParents"),s=new $g,u=l=>{if(s.add(l)){const m=l.lastSegment(),I=l.popLast();return r.put({collectionId:m,parent:ki(I)})}};return n.store("remoteDocuments").X({Y:!0},(l,m)=>{const I=new Xt(l);return u(I.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([l,m,I],C)=>{const M=jo(m);return u(M.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,s)=>{const u=Ra(s),l=jg(this.serializer,u);return n.put(l)})}ni(e,n){const r=n.store("remoteDocuments"),s=[];return r.X((u,l)=>{const m=n.store("remoteDocumentsV14"),I=(C=l,C.document?new Ke(Xt.fromString(C.document.name).popFirst(5)):C.noDocument?Ke.fromSegments(C.noDocument.path):C.unknownDocument?Ke.fromSegments(C.unknownDocument.path):it()).path.toArray();var C;const M={prefixPath:I.slice(0,I.length-2),collectionGroup:I[I.length-2],documentId:I[I.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(m.put(M))}).next(()=>re.waitFor(s))}si(e,n){const r=n.store("mutations"),s=ab(this.serializer),u=new Xw(eI.zs,this.serializer.fe);return r.j().next(l=>{const m=new Map;return l.forEach(I=>{var C;let M=null!==(C=m.get(I.userId))&&void 0!==C?C:jt();Kc(this.serializer,I).keys().forEach(R=>M=M.add(R)),m.set(I.userId,M)}),re.forEach(m,(I,C)=>{const M=new zr(C),R=yv.de(this.serializer,M),H=u.getIndexManager(M),q=Gg.de(M,this.serializer,H,u.referenceDelegate);return new lb(s,q,R,H).recalculateAndSaveOverlaysForDocumentKeys(new eC(n,qi.ct),I).next()})})}}function UA(t){t.createObjectStore("targetDocuments",{keyPath:WD}).createIndex("documentTargetsIndex",mw,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",GS,{unique:!0}),t.createObjectStore("targetGlobal")}const hb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fb{constructor(e,n,r,s,u,l,m,I,C,M,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=u,this.window=l,this.document=m,this.ri=C,this.oi=M,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=H=>Promise.resolve(),!fb.D())throw new Ae(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kA(this,s),this.di=n+"main",this.serializer=new TA(I),this.wi=new Bo(this.di,this.ui,new VA(this.serializer)),this.Bs=new Fx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ab(this.serializer),this.qs=new Px,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===M&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(ae.FAILED_PRECONDITION,hb);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new qi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,ge.Z)(function*(s){if(n.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ge.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(Fc(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return xv(e).get("owner").next(n=>re.resolve(this.Ri(n)))}Pi(e){return tI(e).delete(this.clientId)}bi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=ui(r,"clientMetadata");return s.j().next(u=>{const l=e.Si(u,18e5),m=u.filter(I=>-1===l.indexOf(I));return re.forEach(m,I=>s.delete(I.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?re.resolve(!0):xv(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Ae(ae.FAILED_PRECONDITION,hb);return!1}}return!(!this.networkEnabled||!this.inForeground)||tI(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Fe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new eC(n,qi.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>tI(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return Gg.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Dv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return yv.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Fe("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===n?"readonly":"readwrite",u=15===(l=this.ui)?KS:14===l?XD:13===l?vw:12===l?Mx:11===l?yw:void it();var l;let m;return this.wi.runTransaction(e,s,u,I=>(m=new eC(I,this.Os?this.Os.next():qi.ct),"readwrite-primary"===n?this.Ti(m).next(C=>!!C||this.Ei(m)).next(C=>{if(!C)throw Er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ae(ae.FAILED_PRECONDITION,BD);return r(m)}).next(C=>this.vi(m).next(()=>C)):this.Oi(m).next(()=>r(m)))).then(I=>(m.raiseOnCommittedEvent(),I))}Oi(e){return xv(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ae(ae.FAILED_PRECONDITION,hb)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xv(e).put("owner",n)}static D(){return Bo.D()}Ai(e){const n=xv(e);return n.get("owner").next(r=>this.Ri(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):re.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(Er(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,un.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Er("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xv(t){return ui(t,"owner")}function tI(t){return ui(t,"clientMetadata")}function nI(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class pb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=jt(),s=jt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new pb(e,n.fromCache,r,s)}}class BA{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(u=>u||this.Gi(e,n,s,r)).next(u=>u||this.Qi(e,n))}Ki(e,n){if(Cd(n))return re.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==n.limit&&1===s&&(n=Aw(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=jt(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(I=>{const C=this.ji(n,m);return this.zi(n,C,l,I.readTime)?this.Ki(e,Aw(n,null,"F")):this.Wi(e,C,n,I)}))})))}Gi(e,n,r,s){return Cd(n)||s.isEqual(gt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(n,u);return this.zi(n,l,r,s)?this.Qi(e,n):(uw()<=Cc.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bd(n)),this.Wi(e,l,n,VD(s,-1)))})}ji(e,n){let r=new kn(CC(e));return n.forEach((s,u)=>{Mg(e,u)&&(r=r.add(u))}),r}zi(e,n,r,s){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const u="F"===e.limitType?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,n){return uw()<=Cc.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",bd(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ps.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(n.forEach(l=>{u=u.insert(l.key,l)}),u))}}class jx{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new An(Ft),this.Yi=new Su(u=>Hc(u),If),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lb(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function jA(t,e,n,r){return new jx(t,e,n,r)}function $A(t,e){return rI.apply(this,arguments)}function rI(){return rI=(0,ge.Z)(function*(t,e){const n=We(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let I=jt();for(const C of s){l.push(C.batchId);for(const M of C.mutations)I=I.add(M.key)}for(const C of u){m.push(C.batchId);for(const M of C.mutations)I=I.add(M.key)}return n.localDocuments.getDocuments(r,I).next(C=>({er:C,removedBatchIds:l,addedBatchIds:m}))})})}),rI.apply(this,arguments)}function i(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function a(t,e,n){let r=jt(),s=jt();return n.forEach(u=>r=r.add(u)),e.getEntries(t,r).next(u=>{let l=os();return n.forEach((m,I)=>{const C=u.get(m);I.isFoundDocument()!==C.isFoundDocument()&&(s=s.add(m)),I.isNoDocument()&&I.version.isEqual(gt.min())?(e.removeEntry(m,I.readTime),l=l.insert(m,I)):!C.isValidDocument()||I.version.compareTo(C.version)>0||0===I.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(I),l=l.insert(m,I)):Fe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",I.version)}),{nr:l,sr:s}})}function c(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(u=>u?(s=u,re.resolve(s)):n.Bs.allocateTargetId(r).next(l=>(s=new Na(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function p(t,e,n){return y.apply(this,arguments)}function y(){return y=(0,ge.Z)(function*(t,e,n){const r=We(t),s=r.Ji.get(e),u=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Fc(l))throw l;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),y.apply(this,arguments)}function w(t,e,n){const r=We(t);let s=gt.min(),u=jt();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,I,C){const M=We(m),R=M.Yi.get(C);return void 0!==R?re.resolve(M.Ji.get(R)):M.Bs.getTargetData(I,C)}(r,l,Fi(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(I=>{u=I})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,n?s:gt.min(),n?u:jt())).next(m=>(x(r,rv(e),m),{documents:m,ir:u})))}function D(t,e){const n=We(t),r=We(n.Bs),s=n.Ji.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function S(t,e){const n=We(t),r=n.Xi.get(e)||gt.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.Zi.getAllFromCollectionGroup(s,e,VD(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(x(n,e,s),s))}function x(t,e,n){let r=t.Xi.get(e)||gt.min();n.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),t.Xi.set(e,r)}function G(){return G=(0,ge.Z)(function*(t,e,n,r){const s=We(t);let u=jt(),l=os();for(const C of n){const M=e.rr(C.metadata.name);C.document&&(u=u.add(M));const R=e.ur(C);R.setReadTime(e.cr(C.metadata.readTime)),l=l.insert(M,R)}const m=s.Zi.newChangeBuffer({trackRemovals:!0}),I=yield d(s,(C=r,Fi(Rr(Xt.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",C=>a(C,m,l).next(M=>(m.apply(C),M)).next(M=>s.Bs.removeMatchingKeysForTargetId(C,I.targetId).next(()=>s.Bs.addMatchingKeys(C,u,I.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(C,M.nr,M.sr)).next(()=>M.nr)))}),G.apply(this,arguments)}function K(t,e){return me.apply(this,arguments)}function me(){return me=(0,ge.Z)(function*(t,e,n=jt()){const r=yield d(t,Fi(gv(e.bundledQuery))),s=We(t);return s.persistence.runTransaction("Save named query","readwrite",u=>{const l=dr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return s.qs.saveNamedQuery(u,e);const m=r.withResumeToken(Nr.EMPTY_BYTE_STRING,l);return s.Ji=s.Ji.insert(m.targetId,m),s.Bs.updateTargetData(u,m).next(()=>s.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Bs.addMatchingKeys(u,n,r.targetId)).next(()=>s.qs.saveNamedQuery(u,e))})}),me.apply(this,arguments)}function ke(t,e){return`firestore_clients_${t}_${e}`}function Je(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ut(t,e){return`firestore_targets_${t}_${e}`}class Te{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static ar(e,n,r){const s=JSON.parse(r);let u,l="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(u=new Ae(s.error.code,s.error.message))),l?new Te(e,n,s.state,u):(Er("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class St{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Ae(r.error.code,r.error.message))),u?new St(e,r.state,s):(Er("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=Mw();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=By(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return s?new $t(e,u):(Er("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class cn{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new cn(n.clientId,n.onlineState):(Er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Vi{constructor(){this.activeTargetIds=Mw()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ho{constructor(e,n,r,s,u){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new An(Ft),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=ke(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Vi),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const n=yield e.syncEngine.$i();for(const s of n){if(s===e.wr)continue;const u=e.getItem(ke(e.persistenceKey,s));if(u){const l=$t.ar(s,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ut(this.persistenceKey,e));if(r){const s=St.ar(e,r);s&&(n=s.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ut(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Fe("SharedClientState","READ",e,n),n}setItem(e,n){Fe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ge.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const s=n.Or(r.key);return n.Fr(s,null)}{const s=n.Br(r.key,r.newValue);if(s)return n.Fr(s.clientId,s)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const s=n.Lr(r.key,r.newValue);if(s)return n.qr(s)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const s=n.Ur(r.key,r.newValue);if(s)return n.Kr(s)}}else if(r.key===n.vr){if(null!==r.newValue){const s=n.br(r.newValue);if(s)return n.Vr(s)}}else if(r.key===n.Ir){const s=function(u){let l=qi.ct;if(null!=u)try{const m=JSON.parse(u);pt("number"==typeof m),l=m}catch(m){Er("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);s!==qi.ct&&n.sequenceNumberHandler(s)}else if(r.key===n.Rr){const s=n.Gr(r.newValue);yield Promise.all(s.map(u=>n.syncEngine.Qr(u)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const s=new Te(this.currentUser,e,n,r),u=Je(this.persistenceKey,this.currentUser,e);this.setItem(u,s.hr())}Cr(e){const n=Je(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const s=ut(this.persistenceKey,e),u=new St(e,n,r);this.setItem(s,u.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return $t.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),s=Number(r[1]);return Te.ar(new zr(void 0!==r[2]?r[2]:null),s,n)}Ur(e,n){const r=this.Ar.exec(e),s=Number(r[1]);return St.ar(s,n)}br(e){return cn.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,ge.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),s=this.Sr(this.gr),u=this.Sr(r),l=[],m=[];return u.forEach(I=>{s.has(I)||l.push(I)}),s.forEach(I=>{u.has(I)||m.push(I)}),this.syncEngine.Wr(l,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=Mw();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class Pd{constructor(){this.Hr=new Vi,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Vi,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iI{Yr(e){}shutdown(){}}class gb{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Nv=null;function HA(){return null===Nv?Nv=268435456+Math.round(2147483648*Math.random()):Nv++,"0x"+Nv.toString(16)}const JR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const as="WebChannelConnection";class eP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,u){const l=HA(),m=this.To(e,n);Fe("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const I={};return this.Eo(I,s,u),this.Ao(e,m,I,r).then(C=>(Fe("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw Uo("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",m,"request:",r),C})}vo(e,n,r,s,u,l){return this.Io(e,n,r,s,u)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,n){return`${this.mo}/v1/${n}:${JR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const u=HA();return new Promise((l,m)=>{const I=new vg;I.setWithCredentials(!0),I.listenOnce(MD.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case af.NO_ERROR:const M=I.getResponseJson();Fe(as,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(M)),l(M);break;case af.TIMEOUT:Fe(as,`RPC '${e}' ${u} timed out`),m(new Ae(ae.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const R=I.getStatus();if(Fe(as,`RPC '${e}' ${u} failed with status:`,R,"response text:",I.getResponseText()),R>0){let H=I.getResponseJson();Array.isArray(H)&&(H=H[0]);const q=H?.error;if(q&&q.status&&q.message){const ye=function(Ve){const Be=Ve.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Be)>=0?Be:ae.UNKNOWN}(q.status);m(new Ae(ye,q.message))}else m(new Ae(ae.UNKNOWN,"Server responded with status "+I.getStatus()))}else m(new Ae(ae.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Fe(as,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(s);Fe(as,`RPC '${e}' ${u} sending request:`,s),I.send(n,"POST",C,r,15)})}Ro(e,n,r){const s=HA(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=xS(),m=NS(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(I.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(I.xmlHttpFactory=new RS({})),this.Eo(I.initMessageHeaders,n,r),I.encodeInitMessageHeaders=!0;const M=u.join("");Fe(as,`Creating RPC '${e}' stream ${s}: ${M}`,I);const R=l.createWebChannel(M,I);let H=!1,q=!1;const ye=new XR({ro:Be=>{q?Fe(as,`Not sending because RPC '${e}' stream ${s} is closed:`,Be):(H||(Fe(as,`Opening RPC '${e}' stream ${s} transport.`),R.open(),H=!0),Fe(as,`RPC '${e}' stream ${s} sending:`,Be),R.send(Be))},oo:()=>R.close()}),Ve=(Be,ct,At)=>{Be.listen(ct,_t=>{try{At(_t)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return Ve(R,Oc.EventType.OPEN,()=>{q||Fe(as,`RPC '${e}' stream ${s} transport opened.`)}),Ve(R,Oc.EventType.CLOSE,()=>{q||(q=!0,Fe(as,`RPC '${e}' stream ${s} transport closed`),ye.wo())}),Ve(R,Oc.EventType.ERROR,Be=>{q||(q=!0,Uo(as,`RPC '${e}' stream ${s} transport errored:`,Be),ye.wo(new Ae(ae.UNAVAILABLE,"The operation could not be completed")))}),Ve(R,Oc.EventType.MESSAGE,Be=>{var ct;if(!q){const At=Be.data[0];pt(!!At);const Ot=At.error||(null===(ct=At[0])||void 0===ct?void 0:ct.error);if(Ot){Fe(as,`RPC '${e}' stream ${s} received error:`,Ot);const Ht=Ot.status;let sn=function(Xg){const zR=Yn[Xg];if(void 0!==zR)return dA(zR)}(Ht),us=Ot.message;void 0===sn&&(sn=ae.INTERNAL,us="Unknown error status: "+Ht+" with message "+Ot.message),q=!0,ye.wo(new Ae(sn,us)),R.close()}else Fe(as,`RPC '${e}' stream ${s} received:`,At),ye._o(At)}}),Ve(m,xD.STAT_EVENT,Be=>{Be.stat===aw.PROXY?Fe(as,`RPC '${e}' stream ${s} detected buffering proxy`):Be.stat===aw.NOPROXY&&Fe(as,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ye.fo()},0),ye}}function Hx(){return typeof window<"u"?window:null}function mb(){return typeof document<"u"?document:null}function sI(t){return new vA(t,!0)}class GA{constructor(e,n,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&Fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Gx{constructor(e,n,r,s,u,l,m,I){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=I,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new GA(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ge.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ge.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,ge.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new Ae(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,ge.Z)(function*(){e.state=0,e.start()}))}tu(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tP extends Gx{constructor(e,n,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=u}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function IA(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:it(),s=e.targetChange.targetIds||[],u=function(I,C){return I.useProto3Json?(pt(void 0===C||"string"==typeof C),Nr.fromBase64String(C||"")):(pt(void 0===C||C instanceof Uint8Array),Nr.fromUint8Array(C||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(I){const C=void 0===I.code?ae.UNKNOWN:dA(I.code);return new Ae(C,I.message||"")}(l);n=new BC(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=$o(t,r.document.name),u=dr(r.document.updateTime),l=r.document.createTime?dr(r.document.createTime):gt.min(),m=new ci({mapValue:{fields:r.document.fields}}),I=Fn.newFoundDocument(s,u,l,m);n=new dv(r.targetIds||[],r.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const r=e.documentDelete,s=$o(t,r.document),u=r.readTime?dr(r.readTime):gt.min(),l=Fn.newNoDocument(s,u);n=new dv([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=$o(t,r.document);n=new dv([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return it();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new cA(s,u);n=new UC(r.targetId,l)}}var I;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return gt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?gt.min():u.readTime?dr(u.readTime):gt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=li(this.serializer),n.addTarget=function(s,u){let l;const m=u.target;if(l=ev(m)?{documents:pv(s,m)}:{query:Ug(s,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=HC(s,u.resumeToken);const I=kw(s,u.expectedCount);null!==I&&(l.expectedCount=I)}else if(u.snapshotVersion.compareTo(gt.min())>0){l.readTime=Sf(s,u.snapshotVersion.toTimestamp());const I=kw(s,u.expectedCount);null!==I&&(l.expectedCount=I)}return l}(this.serializer,e);const r=function Rx(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=li(this.serializer),n.removeTarget=e,this.Wo(n)}}class nP extends Gx{constructor(e,n,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function ZC(t,e){return t&&t.length>0?(pt(void 0!==e),t.map(n=>function(r,s){let u=dr(r.updateTime?r.updateTime:s);return u.isEqual(gt.min())&&(u=dr(s)),new NC(u,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.cu(r,n)}return pt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=li(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ad(this.serializer,r))};this.Wo(n)}}class rP extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,n,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ae.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,n,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(ae.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class sP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Er(n),this.mu=!1):Fe("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class oP{constructor(e,n,r,s,u){var l=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,ge.Z)(function*(){var I;kf(l)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,ge.Z)(function*(C){const M=We(C);M.vu.add(4),yield Rv(M),M.bu.set("Unknown"),M.vu.delete(4),yield oI(M)}),function(C){return I.apply(this,arguments)})(l))}))}),this.bu=new sP(r,s)}}function oI(t){return qA.apply(this,arguments)}function qA(){return qA=(0,ge.Z)(function*(t){if(kf(t))for(const e of t.Ru)yield e(!0)}),qA.apply(this,arguments)}function Rv(t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,ge.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),ZA.apply(this,arguments)}function yb(t,e){const n=We(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),YA(n)?KA(n):Ov(n).Ko()&&WA(n,e))}function aI(t,e){const n=We(t),r=Ov(n);n.Au.delete(e),r.Ko()&&zx(n,e),0===n.Au.size&&(r.Ko()?r.jo():kf(n)&&n.bu.set("Unknown"))}function WA(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ov(t).su(e)}function zx(t,e){t.Vu.qt(e),Ov(t).iu(e)}function KA(t){t.Vu=new pA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ov(t).start(),t.bu.gu()}function YA(t){return kf(t)&&!Ov(t).Uo()&&t.Au.size>0}function kf(t){return 0===We(t).vu.size}function qx(t){t.Vu=void 0}function aP(t){return QA.apply(this,arguments)}function QA(){return QA=(0,ge.Z)(function*(t){t.Au.forEach((e,n)=>{WA(t,e)})}),QA.apply(this,arguments)}function uP(t,e){return JA.apply(this,arguments)}function JA(){return JA=(0,ge.Z)(function*(t,e){qx(t),YA(t)?(t.bu.Iu(e),KA(t)):t.bu.set("Unknown")}),JA.apply(this,arguments)}function cP(t,e,n){return XA.apply(this,arguments)}function XA(){return XA=(0,ge.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof BC&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(s,u){const l=u.cause;for(const m of u.targetIds)s.Au.has(m)&&(yield s.remoteSyncer.rejectListen(m,l),s.Au.delete(m),s.Vu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(t,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vb(t,r)}else if(e instanceof dv?t.Vu.Ht(e):e instanceof UC?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(gt.min()))try{const r=yield i(t.localStore);n.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((m,I)=>{if(m.resumeToken.approximateByteSize()>0){const C=s.Au.get(I);C&&s.Au.set(I,C.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,I)=>{const C=s.Au.get(m);if(!C)return;s.Au.set(m,C.withResumeToken(Nr.EMPTY_BYTE_STRING,C.snapshotVersion)),zx(s,m);const M=new Na(C.target,m,I,C.sequenceNumber);WA(s,M)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield vb(t,r)}var r}),XA.apply(this,arguments)}function vb(t,e,n){return e1.apply(this,arguments)}function e1(){return e1=(0,ge.Z)(function*(t,e,n){if(!Fc(e))throw e;t.vu.add(1),yield Rv(t),t.bu.set("Offline"),n||(n=()=>i(t.localStore)),t.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield oI(t)}))}),e1.apply(this,arguments)}function Zx(t,e){return e().catch(n=>vb(t,n,e))}function Pv(t){return t1.apply(this,arguments)}function t1(){return t1=(0,ge.Z)(function*(t){const e=We(t),n=Ff(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;lP(e);)try{const s=yield c(e.localStore,r);if(null===s){0===e.Eu.length&&n.jo();break}r=s.batchId,dP(e,s)}catch(s){yield vb(e,s)}Wx(e)&&Kx(e)}),t1.apply(this,arguments)}function lP(t){return kf(t)&&t.Eu.length<10}function dP(t,e){t.Eu.push(e);const n=Ff(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Wx(t){return kf(t)&&!Ff(t).Uo()&&t.Eu.length>0}function Kx(t){Ff(t).start()}function hP(t){return n1.apply(this,arguments)}function n1(){return n1=(0,ge.Z)(function*(t){Ff(t).hu()}),n1.apply(this,arguments)}function fP(t){return r1.apply(this,arguments)}function r1(){return r1=(0,ge.Z)(function*(t){const e=Ff(t);for(const n of t.Eu)e.uu(n.mutations)}),r1.apply(this,arguments)}function pP(t,e,n){return i1.apply(this,arguments)}function i1(){return i1=(0,ge.Z)(function*(t,e,n){const r=t.Eu.shift(),s=lv.from(r,e,n);yield Zx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),yield Pv(t)}),i1.apply(this,arguments)}function gP(t,e){return s1.apply(this,arguments)}function s1(){return s1=(0,ge.Z)(function*(t,e){var n;e&&Ff(t).ou&&(yield(n=(0,ge.Z)(function*(r,s){if(lA(u=s.code)&&u!==ae.ABORTED){const l=r.Eu.shift();Ff(r).Qo(),yield Zx(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield Pv(r)}var u}),function(r,s){return n.apply(this,arguments)})(t,e)),Wx(t)&&Kx(t)}),s1.apply(this,arguments)}function Yx(t,e){return o1.apply(this,arguments)}function o1(){return o1=(0,ge.Z)(function*(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=kf(n);n.vu.add(3),yield Rv(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield oI(n)}),o1.apply(this,arguments)}function a1(t,e){return u1.apply(this,arguments)}function u1(){return u1=(0,ge.Z)(function*(t,e){const n=We(t);e?(n.vu.delete(2),yield oI(n)):e||(n.vu.add(2),yield Rv(n),n.bu.set("Unknown"))}),u1.apply(this,arguments)}function Ov(t){return t.Su||(t.Su=function(e,n,r){const s=We(e);return s.fu(),new tP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:aP.bind(null,t),ao:uP.bind(null,t),nu:cP.bind(null,t)}),t.Ru.push(function(){var e=(0,ge.Z)(function*(n){n?(t.Su.Qo(),YA(t)?KA(t):t.bu.set("Unknown")):(yield t.Su.stop(),qx(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ff(t){return t.Du||(t.Du=function(e,n,r){const s=We(e);return s.fu(),new nP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:hP.bind(null,t),ao:gP.bind(null,t),au:fP.bind(null,t),cu:pP.bind(null,t)}),t.Ru.push(function(){var e=(0,ge.Z)(function*(n){n?(t.Du.Qo(),yield Pv(t)):(yield t.Du.stop(),t.Eu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class c1{constructor(e,n,r,s,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,s,u){const l=Date.now()+r,m=new c1(e,n,l,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(t,e){if(Er("AsyncQueue",`${e}: ${t}`),Fc(t))return new Ae(ae.UNAVAILABLE,`${e}: ${t}`);throw t}class Fv{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=Df(),this.sortedSet=new An(this.comparator)}static emptySet(e){return new Fv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fv)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Fv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Qx{constructor(){this.Cu=new An(Ke.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):it():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lv{constructor(e,n,r,s,u,l,m,I,C){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=I,this.hasCachedResults=C}static fromInitialDocuments(e,n,r,s,u){const l=[];return n.forEach(m=>{l.push({type:0,doc:m})}),new Lv(e,n,Fv.emptySet(n),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class mP{constructor(){this.Nu=void 0,this.listeners=[]}}class yP{constructor(){this.queries=new Su(e=>JS(e),nv),this.onlineState="Unknown",this.ku=new Set}}function l1(t,e){return d1.apply(this,arguments)}function d1(){return d1=(0,ge.Z)(function*(t,e){const n=We(t),r=e.query;let s=!1,u=n.queries.get(r);if(u||(s=!0,u=new mP),s)try{u.Nu=yield n.onListen(r)}catch(l){const m=kv(l,`Initialization of query '${bd(e.query)}' failed`);return void e.onError(m)}n.queries.set(r,u),u.listeners.push(e),e.Mu(n.onlineState),u.Nu&&e.$u(u.Nu)&&p1(n)}),d1.apply(this,arguments)}function h1(t,e){return f1.apply(this,arguments)}function f1(){return f1=(0,ge.Z)(function*(t,e){const n=We(t),r=e.query;let s=!1;const u=n.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}),f1.apply(this,arguments)}function vP(t,e){const n=We(t);let r=!1;for(const s of e){const l=n.queries.get(s.query);if(l){for(const m of l.listeners)m.$u(s)&&(r=!0);l.Nu=s}}r&&p1(n)}function _P(t,e,n){const r=We(t),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(n);r.queries.delete(e)}function p1(t){t.ku.forEach(e=>{e.next()})}class g1{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Lv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Lv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class wP{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class Jx{constructor(e){this.serializer=e}rr(e){return $o(this.serializer,e)}ur(e){return e.metadata.exists?zC(this.serializer,e.document,!1):Fn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return dr(e)}}class IP{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xx(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Xt.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new Jx(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.rr(s.metadata.name);for(const l of s.metadata.queries){const m=(n.get(l)||jt()).add(u);n.set(l,m)}}return n}complete(){var e=this;return(0,ge.Z)(function*(){const n=yield function F(t,e,n,r){return G.apply(this,arguments)}(e.localStore,new Jx(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield K(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function Xx(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class eN{constructor(e){this.key=e}}class tN{constructor(e){this.key=e}}class nN{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=jt(),this.mutatedKeys=jt(),this.tc=CC(e),this.ec=new Fv(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Qx,s=n?n.ec:this.ec;let u=n?n.mutatedKeys:this.mutatedKeys,l=s,m=!1;const I="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((M,R)=>{const H=s.get(M),q=Mg(this.query,R)?R:null,ye=!!H&&this.mutatedKeys.has(H.key),Ve=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Be=!1;H&&q?H.data.isEqual(q.data)?ye!==Ve&&(r.track({type:3,doc:q}),Be=!0):this.rc(H,q)||(r.track({type:2,doc:q}),Be=!0,(I&&this.tc(q,I)>0||C&&this.tc(q,C)<0)&&(m=!0)):!H&&q?(r.track({type:0,doc:q}),Be=!0):H&&!q&&(r.track({type:1,doc:H}),Be=!0,(I||C)&&(m=!0)),Be&&(q?(l=l.add(q),u=Ve?u.add(M):u.delete(M)):(l=l.delete(M),u=u.delete(M)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const M="F"===this.query.limitType?l.last():l.first();l=l.delete(M.key),u=u.delete(M.key),r.track({type:1,doc:M})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,M)=>function(R,H){const q=ye=>{switch(ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return q(R)-q(H)}(C.type,M.type)||this.tc(C.doc,M.doc)),this.oc(r);const l=n?this.uc():[],m=0===this.Zu.size&&this.current?1:0,I=m!==this.Xu;return this.Xu=m,0!==u.length||I?{snapshot:new Lv(this.query,e.ec,s,u,e.mutatedKeys,0===m,I,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Qx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=jt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new tN(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new eN(r))}),n}hc(e){this.Yu=e.ir,this.Zu=jt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Lv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class EP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DP{constructor(e){this.key=e,this.fc=!1}}class CP{constructor(e,n,r,s,u,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Su(m=>JS(m),nv),this._c=new Map,this.mc=new Set,this.gc=new An(Ke.comparator),this.yc=new Map,this.Ic=new Jw,this.Tc={},this.Ec=new Map,this.Ac=xu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function bP(t,e){return m1.apply(this,arguments)}function m1(){return m1=(0,ge.Z)(function*(t,e){const n=U1(t);let r,s;const u=n.wc.get(e);if(u)r=u.targetId,n.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield d(n.localStore,Fi(e)),m=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield y1(n,e,r,"current"===m,l.resumeToken),n.isPrimaryClient&&yb(n.remoteStore,l)}return s}),m1.apply(this,arguments)}function y1(t,e,n,r,s){return v1.apply(this,arguments)}function v1(){return v1=(0,ge.Z)(function*(t,e,n,r,s){t.Rc=(R,H,q)=>{return(ye=(0,ge.Z)(function*(Ve,Be,ct,At){let _t=Be.view.sc(ct);_t.zi&&(_t=yield w(Ve.localStore,Be.query,!1).then(({documents:sn})=>Be.view.sc(sn,_t)));const Ot=At&&At.targetChanges.get(Be.targetId),Ht=Be.view.applyChanges(_t,Ve.isPrimaryClient,Ot);return A1(Ve,Be.targetId,Ht.cc),Ht.snapshot}),function(Ve,Be,ct,At){return ye.apply(this,arguments)})(t,R,H,q);var ye};const u=yield w(t.localStore,e,!0),l=new nN(e,u.ir),m=l.sc(u.documents),I=Fg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,s),C=l.applyChanges(m,t.isPrimaryClient,I);A1(t,n,C.cc);const M=new EP(e,n,l);return t.wc.set(e,M),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),C.snapshot}),v1.apply(this,arguments)}function TP(t,e){return _1.apply(this,arguments)}function _1(){return _1=(0,ge.Z)(function*(t,e){const n=We(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(u=>!nv(u,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield p(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),aI(n.remoteStore,r.targetId),Vv(n,r.targetId)}).catch(kc))):(Vv(n,r.targetId),yield p(n.localStore,r.targetId,!0))}),_1.apply(this,arguments)}function w1(){return w1=(0,ge.Z)(function*(t,e,n){const r=B1(t);try{const s=yield function(u,l){const m=We(u),I=On.now(),C=l.reduce((H,q)=>H.add(q.key),jt());let M,R;return m.persistence.runTransaction("Locally write mutations","readwrite",H=>{let q=os(),ye=jt();return m.Zi.getEntries(H,C).next(Ve=>{q=Ve,q.forEach((Be,ct)=>{ct.isValidDocument()||(ye=ye.add(Be))})}).next(()=>m.localDocuments.getOverlayedDocuments(H,q)).next(Ve=>{M=Ve;const Be=[];for(const ct of l){const At=PC(ct,M.get(ct.key).overlayedDocument);null!=At&&Be.push(new zc(ct.key,At,fC(At.value.mapValue),Ln.exists(!0)))}return m.mutationQueue.addMutationBatch(H,I,Be,l)}).next(Ve=>{R=Ve;const Be=Ve.applyToLocalDocumentSet(M,ye);return m.documentOverlayCache.saveOverlays(H,Ve.batchId,Be)})}).then(()=>({batchId:R.batchId,changes:TC(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,m){let I=u.Tc[u.currentUser.toKey()];I||(I=new An(Ft)),I=I.insert(l,m),u.Tc[u.currentUser.toKey()]=I}(r,s.batchId,n),yield Od(r,s.changes),yield Pv(r.remoteStore)}catch(s){const u=kv(s,"Failed to persist write");n.reject(u)}}),w1.apply(this,arguments)}function rN(t,e){return I1.apply(this,arguments)}function I1(){return I1=(0,ge.Z)(function*(t,e){const n=We(t);try{const r=yield function o(t,e){const n=We(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const m=[];e.targetChanges.forEach((M,R)=>{const H=s.get(R);if(!H)return;m.push(n.Bs.removeMatchingKeys(u,M.removedDocuments,R).next(()=>n.Bs.addMatchingKeys(u,M.addedDocuments,R)));let q=H.withSequenceNumber(u.currentSequenceNumber);var ye,Ve,Be;null!==e.targetMismatches.get(R)?q=q.withResumeToken(Nr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):M.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(M.resumeToken,r)),s=s.insert(R,q),Ve=q,Be=M,(0===(ye=H).resumeToken.approximateByteSize()||Ve.snapshotVersion.toMicroseconds()-ye.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&m.push(n.Bs.updateTargetData(u,q))});let I=os(),C=jt();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,M))}),m.push(a(u,l,e.documentUpdates).next(M=>{I=M.nr,C=M.sr})),!r.isEqual(gt.min())){const M=n.Bs.getLastRemoteSnapshotVersion(u).next(R=>n.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(M)}return re.waitFor(m).next(()=>l.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,I,C)).next(()=>I)}).then(u=>(n.Ji=s,u))}(n.localStore,e);e.targetChanges.forEach((s,u)=>{const l=n.yc.get(u);l&&(pt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?pt(l.fc):s.removedDocuments.size>0&&(pt(l.fc),l.fc=!1))}),yield Od(n,r,e)}catch(r){yield kc(r)}}),I1.apply(this,arguments)}function iN(t,e,n){const r=We(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const s=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&s.push(m.snapshot)}),function(u,l){const m=We(u);m.onlineState=l;let I=!1;m.queries.forEach((C,M)=>{for(const R of M.listeners)R.Mu(l)&&(I=!0)}),I&&p1(m)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AP(t,e,n){return E1.apply(this,arguments)}function E1(){return E1=(0,ge.Z)(function*(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new An(Ke.comparator);l=l.insert(u,Fn.newNoDocument(u,gt.min()));const m=jt().add(u),I=new qc(gt.min(),new Map,new An(Ft),l,m);yield rN(r,I),r.gc=r.gc.remove(u),r.yc.delete(e),M1(r)}else yield p(r.localStore,e,!1).then(()=>Vv(r,e,n)).catch(kc)}),E1.apply(this,arguments)}function MP(t,e){return D1.apply(this,arguments)}function D1(){return D1=(0,ge.Z)(function*(t,e){const n=We(t),r=e.batch.batchId;try{const s=yield function $x(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=n.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,I,C){const M=I.batch,R=M.keys();let H=re.resolve();return R.forEach(q=>{H=H.next(()=>C.getEntry(m,q)).next(ye=>{const Ve=I.docVersions.get(q);pt(null!==Ve),ye.version.compareTo(Ve)<0&&(M.applyToRemoteDocument(ye,I),ye.isValidDocument()&&(ye.setReadTime(I.commitVersion),C.addEntry(ye)))})}),H.next(()=>l.mutationQueue.removeMutationBatch(m,M))}(n,r,e,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=jt();for(let I=0;I<l.mutationResults.length;++I)l.mutationResults[I].transformResults.length>0&&(m=m.add(l.batch.mutations[I].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}(n.localStore,e);S1(n,r,null),T1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Od(n,s)}catch(s){yield kc(s)}}),D1.apply(this,arguments)}function xP(t,e,n){return C1.apply(this,arguments)}function C1(){return C1=(0,ge.Z)(function*(t,e,n){const r=We(t);try{const s=yield function(u,l){const m=We(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let C;return m.mutationQueue.lookupMutationBatch(I,l).next(M=>(pt(null!==M),C=M.keys(),m.mutationQueue.removeMutationBatch(I,M))).next(()=>m.mutationQueue.performConsistencyCheck(I)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(I,C,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(I,C)).next(()=>m.localDocuments.getDocuments(I,C))})}(r.localStore,e);S1(r,e,n),T1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Od(r,s)}catch(s){yield kc(s)}}),C1.apply(this,arguments)}function b1(){return b1=(0,ge.Z)(function*(t,e){const n=We(t);kf(n.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=We(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(n.localStore);if(-1===r)return void e.resolve();const s=n.Ec.get(r)||[];s.push(e),n.Ec.set(r,s)}catch(r){const s=kv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),b1.apply(this,arguments)}function T1(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function S1(t,e,n){const r=We(t);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(n?u.reject(n):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Vv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||sN(t,r)})}function sN(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(aI(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),M1(t))}function A1(t,e,n){for(const r of n)r instanceof eN?(t.Ic.addReference(r.key,e),RP(t,r)):r instanceof tN?(Fe("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||sN(t,r.key)):it()}function RP(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Fe("SyncEngine","New document in limbo: "+n),t.mc.add(r),M1(t))}function M1(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ke(Xt.fromString(e)),r=t.Ac.next();t.yc.set(r,new DP(n)),t.gc=t.gc.insert(n,r),yb(t.remoteStore,new Na(Fi(Rr(n.path)),r,"TargetPurposeLimboResolution",qi.ct))}}function Od(t,e,n){return x1.apply(this,arguments)}function x1(){return x1=(0,ge.Z)(function*(t,e,n){const r=We(t),s=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,I)=>{l.push(r.Rc(I,e,n).then(C=>{if((C||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,C?.fromCache?"not-current":"current"),C){s.push(C);const M=pb.Li(I.targetId,C);u.push(M)}}))}),yield Promise.all(l),r.dc.nu(s),yield(m=(0,ge.Z)(function*(I,C){const M=We(I);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>re.forEach(C,H=>re.forEach(H.Fi,q=>M.persistence.referenceDelegate.addReference(R,H.targetId,q)).next(()=>re.forEach(H.Bi,q=>M.persistence.referenceDelegate.removeReference(R,H.targetId,q)))))}catch(R){if(!Fc(R))throw R;Fe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const H=R.targetId;if(!R.fromCache){const q=M.Ji.get(H),Ve=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);M.Ji=M.Ji.insert(H,Ve)}}}),function(I,C){return m.apply(this,arguments)})(r.localStore,u))}),x1.apply(this,arguments)}function PP(t,e){return N1.apply(this,arguments)}function N1(){return N1=(0,ge.Z)(function*(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield $A(n.localStore,e);n.currentUser=e,(s=n).Ec.forEach(l=>{l.forEach(m=>{m.reject(new Ae(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Od(n,r.er)}var s}),N1.apply(this,arguments)}function OP(t,e){const n=We(t),r=n.yc.get(e);if(r&&r.fc)return jt().add(r.key);{let s=jt();const u=n._c.get(e);if(!u)return s;for(const l of u){const m=n.wc.get(l);s=s.unionWith(m.view.nc)}return s}}function kP(t,e){return R1.apply(this,arguments)}function R1(){return R1=(0,ge.Z)(function*(t,e){const n=We(t),r=yield w(n.localStore,e.query,!0),s=e.view.hc(r);return n.isPrimaryClient&&A1(n,e.targetId,s.cc),s}),R1.apply(this,arguments)}function FP(t,e){return P1.apply(this,arguments)}function P1(){return P1=(0,ge.Z)(function*(t,e){const n=We(t);return S(n.localStore,e).then(r=>Od(n,r))}),P1.apply(this,arguments)}function LP(t,e,n,r){return O1.apply(this,arguments)}function O1(){return O1=(0,ge.Z)(function*(t,e,n,r){const s=We(t),u=yield function(l,m){const I=We(l),C=We(I.mutationQueue);return I.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Sn(M,m).next(R=>R?I.localDocuments.getDocuments(M,R):re.resolve(null)))}(s.localStore,e);var m;null!==u?("pending"===n?yield Pv(s.remoteStore):"acknowledged"===n||"rejected"===n?(S1(s,e,r||null),T1(s,e),m=e,We(We(s.localStore).mutationQueue).Cn(m)):it(),yield Od(s,u)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),O1.apply(this,arguments)}function k1(){return k1=(0,ge.Z)(function*(t,e){const n=We(t);if(U1(n),B1(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),s=yield oN(n,r.toArray());n.vc=!0,yield a1(n.remoteStore,!0);for(const u of s)yb(n.remoteStore,u)}else if(!1===e&&!1!==n.vc){const r=[];let s=Promise.resolve();n._c.forEach((u,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then(()=>(Vv(n,l),p(n.localStore,l,!0))),aI(n.remoteStore,l)}),yield s,yield oN(n,r),function(u){const l=We(u);l.yc.forEach((m,I)=>{aI(l.remoteStore,I)}),l.Ic.Ts(),l.yc=new Map,l.gc=new An(Ke.comparator)}(n),n.vc=!1,yield a1(n.remoteStore,!1)}}),k1.apply(this,arguments)}function oN(t,e,n){return F1.apply(this,arguments)}function F1(){return F1=(0,ge.Z)(function*(t,e,n){const r=We(t),s=[],u=[];for(const l of e){let m;const I=r._c.get(l);if(I&&0!==I.length){m=yield d(r.localStore,Fi(I[0]));for(const C of I){const M=r.wc.get(C),R=yield kP(r,M);R.snapshot&&u.push(R.snapshot)}}else{const C=yield D(r.localStore,l);m=yield d(r.localStore,C),yield y1(r,aN(C),l,!1,m.resumeToken)}s.push(m)}return r.dc.nu(u),s}),F1.apply(this,arguments)}function aN(t){return EC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function UP(t){const e=We(t);return We(We(e.localStore).persistence).$i()}function BP(t,e,n,r){return L1.apply(this,arguments)}function L1(){return L1=(0,ge.Z)(function*(t,e,n,r){const s=We(t);if(s.vc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(n){case"current":case"not-current":{const l=yield S(s.localStore,rv(u[0])),m=qc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Nr.EMPTY_BYTE_STRING);yield Od(s,l,m);break}case"rejected":yield p(s.localStore,e,!0),Vv(s,e,r);break;default:it()}}),L1.apply(this,arguments)}function jP(t,e,n){return V1.apply(this,arguments)}function V1(){return V1=(0,ge.Z)(function*(t,e,n){const r=U1(t);if(r.vc){for(const s of e){if(r._c.has(s)){Fe("SyncEngine","Adding an already active target "+s);continue}const u=yield D(r.localStore,s),l=yield d(r.localStore,u);yield y1(r,aN(u),l.targetId,!1,l.resumeToken),yb(r.remoteStore,l)}for(const s of n)r._c.has(s)&&(yield p(r.localStore,s,!1).then(()=>{aI(r.remoteStore,s),Vv(r,s)}).catch(kc))}}),V1.apply(this,arguments)}function U1(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AP.bind(null,e),e.dc.nu=vP.bind(null,e.eventManager),e.dc.Pc=_P.bind(null,e.eventManager),e}function B1(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xP.bind(null,e),e}class uI{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ge.Z)(function*(){n.serializer=sI(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jA(this.persistence,new BA,e.initialUser,this.serializer)}createPersistence(e){return new Xw(eI.zs,this.serializer)}createSharedClientState(e){return new Pd}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class j1 extends uI{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield B1(r.Vc.syncEngine),yield Pv(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return jA(this.persistence,new BA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new PA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new HD(n,this.persistence);return new fw(e.asyncQueue,r)}createPersistence(e){const n=nI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new fb(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Hx(),mb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Pd}}class uN extends j1{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield n().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof Ho&&(r.sharedClientState.syncEngine={jr:LP.bind(null,s),zr:BP.bind(null,s),Wr:jP.bind(null,s),$i:UP.bind(null,s),Qr:FP.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,ge.Z)(function*(l){yield function VP(t,e){return k1.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Hx();if(!Ho.D(n))throw new Ae(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=nI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ho(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Uv{initialize(e,n){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>iN(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=PP.bind(null,r.syncEngine),yield a1(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yP}createDatastore(e){const n=sI(e.databaseInfo.databaseId),r=new eP(e.databaseInfo);return new rP(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>iN(this.syncEngine,m,0),l=gb.D()?new gb:new iI,new oP(n,r,s,u,l);var n,r,s,u,l}createSyncEngine(e,n){return function(r,s,u,l,m,I,C){const M=new CP(r,s,u,l,m,I);return C&&(M.vc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ge.Z)(function*(n){const r=We(n);Fe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Rv(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function cN(t,e=10240){let n=0;return{read:()=>(0,ge.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class GP{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new xr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ge.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(s);return new wP(JSON.parse(u),n.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ge.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,ge.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ge.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class zP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,ge.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Ae(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,ge.Z)(function*(u,l){const m=We(u),I=li(m.serializer)+"/documents",C={documents:l.map(q=>Vg(m.serializer,q))},M=yield m.vo("BatchGetDocuments",I,C,l.length),R=new Map;M.forEach(q=>{const ye=function qC(t,e){return"found"in e?function(n,r){pt(!!r.found);const s=$o(n,r.found.name),u=dr(r.found.updateTime),l=r.found.createTime?dr(r.found.createTime):gt.min(),m=new ci({mapValue:{fields:r.found.fields}});return Fn.newFoundDocument(s,u,l,m)}(t,e):"missing"in e?function(n,r){pt(!!r.missing),pt(!!r.readTime);const s=$o(n,r.missing),u=dr(r.readTime);return Fn.newNoDocument(s,u)}(t,e):it()}(m.serializer,q);R.set(ye.key.toString(),ye)});const H=[];return l.forEach(q=>{const ye=R.get(q.toString());pt(!!ye),H.push(ye)}),H}),function(u,l){return s.apply(this,arguments)})(n.datastore,e);var s;return r.forEach(s=>n.recordVersion(s)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,s)=>{const u=Ke.fromPath(s);e.mutations.push(new OC(u,e.precondition(u)))}),yield(r=(0,ge.Z)(function*(s,u){const l=We(s),m=li(l.serializer)+"/documents",I={writes:u.map(C=>Ad(l.serializer,C))};yield l.Io("Commit",m,I)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw it();n=gt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ae(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(gt.min())?Ln.exists(!1):Ln.updateTime(n):Ln.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(gt.min()))throw new Ae(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ln.updateTime(n)}return Ln.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qP{constructor(e,n,r,s,u){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new GA(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ge.Z)(function*(){const n=new zP(e.datastore),r=e.qc(n);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Uc(u)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const n=this.updateFunction(e);return!Eg(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!lA(n)}return!1}}class ZP{constructor(e,n,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zr.UNAUTHENTICATED,this.clientId=lf.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ge.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Fe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const s=kv(r,"Failed to shutdown persistence");n.reject(s)}})),n.promise}}function wb(t,e){return $1.apply(this,arguments)}function $1(){return $1=(0,ge.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var s=(0,ge.Z)(function*(u){r.isEqual(u)||(yield $A(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),$1.apply(this,arguments)}function H1(t,e){return G1.apply(this,arguments)}function G1(){return G1=(0,ge.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield z1(t);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(s=>Yx(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,u)=>Yx(e.remoteStore,u)),t._onlineComponents=e}),G1.apply(this,arguments)}function lN(t){return"FirebaseError"===t.name?t.code===ae.FAILED_PRECONDITION||t.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function z1(t){return q1.apply(this,arguments)}function q1(){return q1=(0,ge.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!lN(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),yield wb(t,new uI)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield wb(t,new uI);return t._offlineComponents}),q1.apply(this,arguments)}function Ib(t){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,ge.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield H1(t,t._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield H1(t,new Uv))),t._onlineComponents}),Z1.apply(this,arguments)}function dN(t){return z1(t).then(e=>e.persistence)}function Eb(t){return z1(t).then(e=>e.localStore)}function hN(t){return Ib(t).then(e=>e.remoteStore)}function W1(t){return Ib(t).then(e=>e.syncEngine)}function Bv(t){return K1.apply(this,arguments)}function K1(){return K1=(0,ge.Z)(function*(t){const e=yield Ib(t),n=e.eventManager;return n.onListen=bP.bind(null,e.syncEngine),n.onUnlisten=TP.bind(null,e.syncEngine),n}),K1.apply(this,arguments)}function pN(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(s,u,l,m,I){const C=new _b({next:R=>{u.enqueueAndForget(()=>h1(s,M));const H=R.docs.has(l);!H&&R.fromCache?I.reject(new Ae(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&m&&"server"===m.source?I.reject(new Ae(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(R)},error:R=>I.reject(R)}),M=new g1(Rr(l.path),C,{includeMetadataChanges:!0,Ku:!0});return l1(s,M)}(yield Bv(t),t.asyncQueue,e,n,r)})),r.promise}function gN(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(s,u,l,m,I){const C=new _b({next:R=>{u.enqueueAndForget(()=>h1(s,M)),R.fromCache&&"server"===m.source?I.reject(new Ae(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(R)},error:R=>I.reject(R)}),M=new g1(l,C,{includeMetadataChanges:!0,Ku:!0});return l1(s,M)}(yield Bv(t),t.asyncQueue,e,n,r)})),r.promise}function mN(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const yN=new Map;function Y1(t,e,n){if(!n)throw new Ae(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vN(t,e,n,r){if(!0===e&&!0===r)throw new Ae(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _N(t){if(!Ke.isDocumentKey(t))throw new Ae(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wN(t){if(Ke.isDocumentKey(t))throw new Ae(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Db(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":it()}function tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Db(t);throw new Ae(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function IN(t,e){if(e<=0)throw new Ae(ae.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class EN{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=mN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ae(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cI{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EN(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new OS;switch(n.type){case"firstParty":return new Sx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ae(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=yN.get(e);n&&(Fe("ComponentProvider","Removing Datastore"),yN.delete(e),n.terminate())}(this),Promise.resolve()}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class Jc extends Zi{constructor(e,n,r){super(e,n,Rr(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Ke(e))}withConverter(e){return new Jc(this.firestore,e,this._path)}}function CN(t,e,...n){if(t=(0,un.m9)(t),Y1("collection","path",e),t instanceof cI){const r=Xt.fromString(e,...n);return wN(r),new Jc(t,null,r)}{if(!(t instanceof Qn||t instanceof Jc))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return wN(r),new Jc(t.firestore,null,r)}}function Cb(t,e,...n){if(t=(0,un.m9)(t),1===arguments.length&&(e=lf.A()),Y1("doc","path",e),t instanceof cI){const r=Xt.fromString(e,...n);return _N(r),new Qn(t,null,new Ke(r))}{if(!(t instanceof Qn||t instanceof Jc))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return _N(r),new Qn(t.firestore,t instanceof Jc?t.converter:null,new Ke(r))}}function bN(t,e){return t=(0,un.m9)(t),e=(0,un.m9)(e),(t instanceof Qn||t instanceof Jc)&&(e instanceof Qn||e instanceof Jc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Q1(t,e){return t=(0,un.m9)(t),e=(0,un.m9)(e),t instanceof Zi&&e instanceof Zi&&t.firestore===e.firestore&&nv(t._query,e._query)&&t.converter===e.converter}class rO{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new GA(this,"async_queue_retry"),this.Xc=()=>{const n=mb();n&&Fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=mb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=mb();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new xr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Fc(n))throw n;Fe("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=c1.createAndSchedule(this,e,n,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&it()}verifyOperationInProgress(){}sa(){var e=this;return(0,ge.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function J1(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(t)}class iO{constructor(){this._progressObserver={},this._taskCompletionResolver=new xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jn extends cI{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new rO,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||TN(this),this._firestoreClient.terminate()}}function Zr(t){return t._firestoreClient||TN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function TN(t){var e,n,r;const s=t._freezeSettings(),u=(m=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new xx(t._databaseId,m,t._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,mN(C.experimentalLongPollingOptions),C.useFetchStreams));var m,C;t._firestoreClient=new ZP(t._authCredentials,t._appCheckCredentials,t._queue,u),null!==(n=s.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function SN(t,e,n){const r=new xr;return t.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield wb(t,n),yield H1(t,e),r.resolve()}catch(s){const u=s;if(!lN(u))throw u;Uo("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function AN(t){if(t._initialized||t._terminated)throw new Ae(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xc(Nr.fromBase64String(e))}catch(n){throw new Ae(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xc(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ae(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qg{constructor(e){this._methodName=e}}class bb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const gO=/^__.*__$/;class mO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new zc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rg(e,this.data,n,this.fieldTransforms)}}class MN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class Tb{constructor(e,n,r,s,u,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Tb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Mb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(xN(this.ca)&&gO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class yO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sI(e)}ya(e,n,r,s=!1){return new Tb({ca:e,methodName:n,ga:r,path:lr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zg(t){const e=t._freezeSettings(),n=sI(t._databaseId);return new yO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sb(t,e,n,r,s,u={}){const l=t.ya(u.merge||u.mergeFields?2:0,e,n,s);nM("Data must be an object, but it was:",l,r);const m=PN(r,l);let I,C;if(u.merge)I=new ss(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const M=[];for(const R of u.mergeFields){const H=hI(e,R,n);if(!l.contains(H))throw new Ae(ae.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);kN(M,H)||M.push(H)}I=new ss(M),C=l.fieldTransforms.filter(R=>I.covers(R.field))}else I=null,C=l.fieldTransforms;return new mO(new ci(m),I,C)}class dI extends qg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dI}}function NN(t,e,n){return new Tb({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class X1 extends qg{_toFieldTransform(e){return new Tf(e.path,new bf)}isEqual(e){return e instanceof X1}}class vO extends qg{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=NN(this,e,!0),r=this.pa.map(u=>Wg(u,n)),s=new Gc(r);return new Tf(e.path,s)}isEqual(e){return this===e}}class _O extends qg{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=NN(this,e,!0),r=this.pa.map(u=>Wg(u,n)),s=new Td(r);return new Tf(e.path,s)}isEqual(e){return this===e}}class wO extends qg{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Sd(e.serializer,tA(e.serializer,this.Ia));return new Tf(e.path,n)}isEqual(e){return this===e}}function eM(t,e,n,r){const s=t.ya(1,e,n);nM("Data must be an object, but it was:",s,r);const u=[],l=ci.empty();Vc(r,(I,C)=>{const M=Ab(e,I,n);C=(0,un.m9)(C);const R=s.da(M);if(C instanceof dI)u.push(M);else{const H=Wg(C,R);null!=H&&(u.push(M),l.set(M,H))}});const m=new ss(u);return new MN(l,m,s.fieldTransforms)}function tM(t,e,n,r,s,u){const l=t.ya(1,e,n),m=[hI(e,r,n)],I=[s];if(u.length%2!=0)throw new Ae(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<u.length;H+=2)m.push(hI(e,u[H])),I.push(u[H+1]);const C=[],M=ci.empty();for(let H=m.length-1;H>=0;--H)if(!kN(C,m[H])){const q=m[H];let ye=I[H];ye=(0,un.m9)(ye);const Ve=l.da(q);if(ye instanceof dI)C.push(q);else{const Be=Wg(ye,Ve);null!=Be&&(C.push(q),M.set(q,Be))}}const R=new ss(C);return new MN(M,R,l.fieldTransforms)}function RN(t,e,n,r=!1){return Wg(n,t.ya(r?4:3,e))}function Wg(t,e){if(ON(t=(0,un.m9)(t)))return nM("Unsupported field value:",e,t),PN(t,e);if(t instanceof qg)return function(n,r){if(!xN(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let u=0;for(const l of n){let m=Wg(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if(null===(n=(0,un.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return tA(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const s=On.fromDate(n);return{timestampValue:Sf(r.serializer,s)}}if(n instanceof On){const s=new On(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sf(r.serializer,s)}}if(n instanceof bb)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xc)return{bytesValue:HC(r.serializer,n._byteString)};if(n instanceof Qn){const s=r.databaseId,u=n.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Db(n)}`)}(t,e)}function PN(t,e){const n={};return nC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vc(t,(r,s)=>{const u=Wg(s,e.ha(r));null!=u&&(n[r]=u)}),{mapValue:{fields:n}}}function ON(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof On||t instanceof bb||t instanceof Xc||t instanceof Qn||t instanceof qg)}function nM(t,e,n){if(!ON(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Db(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function hI(t,e,n){if((e=(0,un.m9)(e))instanceof kd)return e._internalPath;if("string"==typeof e)return Ab(t,e);throw Mb("Field path arguments must be of type string or ",t,!1,void 0,n)}const IO=new RegExp("[~\\*/\\[\\]]");function Ab(t,e,n){if(e.search(IO)>=0)throw Mb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kd(...e.split("."))._internalPath}catch{throw Mb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mb(t,e,n,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let I="";return(u||l)&&(I+=" (found",u&&(I+=` in field ${r}`),l&&(I+=` in document ${s}`),I+=")"),new Ae(ae.INVALID_ARGUMENT,m+t+I)}function kN(t,e){return t.some(n=>n.isEqual(e))}class fI{constructor(e,n,r,s,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new EO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class EO extends fI{data(){return super.data()}}function xb(t,e){return"string"==typeof e?Ab(t,e):e instanceof kd?e._internalPath:e._delegate._internalPath}function FN(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Ae(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rM{}class pI extends rM{}function Lf(t,e,...n){let r=[];e instanceof rM&&r.push(e),r=r.concat(n),function(s){const u=s.filter(m=>m instanceof jv).length,l=s.filter(m=>m instanceof gI).length;if(u>1||u>0&&l>0)throw new Ae(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class gI extends pI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gI(e,n,r)}_apply(e){const n=this._parse(e);return BN(e._query,n),new Zi(e.firestore,e.converter,Ag(e._query,n))}_parse(e){const n=Zg(e.firestore);return function(s,u,l,m,I,C,M){let R;if(I.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){UN(M,C);const H=[];for(const q of M)H.push(VN(m,s,q));R={arrayValue:{values:H}}}else R=VN(m,s,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||UN(M,C),R=RN(l,"where",M,"in"===C||"not-in"===C);return qt.create(I,C,R)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class jv extends rM{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const m of l)BN(u,m),u=Ag(u,m)}(e._query,n),new Zi(e.firestore,e.converter,Ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class iM extends pI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iM(e,n)}_apply(e){const n=function(r,s,u){if(null!==r.startAt)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new _f(s,u);return function(m,I){if(null===Sw(m)){const C=tv(m);null!==C&&jN(0,C,I.field)}}(r,l),l}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Ma(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class Nb extends pI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Nb(e,n,r)}_apply(e){return new Zi(e.firestore,e.converter,Aw(e._query,this._limit,this._limitType))}}class Rb extends pI{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Rb(e,n,r)}_apply(e){const n=LN(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(s=n,new Ma((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class Pb extends pI{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Pb(e,n,r)}_apply(e){const n=LN(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(s=n,new Ma((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function LN(t,e,n,r){if(n[0]=(0,un.m9)(n[0]),n[0]instanceof fI)return function(s,u,l,m,I){if(!m)throw new Ae(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const M of Ef(s))if(M.field.isKeyField())C.push(yf(u,m.key));else{const R=m.data.field(M.field);if(Hy(R))throw new Ae(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const H=M.field.canonicalString();throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}C.push(R)}return new Tu(C,I)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Zg(t.firestore);return function(u,l,m,I,C,M){const R=u.explicitOrderBy;if(C.length>R.length)throw new Ae(ae.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let q=0;q<C.length;q++){const ye=C[q];if(R[q].field.isKeyField()){if("string"!=typeof ye)throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof ye}`);if(!DC(u)&&-1!==ye.indexOf("/"))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${I}() must be a plain document ID, but '${ye}' contains a slash.`);const Ve=u.path.child(Xt.fromString(ye));if(!Ke.isDocumentKey(Ve))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${I}() must result in a valid document path, but '${Ve}' is not because it contains an odd number of segments.`);const Be=new Ke(Ve);H.push(yf(l,Be))}else{const Ve=RN(m,I,ye);H.push(Ve)}}return new Tu(H,M)}(t._query,t.firestore._databaseId,s,e,n,r)}}function VN(t,e,n){if("string"==typeof(n=(0,un.m9)(n))){if(""===n)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DC(e)&&-1!==n.indexOf("/"))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!Ke.isDocumentKey(r))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yf(t,new Ke(r))}if(n instanceof Qn)return yf(t,n._key);throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Db(n)}.`)}function UN(t,e){if(!Array.isArray(t)||0===t.length)throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BN(t,e){if(e.isInequality()){const r=tv(t),s=e.field;if(null!==r&&!r.isEqual(s))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=Sw(t);null!==u&&jN(0,s,u)}const n=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ae(ae.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function jN(t,e,n){if(!n.isEqual(e))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class sM{convertValue(e,n="none"){switch(jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw it()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vc(e,(s,u)=>{r[s]=this.convertValue(u,n)}),r}convertGeoPoint(e){return new bb(Kn(e.latitude),Kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gy(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zy(e));default:return null}}convertTimestamp(e){const n=Cu(e);return new On(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);pt(YC(r));const s=new Uc(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return s.isEqual(n)||Er(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Ob(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class NO extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}class Kg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fd extends fI{constructor(e,n,r,s,u,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mI extends Fd{data(e={}){return super.data(e)}}class Vf{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Kg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mI(this._firestore,this._userDataWriter,r.key,r,new Kg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new mI(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Kg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const m=new mI(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Kg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let I=-1,C=-1;return 0!==l.type&&(I=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:PO(l.type),doc:m,oldIndex:I,newIndex:C}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function HN(t,e){return t instanceof Fd&&e instanceof Fd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Vf&&e instanceof Vf&&t._firestore===e._firestore&&Q1(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Uf extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function GN(t,e,n){t=tn(t,Qn);const r=tn(t.firestore,Jn),s=Ob(t.converter,e,n);return $v(r,[Sb(Zg(r),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,Ln.none())])}function zN(t,e,n,...r){t=tn(t,Qn);const s=tn(t.firestore,Jn),u=Zg(s);let l;return l="string"==typeof(e=(0,un.m9)(e))||e instanceof kd?tM(u,"updateDoc",t._key,e,n,r):eM(u,"updateDoc",t._key,e),$v(s,[l.toMutation(t._key,Ln.exists(!0))])}function qN(t,...e){var n,r,s;t=(0,un.m9)(t);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||J1(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(J1(e[l])){const R=e[l];e[l]=null===(n=R.next)||void 0===n?void 0:n.bind(R),e[l+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[l+2]=null===(s=R.complete)||void 0===s?void 0:s.bind(R)}let I,C,M;if(t instanceof Qn)C=tn(t.firestore,Jn),M=Rr(t._key.path),I={next:R=>{e[l]&&e[l](oM(C,t,R))},error:e[l+1],complete:e[l+2]};else{const R=tn(t,Zi);C=tn(R.firestore,Jn),M=R._query;const H=new Uf(C);I={next:q=>{e[l]&&e[l](new Vf(C,H,R,q))},error:e[l+1],complete:e[l+2]},FN(t._query)}return function(R,H,q,ye){const Ve=new _b(ye),Be=new g1(H,Ve,q);return R.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return l1(yield Bv(R),Be)})),()=>{Ve.Dc(),R.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return h1(yield Bv(R),Be)}))}}(Zr(C),M,m,I)}function $v(t,e){return function(n,r){const s=new xr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function SP(t,e,n){return w1.apply(this,arguments)}(yield W1(n),r,s)})),s.promise}(Zr(t),e)}function oM(t,e,n){const r=n.docs.get(e._key),s=new Uf(t);return new Fd(t,s,e._key,r,new Kg(n.hasPendingWrites,n.fromCache),e.converter)}const QO={maxAttempts:5};class ZN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zg(e)}set(e,n,r){this._verifyNotCommitted();const s=Bf(e,this._firestore),u=Ob(s.converter,n,r),l=Sb(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(l.toMutation(s._key,Ln.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const u=Bf(e,this._firestore);let l;return l="string"==typeof(n=(0,un.m9)(n))||n instanceof kd?tM(this._dataReader,"WriteBatch.update",u._key,n,r,s):eM(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(l.toMutation(u._key,Ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bf(e,this._firestore);return this._mutations=this._mutations.concat(new Pg(n._key,Ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bf(t,e){if((t=(0,un.m9)(t)).firestore!==e)throw new Ae(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class JO extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Zg(e)}get(e){const n=Bf(e,this._firestore),r=new NO(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||1!==s.length)return it();const u=s[0];if(u.isFoundDocument())return new fI(this._firestore,r,u.key,u,n.converter);if(u.isNoDocument())return new fI(this._firestore,r,n._key,null,n.converter);throw it()})}set(e,n,r){const s=Bf(e,this._firestore),u=Ob(s.converter,n,r),l=Sb(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,l),this}update(e,n,r,...s){const u=Bf(e,this._firestore);let l;return l="string"==typeof(n=(0,un.m9)(n))||n instanceof kd?tM(this._dataReader,"Transaction.update",u._key,n,r,s):eM(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,l),this}delete(e){const n=Bf(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Bf(e,this._firestore),r=new Uf(this._firestore);return super.get(e).then(s=>new Fd(this._firestore,r,n._key,s._document,new Kg(!1,!1),n.converter))}}function WN(t){return new wO("increment",t)}!function(t,e=!0){vd=Dc.SDK_VERSION,(0,Dc._registerComponent)(new Kp.wA("firestore",(n,{instanceIdentifier:r,options:s})=>{const u=n.getProvider("app").getImmediate(),l=new Jn(new FS(n.getProvider("auth-internal")),new FD(n.getProvider("app-check-internal")),function(m,I){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ae(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(m.options.projectId,I)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),(0,Dc.registerVersion)(ND,"3.13.0",t),(0,Dc.registerVersion)(ND,"3.13.0","esm2017")}();const QN=(0,Ar.u3)(WN,!0);var uk=P(6321);function cM(){return(0,_r.e)((t,e)=>{let n,r=!1;t.subscribe((0,Tn.x)(e,s=>{const u=n;n=s,r&&e.next([u,s]),r=!0}))})}var ck=P(3997),Nu=P(6304),lk=(P(5967),P(3106));function lM(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function JN(){if(typeof Uint8Array>"u")throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function XN(){if(!function Cg(){return typeof atob<"u"}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}class yI{constructor(e){this._delegate=e}static fromBase64String(e){return XN(),new yI(Xc.fromBase64String(e))}static fromUint8Array(e){return JN(),new yI(Xc.fromUint8Array(e))}toBase64(){return XN(),this._delegate.toBase64()}toUint8Array(){return JN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dM(t){return function fk(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class pk{enableIndexedDbPersistence(e,n){return function oO(t,e){AN(t=tn(t,Jn));const n=Zr(t);if(n._uninitializedComponentsProvider)throw new Ae(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Uo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),s=new Uv;return SN(n,s,new j1(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function aO(t){AN(t=tn(t,Jn));const e=Zr(t);if(e._uninitializedComponentsProvider)throw new Ae(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Uo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Uv;return SN(e,r,new uN(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function uO(t){if(t._initialized&&!t._terminated)throw new Ae(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(n=(0,ge.Z)(function*(r){if(!Bo.D())return Promise.resolve();const s=r+"main";yield Bo.delete(s)}),function(r){return n.apply(this,arguments)})(nI(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class eR{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Uc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Uo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function DN(t,e,n,r={}){var s;const u=(t=tn(t,cI))._getSettings(),l=`${e}:${n}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let m,I;if("string"==typeof r.mockUserToken)m=r.mockUserToken,I=zr.MOCK_USER;else{m=(0,un.Sg)(r.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Ae(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new zr(C)}t._authCredentials=new kS(new cf(m,I))}}(this._delegate,e,n,r)}enableNetwork(){return function lO(t){return function WP(t){return t.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield dN(t),n=yield hN(t);return e.setNetworkEnabled(!0),function(r){const s=We(r);return s.vu.delete(0),oI(s)}(n)}))}(Zr(t=tn(t,Jn)))}(this._delegate)}disableNetwork(){return function dO(t){return function KP(t){return t.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield dN(t),n=yield hN(t);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(s){const u=We(s);u.vu.add(0),yield Rv(u),u.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(n);var r}))}(Zr(t=tn(t,Jn)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,vN("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function cO(t){return function(e){const n=new xr;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function NP(t,e){return b1.apply(this,arguments)}(yield W1(e),n)})),n.promise}(Zr(t=tn(t,Jn)))}(this._delegate)}onSnapshotsInSync(e){return function $O(t,e){return function JP(t,e){const n=new _b(e);return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Bv(t),s=n,We(r).ku.add(s),void s.next();var r,s})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Bv(t),s=n,void We(r).ku.delete(s);var r,s}))}}(Zr(t=tn(t,Jn)),J1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hv(this,CN(this._delegate,e))}catch(n){throw ks(n,"collection()","Firestore.collection()")}}doc(e){try{return new Pa(this,Cb(this._delegate,e))}catch(n){throw ks(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Fs(this,function nO(t,e){if(t=tn(t,cI),Y1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zi(t,null,(n=e,new Ma(Xt.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw ks(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function XO(t,e,n){t=tn(t,Jn);const r=Object.assign(Object.assign({},QO),n);return function(s){if(s.maxAttempts<1)throw new Ae(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,l){const m=new xr;return s.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const I=yield function fN(t){return Ib(t).then(e=>e.datastore)}(s);new qP(s.asyncQueue,I,l,u,m).run()})),m.promise}(Zr(t),s=>e(new JO(t,s)),r)}(this._delegate,n=>e(new tR(this,n)))}batch(){return Zr(this._delegate),new nR(new ZN(this._delegate,e=>$v(this._delegate,e)))}loadBundle(e){return function hO(t,e){const n=Zr(t=tn(t,Jn)),r=new iO;return function XP(t,e,n,r){const s=function(u,l){let m;return m="string"==typeof u?LC().encode(u):u,I=function(I,C){if(I instanceof Uint8Array)return cN(I,C);if(I instanceof ArrayBuffer)return cN(new Uint8Array(I),C);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new GP(I,l);var I}(n,sI(e));t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function $P(t,e,n){const r=We(t);var s;(s=(0,ge.Z)(function*(u,l,m){try{const I=yield l.getMetadata();if(yield function(H,q){const ye=We(H),Ve=dr(q.createTime);return ye.persistence.runTransaction("hasNewerBundle","readonly",Be=>ye.qs.getBundleMetadata(Be,q.id)).then(Be=>!!Be&&Be.createTime.compareTo(Ve)>=0)}(u.localStore,I))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(H=I).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);m._updateProgress(Xx(I));const C=new IP(I,u.localStore,l.serializer);let M=yield l.bc();for(;M;){const H=yield C.zu(M);H&&m._updateProgress(H),M=yield l.bc()}const R=yield C.complete();return yield Od(u,R.Ju,void 0),yield function(H,q){const ye=We(H);return ye.persistence.runTransaction("Save bundle","readwrite",Ve=>ye.qs.saveBundleMetadata(Ve,q))}(u.localStore,I),m._completeWith(R.progress),Promise.resolve(R.Hu)}catch(I){return Uo("SyncEngine",`Loading bundle failed with ${I}`),m._failWith(I),Promise.resolve(new Set)}var H}),function(u,l,m){return s.apply(this,arguments)})(r,e,n).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield W1(t),s,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function fO(t,e){return function eO(t,e){return t.asyncQueue.enqueue((0,ge.Z)(function*(){return function(n,r){const s=We(n);return s.persistence.runTransaction("Get named query","readonly",u=>s.qs.getNamedQuery(u,r))}(yield Eb(t),e)}))}(Zr(t=tn(t,Jn)),e).then(n=>n?new Zi(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Fs(this,n):null)}}class kb extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new yI(new Xc(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Pa.forKey(n,this.firestore,null)}}class tR{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new kb(e)}get(e){const n=Qg(e);return this._delegate.get(n).then(r=>new vI(this._firestore,new Fd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const s=Qg(e);return r?(lM("Transaction.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const u=Qg(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,r,...s),this}delete(e){const n=Qg(e);return this._delegate.delete(n),this}}class nR{constructor(e){this._delegate=e}set(e,n,r){const s=Qg(e);return r?(lM("WriteBatch.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const u=Qg(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,r,...s),this}delete(e){const n=Qg(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Yg{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new mI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _I(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Yg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(n);return u||(u=new Yg(e,new kb(e),n),s.set(n,u)),u}}Yg.INSTANCES=new WeakMap;class Pa{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new kb(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pa(n,new Qn(n._delegate,r,new Ke(e)))}static forKey(e,n,r){return new Pa(n,new Qn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Hv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hv(this.firestore,CN(this._delegate,e))}catch(n){throw ks(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,un.m9)(e))instanceof Qn&&bN(this._delegate,e)}set(e,n){n=lM("DocumentReference.set",n);try{return n?GN(this._delegate,e,n):GN(this._delegate,e)}catch(r){throw ks(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?zN(this._delegate,e):zN(this._delegate,e,n,...r)}catch(s){throw ks(s,"updateDoc()","DocumentReference.update()")}}delete(){return function BO(t){return $v(tn(t.firestore,Jn),[new Pg(t._key,Ln.none())])}(this._delegate)}onSnapshot(...e){const n=rR(e),r=iR(e,s=>new vI(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return qN(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function kO(t){t=tn(t,Qn);const e=tn(t.firestore,Jn),n=Zr(e),r=new Uf(e);return function YP(t,e){const n=new xr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(s,u,l){try{const m=yield function(I,C){const M=We(I);return M.persistence.runTransaction("read document","readonly",R=>M.localDocuments.getDocument(R,C))}(s,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Ae(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const I=kv(m,`Failed to get document '${u} from cache`);l.reject(I)}}),function(s,u,l){return r.apply(this,arguments)})(yield Eb(t),e,n);var r})),n.promise}(n,t._key).then(s=>new Fd(e,r,t._key,s,new Kg(null!==s&&s.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function FO(t){t=tn(t,Qn);const e=tn(t.firestore,Jn);return pN(Zr(e),t._key,{source:"server"}).then(n=>oM(e,t,n))}(this._delegate):function OO(t){t=tn(t,Qn);const e=tn(t.firestore,Jn);return pN(Zr(e),t._key).then(n=>oM(e,t,n))}(this._delegate),n.then(r=>new vI(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Pa(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}function ks(t,e,n){return t.message=t.message.replace(e,n),t}function rR(t){for(const e of t)if("object"==typeof e&&!dM(e))return e;return{}}function iR(t,e){var n,r;let s;return s=dM(t[0])?t[0]:dM(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(n=s.error)||void 0===n?void 0:n.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class vI{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return HN(this._delegate,e._delegate)}}class _I extends vI{data(e){const n=this._delegate.data(e);return function OD(t,e){t||it()}(void 0!==n),n}}class Fs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new kb(e)}where(e,n,r){try{return new Fs(this.firestore,Lf(this._delegate,function DO(t,e,n){const r=e,s=xb("where",t);return gI._create(s,r,n)}(e,n,r)))}catch(s){throw ks(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Fs(this.firestore,Lf(this._delegate,function CO(t,e="asc"){const n=e,r=xb("orderBy",t);return iM._create(r,n)}(e,n)))}catch(r){throw ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Fs(this.firestore,Lf(this._delegate,function bO(t){return IN("limit",t),Nb._create("limit",t,"F")}(e)))}catch(n){throw ks(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Fs(this.firestore,Lf(this._delegate,function TO(t){return IN("limitToLast",t),Nb._create("limitToLast",t,"L")}(e)))}catch(n){throw ks(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Fs(this.firestore,Lf(this._delegate,function SO(...t){return Rb._create("startAt",t,!0)}(...e)))}catch(n){throw ks(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Fs(this.firestore,Lf(this._delegate,function AO(...t){return Rb._create("startAfter",t,!1)}(...e)))}catch(n){throw ks(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Fs(this.firestore,Lf(this._delegate,function MO(...t){return Pb._create("endBefore",t,!1)}(...e)))}catch(n){throw ks(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Fs(this.firestore,Lf(this._delegate,function xO(...t){return Pb._create("endAt",t,!0)}(...e)))}catch(n){throw ks(n,"endAt()","Query.endAt()")}}isEqual(e){return Q1(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function VO(t){t=tn(t,Zi);const e=tn(t.firestore,Jn),n=Zr(e),r=new Uf(e);return function QP(t,e){const n=new xr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(s,u,l){try{const m=yield w(s,u,!0),I=new nN(u,m.ir),C=I.sc(m.documents),M=I.applyChanges(C,!1);l.resolve(M.snapshot)}catch(m){const I=kv(m,`Failed to execute query '${u} against cache`);l.reject(I)}}),function(s,u,l){return r.apply(this,arguments)})(yield Eb(t),e,n);var r})),n.promise}(n,t._query).then(s=>new Vf(e,r,t,s))}(this._delegate):"server"===e?.source?function UO(t){t=tn(t,Zi);const e=tn(t.firestore,Jn),n=Zr(e),r=new Uf(e);return gN(n,t._query,{source:"server"}).then(s=>new Vf(e,r,t,s))}(this._delegate):function LO(t){t=tn(t,Zi);const e=tn(t.firestore,Jn),n=Zr(e),r=new Uf(e);return FN(t._query),gN(n,t._query).then(s=>new Vf(e,r,t,s))}(this._delegate),n.then(r=>new hM(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=rR(e),r=iR(e,s=>new hM(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return qN(this._delegate,n,r)}withConverter(e){return new Fs(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}class mk{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new _I(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hM{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _I(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new mk(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new _I(this._firestore,r))})}isEqual(e){return HN(this._delegate,e._delegate)}}class Hv extends Fs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pa(this.firestore,e):null}doc(e){try{return new Pa(this.firestore,void 0===e?Cb(this._delegate):Cb(this._delegate,e))}catch(n){throw ks(n,"doc()","CollectionReference.doc()")}}add(e){return function jO(t,e){const n=tn(t.firestore,Jn),r=Cb(t),s=Ob(t.converter,e);return $v(n,[Sb(Zg(t.firestore),"addDoc",r._key,s,null!==t.converter,{}).toMutation(r._key,Ln.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Pa(this.firestore,n))}isEqual(e){return bN(this._delegate,e._delegate)}withConverter(e){return new Hv(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}function Qg(t){return tn(t,Qn)}class fM{constructor(...e){this._delegate=new kd(...e)}static documentId(){return new fM(lr.keyField().canonicalString())}isEqual(e){return(e=(0,un.m9)(e))instanceof kd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function tk(){return new X1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jg(e)}static delete(){const e=function ek(){return new dI("deleteField")}();return e._methodName="FieldValue.delete",new Jg(e)}static arrayUnion(...e){const n=function nk(...t){return new vO("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Jg(n)}static arrayRemove(...e){const n=function rk(...t){return new _O("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Jg(n)}static increment(e){const n=WN(e);return n._methodName="FieldValue.increment",new Jg(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yk={Firestore:eR,GeoPoint:bb,Timestamp:On,Blob:yI,Transaction:tR,WriteBatch:nR,DocumentReference:Pa,DocumentSnapshot:vI,Query:Fs,QueryDocumentSnapshot:_I,QuerySnapshot:hM,CollectionReference:Hv,FieldPath:fM,FieldValue:Jg,setLogLevel:function gk(t){!function RD(t){Du.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function _k(t){(function vk(t,e){t.INTERNAL.registerComponent(new Kp.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),s=n.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},yk)))})(t,(e,n)=>new eR(e,n,new pk)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(lk.Z);var wk=P(3019),Fb=P(3093),Ik=P(4552);class Ek extends Si.x{constructor(e=1/0,n=1/0,r=Ik.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;n||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=n.now();let m=0;for(let I=1;I<r.length&&r[I]<=l;I+=2)m=I;m&&r.splice(0,m+1)}}}var Dk=P(3020);function sR(t,e,n){let r,s=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:n}=t):r=t??1/0,(0,Dk.B)({connector:()=>new Ek(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function oR(t,e){return(0,ca.m)(e)?(0,wr.w)(()=>t,e):(0,wr.w)(()=>t)}var pM=P(5137);const gM=new Map,aR={activated:!1,tokenObservers:[]},Ck={initialized:!1,enabled:!1};function Pr(t){return gM.get(t)||Object.assign({},aR)}function Lb(){return Ck}const mM="https://content-firebaseappcheck.googleapis.com/v1",Ak="exchangeDebugToken",uR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xk{constructor(e,n,r,s,u){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,ge.Z)(function*(){n.stop();try{n.pending=new un.BH,yield function Nk(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new un.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Wi=new un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yM(t){if(!Pr(t).activated)throw Wi.create("use-before-activation",{appName:t.name})}function Bb(t,e){return _M.apply(this,arguments)}function _M(){return _M=(0,ge.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){const R=yield s.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(t,u)}catch(R){throw Wi.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==l.status)throw Wi.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(R){throw Wi.create("fetch-parse-error",{originalErrorMessage:R?.message})}const I=m.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Wi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(I[1]),M=Date.now();return{token:m.token,expireTimeMillis:M+C,issuedAtTimeMillis:M}}),_M.apply(this,arguments)}function cR(t,e){const{projectId:n,appId:r,apiKey:s}=t.options;return{url:`${mM}/projects/${n}/apps/${r}:${Ak}?key=${s}`,body:{debug_token:e}}}const kk="firebase-app-check-database",Fk=1,wI="firebase-app-check-store";let jb=null;function wM(){return wM=(0,ge.Z)(function*(t,e){const r=(yield function dR(){return jb||(jb=new Promise((t,e)=>{try{const n=indexedDB.open(kk,Fk);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var s;e(Wi.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(wI,{keyPath:"compositeKey"})}}catch(n){e(Wi.create("storage-open",{originalErrorMessage:n?.message}))}}),jb)}()).transaction(wI,"readwrite"),u=r.objectStore(wI).put({compositeKey:t,value:e});return new Promise((l,m)=>{u.onsuccess=I=>{l()},r.onerror=I=>{var C;m(Wi.create("storage-set",{originalErrorMessage:null===(C=I.target.error)||void 0===C?void 0:C.message}))}})}),wM.apply(this,arguments)}const II=new Cc.Yd("@firebase/app-check");function DM(t,e){return(0,un.hl)()?function Vk(t,e){return function hR(t,e){return wM.apply(this,arguments)}(function pR(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{II.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function bM(){return Lb().enabled}function TM(){return SM.apply(this,arguments)}function SM(){return SM=(0,ge.Z)(function*(){const t=Lb();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),SM.apply(this,arguments)}const Gk={error:"UNKNOWN_ERROR"};function zk(t){return un.US.encodeString(JSON.stringify(t),!1)}function $b(t){return AM.apply(this,arguments)}function AM(){return AM=(0,ge.Z)(function*(t,e=!1){const n=t.app;yM(n);const r=Pr(n);let u,s=r.token;if(s&&!Gv(s)&&(r.token=void 0,s=void 0),!s){const I=yield r.cachedTokenPromise;I&&(Gv(I)?s=I:yield DM(n,void 0))}if(!e&&s&&Gv(s))return{token:s.token};let m,l=!1;if(bM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Bb(cR(n,yield TM()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const I=yield r.exchangeTokenPromise;return yield DM(n,I),r.token=I,{token:I.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield Pr(n).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?II.warn(I.message):II.error(I),u=I}return s?u?m=Gv(s)?{token:s.token,internalError:u}:vR(u):(m={token:s.token},r.token=s,yield DM(n,s)):m=vR(u),l&&function yR(t,e){const n=Pr(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,m),m}),AM.apply(this,arguments)}function MM(){return MM=(0,ge.Z)(function*(t){const e=t.app;yM(e);const{provider:n}=Pr(e);if(bM()){const r=yield TM(),{token:s}=yield Bb(cR(e,r),t.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield n.getToken();return{token:r}}}),MM.apply(this,arguments)}function NM(t,e){const n=Pr(t),r=n.tokenObservers.filter(s=>s.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function mR(t){const{app:e}=t,n=Pr(e);let r=n.tokenRefresher;r||(r=function qk(t){const{app:e}=t;return new xk((0,ge.Z)(function*(){let r;if(r=Pr(e).token?yield $b(t,!0):yield $b(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Pr(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},uR.RETRIAL_MIN_WAIT,uR.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Gv(t){return t.expireTimeMillis-Date.now()>0}function vR(t){return{token:zk(Gk),error:t}}class Zk{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Pr(this.app);for(const n of e)NM(this.app,n.next);return Promise.resolve()}}const TR="app-check-internal";!function aF(){(0,Dc._registerComponent)(new Kp.wA("app-check",t=>function Wk(t,e){return new Zk(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(TR).initialize()})),(0,Dc._registerComponent)(new Kp.wA(TR,t=>function Kk(t){return{getToken:e=>$b(t,e),getLimitedUseToken:()=>function gR(t){return MM.apply(this,arguments)}(t),addTokenListener:e=>function xM(t,e,n,r){const{app:s}=t,u=Pr(s);if(u.tokenObservers=[...u.tokenObservers,{next:n,error:r,type:e}],u.token&&Gv(u.token)){const m=u.token;Promise.resolve().then(()=>{n({token:m.token}),mR(t)}).catch(()=>{})}u.cachedTokenPromise.then(()=>mR(t))}(t,"INTERNAL",e),removeTokenListener:e=>NM(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Dc.registerVersion)("@firebase/app-check","0.8.0")}();class kM{constructor(){return(0,Ar.vb)("app-check")}}typeof window<"u"&&window;var hF=P(7142);const AR=new h.OlP("angularfire2.auth.use-emulator"),MR=new h.OlP("angularfire2.auth.settings"),xR=new h.OlP("angularfire2.auth.tenant-id"),NR=new h.OlP("angularfire2.auth.langugage-code"),RR=new h.OlP("angularfire2.auth.use-device-language"),PR=new h.OlP("angularfire.auth.persistence"),OR=(t,e,n,r,s,u,l,m)=>(0,Nu.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const I=e.runOutsideAngular(()=>t.auth());if(n&&I.useEmulator(...n),r&&(I.tenantId=r),I.languageCode=s,u&&I.useDeviceLanguage(),l)for(const[C,M]of Object.entries(l))I.settings[C]=M;return m&&I.setPersistence(m),I},[n,r,s,u,l,m]);let kR=(()=>{class t{constructor(n,r,s,u,l,m,I,C,M,R,H,q){const ye=new Si.x,Ve=(0,ft.of)(void 0).pipe((0,Fb.Q)(l.outsideAngular),(0,wr.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5967)))),(0,mt.U)(()=>(0,Nu.on)(n,u,r)),(0,mt.U)(Be=>OR(Be,u,m,C,M,R,I,H)),sR({bufferSize:1,refCount:!1}));if(ps(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ft.of)(null);else{Ve.pipe(Ds()).subscribe();const ct=Ve.pipe((0,wr.w)(Ot=>Ot.getRedirectResult().then(Ht=>Ht,()=>null)),Ar.iC,sR({bufferSize:1,refCount:!1})),At=Ve.pipe((0,wr.w)(Ot=>new ni.y(Ht=>({unsubscribe:u.runOutsideAngular(()=>Ot.onAuthStateChanged(sn=>Ht.next(sn),sn=>Ht.error(sn),()=>Ht.complete()))})))),_t=Ve.pipe((0,wr.w)(Ot=>new ni.y(Ht=>({unsubscribe:u.runOutsideAngular(()=>Ot.onIdTokenChanged(sn=>Ht.next(sn),sn=>Ht.error(sn),()=>Ht.complete()))}))));this.authState=ct.pipe(oR(At),(0,pM.R)(l.outsideAngular),(0,Fb.Q)(l.insideAngular)),this.user=ct.pipe(oR(_t),(0,pM.R)(l.outsideAngular),(0,Fb.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,wr.w)(Ot=>Ot?(0,rn.D)(Ot.getIdToken()):(0,ft.of)(null))),this.idTokenResult=this.user.pipe((0,wr.w)(Ot=>Ot?(0,rn.D)(Ot.getIdTokenResult()):(0,ft.of)(null))),this.credential=(0,wk.T)(ct,ye,this.authState.pipe(Ai(Ot=>!Ot))).pipe((0,mt.U)(Ot=>Ot?.user?Ot:null),(0,pM.R)(l.outsideAngular),(0,Fb.Q)(l.insideAngular))}return(0,Nu.pX)(this,Ve,u,{spy:{apply:(Be,ct,At)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&At.then(_t=>ye.next(_t))}}})}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(Nu.Dh),h.LFG(Nu.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ar.HU),h.LFG(AR,8),h.LFG(MR,8),h.LFG(xR,8),h.LFG(NR,8),h.LFG(RR,8),h.LFG(PR,8),h.LFG(kM,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function FR(t,e){return function pF(t,e=uk.z){return new ni.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function LM(t,e){return FR(t,e).pipe((0,mt.U)(n=>({payload:n,type:"query"})))}function Gb(t,e){return LM(t,e).pipe(Xa(void 0),cM(),(0,mt.U)(([n,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const I=s.find(M=>M.doc.ref.isEqual(l.ref)),C=n?.payload.docs.find(M=>M.ref.isEqual(l.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(l.metadata)||!I&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function LR(t,e,n){return Gb(t,n).pipe(Sn((r,s)=>function mF(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function yF(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return VM(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return VM(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return VM(t,e.oldIndex,1)}return t}(t,r))}),t}(r,s.map(u=>u.payload),e),[]),(0,ck.x)(),(0,mt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function VM(t,e,n,...r){const s=t.slice();return s.splice(e,n,...r),s}function VR(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class UR{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=Gb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,mt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),n.pipe(Xa(void 0),cM(),Ai(([r,s])=>s.length>0||!r),(0,mt.U)(([r,s])=>s),Ar.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sn((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=VR(e);return LR(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}valueChanges(e={}){return LM(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ar.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Ar.iC)}add(e){return this.ref.add(e)}doc(e){return new BR(this.ref.doc(e),this.afs)}}class BR{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:s,query:u}=HR(r,n);return new UR(s,u,this.afs)}snapshotChanges(){return function gF(t,e){return FR(t,e).pipe(Xa(void 0),cM(),(0,mt.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,rn.D)(this.ref.get(e)).pipe(Ar.iC)}}class vF{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Gb(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Ai(n=>n.length>0),Ar.iC):Gb(this.query,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sn((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=VR(e);return LR(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}valueChanges(e={}){return LM(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Ar.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Ar.iC)}}const jR=new h.OlP("angularfire2.enableFirestorePersistence"),$R=new h.OlP("angularfire2.firestore.persistenceSettings"),_F=new h.OlP("angularfire2.firestore.settings"),wF=new h.OlP("angularfire2.firestore.use-emulator");function HR(t,e=(n=>n)){return{query:e(t),ref:t}}let GR=(()=>{class t{constructor(n,r,s,u,l,m,I,C,M,R,H,q,ye,Ve,Be,ct,At){this.schedulers=I;const _t=(0,Nu.on)(n,m,r),Ot=M;R&&OR(_t,m,H,ye,Ve,Be,q,ct),[this.firestore,this.persistenceEnabled$]=(0,Nu.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const Ht=m.runOutsideAngular(()=>_t.firestore());if(u&&Ht.settings(u),Ot&&Ht.useEmulator(...Ot),s&&!ps(l)){const sn=()=>{try{return(0,rn.D)(Ht.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(us){return typeof console<"u"&&console.warn(us),(0,ft.of)(!1)}};return[Ht,m.runOutsideAngular(sn)]}return[Ht,(0,ft.of)(!1)]},[u,Ot,s])}collection(n,r){let s;s="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:l}=HR(s,r),m=this.schedulers.ngZone.run(()=>u);return new UR(m,l,this)}collectionGroup(n,r){const s=r||(l=>l),u=this.firestore.collectionGroup(n);return new vF(s(u),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const s=this.schedulers.ngZone.run(()=>r);return new BR(s,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(Nu.Dh),h.LFG(Nu.xv,8),h.LFG(jR,8),h.LFG(_F,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ar.HU),h.LFG($R,8),h.LFG(wF,8),h.LFG(kR,8),h.LFG(AR,8),h.LFG(MR,8),h.LFG(xR,8),h.LFG(NR,8),h.LFG(RR,8),h.LFG(PR,8),h.LFG(kM,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),IF=(()=>{class t{constructor(){hF.Z.registerVersion("angularfire",Ar.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:jR,useValue:!0},{provide:$R,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[GR]}),t})(),EF=(()=>{var t;class e{constructor(r){this.db=r,this.likeBtnClicked="true"==localStorage.getItem("likeBtnClicked")}toggleLikeBtnClick(){this.likeBtnClicked=!this.likeBtnClicked,this.likeBtnClicked?this.incrementLikes():this.decrementLikes(),localStorage.setItem("likeBtnClicked",this.likeBtnClicked?"true":"false")}getLiveLikes(){return this.db.doc("portfolio-stats/like-count").valueChanges()}incrementLikes(){var r=this;return(0,ge.Z)(function*(){r.db.doc("portfolio-stats/like-count").update({likes:QN(1)})})()}decrementLikes(){var r=this;return(0,ge.Z)(function*(){r.db.doc("portfolio-stats/like-count").update({likes:QN(-1)})})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(GR))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DF(t,e){1&t&&(h.TgZ(0,"div",26),h.O4$(),h.TgZ(1,"svg",27),h._UZ(2,"path",28),h.qZA(),h.kcU(),h.TgZ(3,"span"),h._uU(4,"Message sent successfully!"),h.qZA()())}function CF(t,e){1&t&&(h.TgZ(0,"div",29),h.O4$(),h.TgZ(1,"svg",27),h._UZ(2,"path",30),h.qZA(),h.kcU(),h.TgZ(3,"span"),h._uU(4,"Sorry, something went wrong. Please try again!"),h.qZA()())}function bF(t,e){1&t&&(h.TgZ(0,"label",8)(1,"span",31),h._uU(2,"Keep writing..."),h.qZA()())}function TF(t,e){1&t&&(h.TgZ(0,"label",8)(1,"span",31),h._uU(2,"I'd like to know your name! \u{1f979}"),h.qZA()())}function SF(t,e){1&t&&(h.TgZ(0,"label",8)(1,"span",31),h._uU(2,"Enter a valid email! \u{1f920}"),h.qZA()())}function AF(t,e){if(1&t&&(h.TgZ(0,"button",32),h._uU(1,"Send \u{1f57a}\u2728"),h.qZA()),2&t){const n=h.oxw();h.Q6J("disabled",n.form.invalid||n.loading)}}function MF(t,e){1&t&&h._UZ(0,"span",33)}function xF(t,e){1&t&&(h.TgZ(0,"div")(1,"div",34),h._uU(2,"\u{1f63a}"),h.qZA(),h.TgZ(3,"div",35),h._uU(4,"\u{1f63f}"),h.qZA()())}function NF(t,e){1&t&&(h.TgZ(0,"div")(1,"div",34),h._uU(2,"\u{1f63f}"),h.qZA(),h.TgZ(3,"div",35),h._uU(4,"\u{1f63a}"),h.qZA()())}function RF(t,e){if(1&t&&(h.TgZ(0,"p",20),h._uU(1),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.hij(" ",n.currLikes," cats made happy so far ")}}const PF=[{path:"",component:JI},{path:"portfolio",component:JI},{path:"education",component:rx},{path:"experience",component:A_},{path:"projects",component:YT},{path:"contact",component:(()=>{var t;class e{constructor(r,s){this.fb=r,this.likesService=s,this.loading=!1,this.formSubmitResponseOK=null,this.likeBtnClicked=!1}ngOnInit(){this.form=this.fb.group({name:["",[Gm.required]],email:["",[Gm.email]],desc:["",[Gm.required,Gm.minLength(6)]]}),this.likesSub=this.likesService.getLiveLikes().subscribe(r=>{this.currLikes=r.likes})}ngOnDestroy(){this.likesSub.unsubscribe()}get name(){return this.form.get("name")}get email(){return this.form.get("email")}get desc(){return this.form.get("desc")}onSubmit(){var r=this;return(0,ge.Z)(function*(){r.loading=!0;const s=r.name?.value,u=r.email?.value,l=r.desc?.value;fetch("https://formspree.io/f/myyqjlkq",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:s,email:u,description:l})}).then(m=>m.json()).then(m=>{console.log(m),m.ok?(r.formSubmitResponseOK=!0,r.form.reset()):r.formSubmitResponseOK=!1}),setTimeout(()=>{r.formSubmitResponseOK=null},4e3),r.loading=!1})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(zT),h.Y36(EF))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-contact-page"]],decls:43,vars:11,consts:[[1,"toast","toast-top","toast-center"],["class","alert alert-success",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"text-5xl","font-bold","text-center","pt-20"],[1,"flex","flex-col","w-full","lg:flex-row","p-16","gap-3","mb-16"],[1,"grid","flex-grow","h-auto","card","rounded-box","place-items-center"],[1,"form-control","w-full","max-w-3xl",3,"formGroup","ngSubmit"],[1,"grid","grid-cols-2","gap-3"],[1,"label"],[1,"label-text"],["name","desc","formControlName","desc","placeholder","Add in your email and I'll reply! (I promise)",1,"textarea","textarea-bordered","textarea-info","h-52","w-full"],["class","label",4,"ngIf"],["name","name","formControlName","name","type","text","placeholder","Rick Astley",1,"input","input-bordered","input-info","w-full","max-w-xs"],[1,"mt-3"],["name","email","formControlName","email","type","email","placeholder","never-gonna@give-you-up.edu",1,"input","input-bordered","w-full","max-w-xs"],[1,"flex","justify-center","py-5"],["class","btn btn-active btn-accent","type","submit",3,"disabled",4,"ngIf"],["class","loading loading-infinity loading-lg",4,"ngIf"],[1,"divider","lg:divider-horizontal"],[1,"card","place-content-center","p-10","gap-3"],[1,"text-center"],[1,"swap","swap-flip","text-5xl","text-red-700"],["likeBtn",""],["type","checkbox",3,"click"],[4,"ngIf"],["class","text-center",4,"ngIf"],[1,"alert","alert-success"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","shrink-0","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"alert","alert-warning"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"label-text-alt","text-red-400"],["type","submit",1,"btn","btn-active","btn-accent",3,"disabled"],[1,"loading","loading-infinity","loading-lg"],[1,"swap-on"],[1,"swap-off"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h.YNc(1,DF,5,0,"div",1),h.YNc(2,CF,5,0,"div",2),h.qZA(),h.TgZ(3,"h1",3),h._uU(4,"Say Hi!"),h.qZA(),h.TgZ(5,"div",4)(6,"div",5)(7,"form",6),h.NdJ("ngSubmit",function(){return s.onSubmit()}),h.TgZ(8,"div",7)(9,"div")(10,"div")(11,"label",8)(12,"span",9),h._uU(13,"Ask me anything!"),h.qZA()(),h._UZ(14,"textarea",10),h.YNc(15,bF,3,0,"label",11),h.qZA()(),h.TgZ(16,"div")(17,"div")(18,"label",8)(19,"span",9),h._uU(20,"What is your name?"),h.qZA()(),h._UZ(21,"input",12),h.YNc(22,TF,3,0,"label",11),h.qZA(),h.TgZ(23,"div",13)(24,"label",8)(25,"span",9),h._uU(26,"What is your email?"),h.qZA()(),h._UZ(27,"input",14),h.YNc(28,SF,3,0,"label",11),h.qZA(),h.TgZ(29,"div",15),h.YNc(30,AF,2,1,"button",16),h.YNc(31,MF,1,0,"span",17),h.qZA()()()()(),h.TgZ(32,"div",18),h._uU(33,"OR"),h.qZA(),h.TgZ(34,"div",19)(35,"p",20),h._uU(36,"Let me know you were here by making this cat happy"),h.qZA(),h.TgZ(37,"label",21,22)(39,"input",23),h.NdJ("click",function(){return s.likesService.toggleLikeBtnClick()}),h.qZA(),h.YNc(40,xF,5,0,"div",24),h.YNc(41,NF,5,0,"div",24),h.qZA(),h.YNc(42,RF,2,1,"p",25),h.qZA()()),2&r&&(h.xp6(1),h.Q6J("ngIf",1==s.formSubmitResponseOK),h.xp6(1),h.Q6J("ngIf",0==s.formSubmitResponseOK),h.xp6(5),h.Q6J("formGroup",s.form),h.xp6(8),h.Q6J("ngIf",s.desc.invalid&&s.desc.dirty),h.xp6(7),h.Q6J("ngIf",s.name.invalid&&s.name.dirty),h.xp6(6),h.Q6J("ngIf",s.email.invalid&&s.email.dirty),h.xp6(2),h.Q6J("ngIf",!s.loading),h.xp6(1),h.Q6J("ngIf",s.loading),h.xp6(9),h.Q6J("ngIf",!s.likesService.likeBtnClicked),h.xp6(1),h.Q6J("ngIf",s.likesService.likeBtnClicked),h.xp6(1),h.Q6J("ngIf",s.currLikes))},dependencies:[Us,qp,N_,F_,L_,iy,n0]}),e})()},{path:"misc",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-misc-page"]],decls:8,vars:0,consts:[[1,"text-5xl","font-bold","text-center","pt-20"],[1,"flex","flex-col","w-full","lg:flex-row","p-10"],[1,"grid","flex-grow","h-32","card","bg-base-300","rounded-box","place-items-center"],[1,"divider","lg:divider-horizontal"]],template:function(r,s){1&r&&(h.TgZ(0,"h1",0),h._uU(1,"Misc"),h.qZA(),h.TgZ(2,"div",1)(3,"div",2),h._uU(4,"maybe a random quote generator"),h.qZA(),h._UZ(5,"div",3),h.TgZ(6,"div",2),h._uU(7,"a counter to like, some game"),h.qZA()())}}),e})()},{path:"**",redirectTo:""}];let OF=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[Sh.forChild(PF),Sh]}),e})(),kF=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[ln,OF,UE]}),e})();const FF_firebase={apiKey:"AIzaSyDUg9wt8LZfl11-g7Kg-QxkT83wugJJCEM",authDomain:"im-mohammedk.firebaseapp.com",projectId:"im-mohammedk",storageBucket:"im-mohammedk.appspot.com",messagingSenderId:"555054352739",appId:"1:555054352739:web:e875c087651f6128a9ab56",measurementId:"G-W0CP68NP7G"};let LF=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t,bootstrap:[gT]}),t.\u0275inj=h.cJS({imports:[Il,T_,mT,kF,Nu.hO.initializeApp(FF_firebase),IF]}),e})();Cn().bootstrapModule(LF).catch(t=>console.error(t))},5619:(ot,De,P)=>{P.d(De,{X:()=>Q});var h=P(8645);class Q extends h.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const ne=super._subscribe(J);return!ne.closed&&J.next(this._value),ne}getValue(){const{hasError:J,thrownError:ne,_value:he}=this;if(J)throw ne;return this._throwIfClosed(),he}next(J){super.next(this._value=J)}}},5592:(ot,De,P)=>{P.d(De,{y:()=>Re});var h=P(305),Q=P(7394),k=P(4850),J=P(8407),ne=P(2653),he=P(4674),pe=P(1441);let Re=(()=>{class Y{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Ze=new Y;return Ze.source=this,Ze.operator=Se,Ze}subscribe(Se,Ze,xe){const Ge=function j(Y){return Y&&Y instanceof h.Lv||function L(Y){return Y&&(0,he.m)(Y.next)&&(0,he.m)(Y.error)&&(0,he.m)(Y.complete)}(Y)&&(0,Q.Nn)(Y)}(Se)?Se:new h.Hp(Se,Ze,xe);return(0,pe.x)(()=>{const{operator:Oe,source:dt}=this;Ge.add(Oe?Oe.call(Ge,dt):dt?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Ze){Se.error(Ze)}}forEach(Se,Ze){return new(Ze=de(Ze))((xe,Ge)=>{const Oe=new h.Hp({next:dt=>{try{Se(dt)}catch(at){Ge(at),Oe.unsubscribe()}},error:Ge,complete:xe});this.subscribe(Oe)})}_subscribe(Se){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Se)}[k.L](){return this}pipe(...Se){return(0,J.U)(Se)(this)}toPromise(Se){return new(Se=de(Se))((Ze,xe)=>{let Ge;this.subscribe(Oe=>Ge=Oe,Oe=>xe(Oe),()=>Ze(Ge))})}}return Y.create=Le=>new Y(Le),Y})();function de(Y){var Le;return null!==(Le=Y??ne.config.Promise)&&void 0!==Le?Le:Promise}},8645:(ot,De,P)=>{P.d(De,{x:()=>pe});var h=P(5592),Q=P(7394);const J=(0,P(2306).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(9039),he=P(1441);let pe=(()=>{class de extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Y=new Re(this,this);return Y.operator=j,Y}_throwIfClosed(){if(this.closed)throw new J}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Y}=this;for(;Y.length;)Y.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Y,isStopped:Le,observers:Se}=this;return Y||Le?Q.Lc:(this.currentObservers=null,Se.push(j),new Q.w0(()=>{this.currentObservers=null,(0,ne.P)(Se,j)}))}_checkFinalizedStatuses(j){const{hasError:Y,thrownError:Le,isStopped:Se}=this;Y?j.error(Le):Se&&j.complete()}asObservable(){const j=new h.y;return j.source=this,j}}return de.create=(L,j)=>new Re(L,j),de})();class Re extends pe{constructor(L,j){super(),this.destination=L,this.source=j}next(L){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Y||Y.call(j,L)}error(L){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Y||Y.call(j,L)}complete(){var L,j;null===(j=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===j||j.call(L)}_subscribe(L){var j,Y;return null!==(Y=null===(j=this.source)||void 0===j?void 0:j.subscribe(L))&&void 0!==Y?Y:Q.Lc}}},305:(ot,De,P)=>{P.d(De,{Hp:()=>xe,Lv:()=>Y});var h=P(4674),Q=P(7394),k=P(2653),J=P(3894),ne=P(2420);const he=de("C",void 0,void 0);function de(te,ve,X){return{kind:te,value:ve,error:X}}var L=P(7599),j=P(1441);class Y extends Q.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Q.Nn)(ve)&&ve.add(this)):this.destination=at}static create(ve,X,Ce){return new xe(ve,X,Ce)}next(ve){this.isStopped?dt(function Re(te){return de("N",te,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?dt(function pe(te){return de("E",void 0,te)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?dt(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Se(te,ve){return Le.call(te,ve)}class Ze{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:X}=this;if(X.next)try{X.next(ve)}catch(Ce){Ge(Ce)}}error(ve){const{partialObserver:X}=this;if(X.error)try{X.error(ve)}catch(Ce){Ge(Ce)}else Ge(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(X){Ge(X)}}}class xe extends Y{constructor(ve,X,Ce){let Pe;if(super(),(0,h.m)(ve)||!ve)Pe={next:ve??void 0,error:X??void 0,complete:Ce??void 0};else{let ze;this&&k.config.useDeprecatedNextContext?(ze=Object.create(ve),ze.unsubscribe=()=>this.unsubscribe(),Pe={next:ve.next&&Se(ve.next,ze),error:ve.error&&Se(ve.error,ze),complete:ve.complete&&Se(ve.complete,ze)}):Pe=ve}this.destination=new Ze(Pe)}}function Ge(te){k.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(te):(0,J.h)(te)}function dt(te,ve){const{onStoppedNotification:X}=k.config;X&&L.z.setTimeout(()=>X(te,ve))}const at={closed:!0,next:ne.Z,error:function Oe(te){throw te},complete:ne.Z}},7394:(ot,De,P)=>{P.d(De,{Lc:()=>he,w0:()=>ne,Nn:()=>pe});var h=P(4674);const k=(0,P(2306).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Y,Le)=>`${Le+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var J=P(9039);class ne{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Se of j)Se.remove(this);else j.remove(this);const{initialTeardown:Y}=this;if((0,h.m)(Y))try{Y()}catch(Se){L=Se instanceof k?Se.errors:[Se]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Se of Le)try{Re(Se)}catch(Ze){L=L??[],Ze instanceof k?L=[...L,...Ze.errors]:L.push(Ze)}}if(L)throw new k(L)}}add(L){var j;if(L&&L!==this)if(this.closed)Re(L);else{if(L instanceof ne){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(L)}}_hasParent(L){const{_parentage:j}=this;return j===L||Array.isArray(j)&&j.includes(L)}_addParent(L){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(L),j):j?[j,L]:L}_removeParent(L){const{_parentage:j}=this;j===L?this._parentage=null:Array.isArray(j)&&(0,J.P)(j,L)}remove(L){const{_finalizers:j}=this;j&&(0,J.P)(j,L),L instanceof ne&&L._removeParent(this)}}ne.EMPTY=(()=>{const de=new ne;return de.closed=!0,de})();const he=ne.EMPTY;function pe(de){return de instanceof ne||de&&"closed"in de&&(0,h.m)(de.remove)&&(0,h.m)(de.add)&&(0,h.m)(de.unsubscribe)}function Re(de){(0,h.m)(de)?de():de.unsubscribe()}},2653:(ot,De,P)=>{P.d(De,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ot,De,P)=>{P.d(De,{E:()=>Q});const Q=new(P(5592).y)(ne=>ne.complete())},2459:(ot,De,P)=>{P.d(De,{D:()=>ve});var h=P(4829),Q=P(3093),k=P(5137),he=P(5592),Re=P(4971),de=P(4674),L=P(7103);function Y(X,Ce){if(!X)throw new Error("Iterable cannot be null");return new he.y(Pe=>{(0,L.f)(Pe,Ce,()=>{const ze=X[Symbol.asyncIterator]();(0,L.f)(Pe,Ce,()=>{ze.next().then(se=>{se.done?Pe.complete():Pe.next(se.value)})},0,!0)})})}var Le=P(8382),Se=P(4026),Ze=P(4266),xe=P(3664),Ge=P(5726),Oe=P(9853),dt=P(541);function ve(X,Ce){return Ce?function te(X,Ce){if(null!=X){if((0,Le.c)(X))return function J(X,Ce){return(0,h.Xf)(X).pipe((0,k.R)(Ce),(0,Q.Q)(Ce))}(X,Ce);if((0,Ze.z)(X))return function pe(X,Ce){return new he.y(Pe=>{let ze=0;return Ce.schedule(function(){ze===X.length?Pe.complete():(Pe.next(X[ze++]),Pe.closed||this.schedule())})})}(X,Ce);if((0,Se.t)(X))return function ne(X,Ce){return(0,h.Xf)(X).pipe((0,k.R)(Ce),(0,Q.Q)(Ce))}(X,Ce);if((0,Ge.D)(X))return Y(X,Ce);if((0,xe.T)(X))return function j(X,Ce){return new he.y(Pe=>{let ze;return(0,L.f)(Pe,Ce,()=>{ze=X[Re.h](),(0,L.f)(Pe,Ce,()=>{let se,yt;try{({value:se,done:yt}=ze.next())}catch(Vt){return void Pe.error(Vt)}yt?Pe.complete():Pe.next(se)},0,!0)}),()=>(0,de.m)(ze?.return)&&ze.return()})}(X,Ce);if((0,dt.L)(X))return function at(X,Ce){return Y((0,dt.Q)(X),Ce)}(X,Ce)}throw(0,Oe.z)(X)}(X,Ce):(0,h.Xf)(X)}},4829:(ot,De,P)=>{P.d(De,{Xf:()=>Le});var h=P(7582),Q=P(4266),k=P(4026),J=P(5592),ne=P(8382),he=P(5726),pe=P(9853),Re=P(3664),de=P(541),L=P(4674),j=P(3894),Y=P(4850);function Le(te){if(te instanceof J.y)return te;if(null!=te){if((0,ne.c)(te))return function Se(te){return new J.y(ve=>{const X=te[Y.L]();if((0,L.m)(X.subscribe))return X.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,Q.z)(te))return function Ze(te){return new J.y(ve=>{for(let X=0;X<te.length&&!ve.closed;X++)ve.next(te[X]);ve.complete()})}(te);if((0,k.t)(te))return function xe(te){return new J.y(ve=>{te.then(X=>{ve.closed||(ve.next(X),ve.complete())},X=>ve.error(X)).then(null,j.h)})}(te);if((0,he.D)(te))return Oe(te);if((0,Re.T)(te))return function Ge(te){return new J.y(ve=>{for(const X of te)if(ve.next(X),ve.closed)return;ve.complete()})}(te);if((0,de.L)(te))return function dt(te){return Oe((0,de.Q)(te))}(te)}throw(0,pe.z)(te)}function Oe(te){return new J.y(ve=>{(function at(te,ve){var X,Ce,Pe,ze;return(0,h.mG)(this,void 0,void 0,function*(){try{for(X=(0,h.KL)(te);!(Ce=yield X.next()).done;)if(ve.next(Ce.value),ve.closed)return}catch(se){Pe={error:se}}finally{try{Ce&&!Ce.done&&(ze=X.return)&&(yield ze.call(X))}finally{if(Pe)throw Pe.error}}ve.complete()})})(te,ve).catch(X=>ve.error(X))})}},3019:(ot,De,P)=>{P.d(De,{T:()=>he});var h=P(7537),Q=P(4829),k=P(6232),J=P(4564),ne=P(2459);function he(...pe){const Re=(0,J.yG)(pe),de=(0,J._6)(pe,1/0),L=pe;return L.length?1===L.length?(0,Q.Xf)(L[0]):(0,h.J)(de)((0,ne.D)(L,Re)):k.E}},2096:(ot,De,P)=>{P.d(De,{of:()=>k});var h=P(4564),Q=P(2459);function k(...J){const ne=(0,h.yG)(J);return(0,Q.D)(J,ne)}},8251:(ot,De,P)=>{P.d(De,{x:()=>Q});var h=P(305);function Q(J,ne,he,pe,Re){return new k(J,ne,he,pe,Re)}class k extends h.Lv{constructor(ne,he,pe,Re,de,L){super(ne),this.onFinalize=de,this.shouldUnsubscribe=L,this._next=he?function(j){try{he(j)}catch(Y){ne.error(Y)}}:super._next,this._error=Re?function(j){try{Re(j)}catch(Y){ne.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(j){ne.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},3997:(ot,De,P)=>{P.d(De,{x:()=>J});var h=P(2737),Q=P(9360),k=P(8251);function J(he,pe=h.y){return he=he??ne,(0,Q.e)((Re,de)=>{let L,j=!0;Re.subscribe((0,k.x)(de,Y=>{const Le=pe(Y);(j||!he(L,Le))&&(j=!1,L=Le,de.next(Y))}))})}function ne(he,pe){return he===pe}},7398:(ot,De,P)=>{P.d(De,{U:()=>k});var h=P(9360),Q=P(8251);function k(J,ne){return(0,h.e)((he,pe)=>{let Re=0;he.subscribe((0,Q.x)(pe,de=>{pe.next(J.call(ne,de,Re++))}))})}},7537:(ot,De,P)=>{P.d(De,{J:()=>k});var h=P(1631),Q=P(2737);function k(J=1/0){return(0,h.z)(Q.y,J)}},1631:(ot,De,P)=>{P.d(De,{z:()=>Re});var h=P(7398),Q=P(4829),k=P(9360),J=P(7103),ne=P(8251),pe=P(4674);function Re(de,L,j=1/0){return(0,pe.m)(L)?Re((Y,Le)=>(0,h.U)((Se,Ze)=>L(Y,Se,Le,Ze))((0,Q.Xf)(de(Y,Le))),j):("number"==typeof L&&(j=L),(0,k.e)((Y,Le)=>function he(de,L,j,Y,Le,Se,Ze,xe){const Ge=[];let Oe=0,dt=0,at=!1;const te=()=>{at&&!Ge.length&&!Oe&&L.complete()},ve=Ce=>Oe<Y?X(Ce):Ge.push(Ce),X=Ce=>{Se&&L.next(Ce),Oe++;let Pe=!1;(0,Q.Xf)(j(Ce,dt++)).subscribe((0,ne.x)(L,ze=>{Le?.(ze),Se?ve(ze):L.next(ze)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Oe--;Ge.length&&Oe<Y;){const ze=Ge.shift();Ze?(0,J.f)(L,Ze,()=>X(ze)):X(ze)}te()}catch(ze){L.error(ze)}}))};return de.subscribe((0,ne.x)(L,ve,()=>{at=!0,te()})),()=>{xe?.()}}(Y,Le,de,j)))}},3093:(ot,De,P)=>{P.d(De,{Q:()=>J});var h=P(7103),Q=P(9360),k=P(8251);function J(ne,he=0){return(0,Q.e)((pe,Re)=>{pe.subscribe((0,k.x)(Re,de=>(0,h.f)(Re,ne,()=>Re.next(de),he),()=>(0,h.f)(Re,ne,()=>Re.complete(),he),de=>(0,h.f)(Re,ne,()=>Re.error(de),he)))})}},3020:(ot,De,P)=>{P.d(De,{B:()=>ne});var h=P(4829),Q=P(8645),k=P(305),J=P(9360);function ne(pe={}){const{connector:Re=(()=>new Q.x),resetOnError:de=!0,resetOnComplete:L=!0,resetOnRefCountZero:j=!0}=pe;return Y=>{let Le,Se,Ze,xe=0,Ge=!1,Oe=!1;const dt=()=>{Se?.unsubscribe(),Se=void 0},at=()=>{dt(),Le=Ze=void 0,Ge=Oe=!1},te=()=>{const ve=Le;at(),ve?.unsubscribe()};return(0,J.e)((ve,X)=>{xe++,!Oe&&!Ge&&dt();const Ce=Ze=Ze??Re();X.add(()=>{xe--,0===xe&&!Oe&&!Ge&&(Se=he(te,j))}),Ce.subscribe(X),!Le&&xe>0&&(Le=new k.Hp({next:Pe=>Ce.next(Pe),error:Pe=>{Oe=!0,dt(),Se=he(at,de,Pe),Ce.error(Pe)},complete:()=>{Ge=!0,dt(),Se=he(at,L),Ce.complete()}}),(0,h.Xf)(ve).subscribe(Le))})(Y)}}function he(pe,Re,...de){if(!0===Re)return void pe();if(!1===Re)return;const L=new k.Hp({next:()=>{L.unsubscribe(),pe()}});return(0,h.Xf)(Re(...de)).subscribe(L)}},5137:(ot,De,P)=>{P.d(De,{R:()=>Q});var h=P(9360);function Q(k,J=0){return(0,h.e)((ne,he)=>{he.add(k.schedule(()=>ne.subscribe(he),J))})}},4664:(ot,De,P)=>{P.d(De,{w:()=>J});var h=P(4829),Q=P(9360),k=P(8251);function J(ne,he){return(0,Q.e)((pe,Re)=>{let de=null,L=0,j=!1;const Y=()=>j&&!de&&Re.complete();pe.subscribe((0,k.x)(Re,Le=>{de?.unsubscribe();let Se=0;const Ze=L++;(0,h.Xf)(ne(Le,Ze)).subscribe(de=(0,k.x)(Re,xe=>Re.next(he?he(Le,xe,Ze,Se++):xe),()=>{de=null,Y()}))},()=>{j=!0,Y()}))})}},9397:(ot,De,P)=>{P.d(De,{b:()=>ne});var h=P(4674),Q=P(9360),k=P(8251),J=P(2737);function ne(he,pe,Re){const de=(0,h.m)(he)||pe||Re?{next:he,error:pe,complete:Re}:he;return de?(0,Q.e)((L,j)=>{var Y;null===(Y=de.subscribe)||void 0===Y||Y.call(de);let Le=!0;L.subscribe((0,k.x)(j,Se=>{var Ze;null===(Ze=de.next)||void 0===Ze||Ze.call(de,Se),j.next(Se)},()=>{var Se;Le=!1,null===(Se=de.complete)||void 0===Se||Se.call(de),j.complete()},Se=>{var Ze;Le=!1,null===(Ze=de.error)||void 0===Ze||Ze.call(de,Se),j.error(Se)},()=>{var Se,Ze;Le&&(null===(Se=de.unsubscribe)||void 0===Se||Se.call(de)),null===(Ze=de.finalize)||void 0===Ze||Ze.call(de)}))}):J.y}},1954:(ot,De,P)=>{P.d(De,{o:()=>ne});var h=P(7394);class Q extends h.w0{constructor(pe,Re){super()}schedule(pe,Re=0){return this}}const k={setInterval(he,pe,...Re){const{delegate:de}=k;return de?.setInterval?de.setInterval(he,pe,...Re):setInterval(he,pe,...Re)},clearInterval(he){const{delegate:pe}=k;return(pe?.clearInterval||clearInterval)(he)},delegate:void 0};var J=P(9039);class ne extends Q{constructor(pe,Re){super(pe,Re),this.scheduler=pe,this.work=Re,this.pending=!1}schedule(pe,Re=0){var de;if(this.closed)return this;this.state=pe;const L=this.id,j=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(j,L,Re)),this.pending=!0,this.delay=Re,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,Re),this}requestAsyncId(pe,Re,de=0){return k.setInterval(pe.flush.bind(pe,this),de)}recycleAsyncId(pe,Re,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return Re;null!=Re&&k.clearInterval(Re)}execute(pe,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(pe,Re);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,Re){let L,de=!1;try{this.work(pe)}catch(j){de=!0,L=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:pe,scheduler:Re}=this,{actions:de}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(de,this),null!=pe&&(this.id=this.recycleAsyncId(Re,pe,null)),this.delay=null,super.unsubscribe()}}}},2631:(ot,De,P)=>{P.d(De,{v:()=>k});var h=P(4552);class Q{constructor(ne,he=Q.now){this.schedulerActionCtor=ne,this.now=he}schedule(ne,he=0,pe){return new this.schedulerActionCtor(this,ne).schedule(pe,he)}}Q.now=h.l.now;class k extends Q{constructor(ne,he=Q.now){super(ne,he),this.actions=[],this._active=!1}flush(ne){const{actions:he}=this;if(this._active)return void he.push(ne);let pe;this._active=!0;do{if(pe=ne.execute(ne.state,ne.delay))break}while(ne=he.shift());if(this._active=!1,pe){for(;ne=he.shift();)ne.unsubscribe();throw pe}}}},6321:(ot,De,P)=>{P.d(De,{z:()=>k});var h=P(1954);const k=new(P(2631).v)(h.o)},4552:(ot,De,P)=>{P.d(De,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(ot,De,P)=>{P.d(De,{z:()=>h});const h={setTimeout(Q,k,...J){const{delegate:ne}=h;return ne?.setTimeout?ne.setTimeout(Q,k,...J):setTimeout(Q,k,...J)},clearTimeout(Q){const{delegate:k}=h;return(k?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},4971:(ot,De,P)=>{P.d(De,{h:()=>Q});const Q=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ot,De,P)=>{P.d(De,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ot,De,P)=>{P.d(De,{_6:()=>he,jO:()=>J,yG:()=>ne});var h=P(4674);function k(pe){return pe[pe.length-1]}function J(pe){return(0,h.m)(k(pe))?pe.pop():void 0}function ne(pe){return function Q(pe){return pe&&(0,h.m)(pe.schedule)}(k(pe))?pe.pop():void 0}function he(pe,Re){return"number"==typeof k(pe)?pe.pop():Re}},9039:(ot,De,P)=>{function h(Q,k){if(Q){const J=Q.indexOf(k);0<=J&&Q.splice(J,1)}}P.d(De,{P:()=>h})},2306:(ot,De,P)=>{function h(Q){const J=Q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}P.d(De,{d:()=>h})},1441:(ot,De,P)=>{P.d(De,{O:()=>J,x:()=>k});var h=P(2653);let Q=null;function k(ne){if(h.config.useDeprecatedSynchronousErrorHandling){const he=!Q;if(he&&(Q={errorThrown:!1,error:null}),ne(),he){const{errorThrown:pe,error:Re}=Q;if(Q=null,pe)throw Re}}else ne()}function J(ne){h.config.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ne)}},7103:(ot,De,P)=>{function h(Q,k,J,ne=0,he=!1){const pe=k.schedule(function(){J(),he?Q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Q.add(pe),!he)return pe}P.d(De,{f:()=>h})},2737:(ot,De,P)=>{function h(Q){return Q}P.d(De,{y:()=>h})},4266:(ot,De,P)=>{P.d(De,{z:()=>h});const h=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},5726:(ot,De,P)=>{P.d(De,{D:()=>Q});var h=P(4674);function Q(k){return Symbol.asyncIterator&&(0,h.m)(k?.[Symbol.asyncIterator])}},4674:(ot,De,P)=>{function h(Q){return"function"==typeof Q}P.d(De,{m:()=>h})},8382:(ot,De,P)=>{P.d(De,{c:()=>k});var h=P(4850),Q=P(4674);function k(J){return(0,Q.m)(J[h.L])}},3664:(ot,De,P)=>{P.d(De,{T:()=>k});var h=P(4971),Q=P(4674);function k(J){return(0,Q.m)(J?.[h.h])}},4026:(ot,De,P)=>{P.d(De,{t:()=>Q});var h=P(4674);function Q(k){return(0,h.m)(k?.then)}},541:(ot,De,P)=>{P.d(De,{L:()=>J,Q:()=>k});var h=P(7582),Q=P(4674);function k(ne){return(0,h.FC)(this,arguments,function*(){const pe=ne.getReader();try{for(;;){const{value:Re,done:de}=yield(0,h.qq)(pe.read());if(de)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Re)}}finally{pe.releaseLock()}})}function J(ne){return(0,Q.m)(ne?.getReader)}},9360:(ot,De,P)=>{P.d(De,{A:()=>Q,e:()=>k});var h=P(4674);function Q(J){return(0,h.m)(J?.lift)}function k(J){return ne=>{if(Q(ne))return ne.lift(function(he){try{return J(he,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(ot,De,P)=>{function h(){}P.d(De,{Z:()=>h})},8407:(ot,De,P)=>{P.d(De,{U:()=>k,z:()=>Q});var h=P(2737);function Q(...J){return k(J)}function k(J){return 0===J.length?h.y:1===J.length?J[0]:function(he){return J.reduce((pe,Re)=>Re(pe),he)}}},3894:(ot,De,P)=>{P.d(De,{h:()=>k});var h=P(2653),Q=P(7599);function k(J){Q.z.setTimeout(()=>{const{onUnhandledError:ne}=h.config;if(!ne)throw J;ne(J)})}},9853:(ot,De,P)=>{function h(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>h})},5879:(ot,De,P)=>{P.d(De,{$8M:()=>fa,$WT:()=>Bs,$Z:()=>RT,AFp:()=>YI,AaK:()=>Y,CHM:()=>Ju,CRH:()=>If,EJc:()=>en,EpF:()=>k0,F$t:()=>Hh,F4k:()=>tD,FYo:()=>Pp,FiY:()=>Ol,GfV:()=>Pi,Gpc:()=>Ze,HDt:()=>kg,Hsn:()=>V0,JOm:()=>pp,Jf7:()=>TT,KtG:()=>nh,LFG:()=>wt,LSH:()=>zI,Lbi:()=>T_,Lck:()=>zD,MAs:()=>x0,MGl:()=>ig,MMx:()=>ZD,NdJ:()=>F0,O4$:()=>tc,Ojb:()=>mT,OlP:()=>hn,Oqu:()=>Jh,P3R:()=>y_,PXZ:()=>DA,Q6J:()=>N0,QGY:()=>$h,Qsj:()=>uE,R0b:()=>Zn,RDi:()=>l_,Rgc:()=>Ed,SBq:()=>Nh,Sil:()=>hA,Suo:()=>Hc,TTD:()=>ra,TgZ:()=>Sc,VuI:()=>VA,X6Q:()=>yv,XFs:()=>lt,Xpm:()=>Ru,Xq5:()=>Qs,Xts:()=>Fm,Y36:()=>nd,YKP:()=>jo,YNc:()=>oi,Yjl:()=>sl,Yz7:()=>Nt,Z0I:()=>nn,ZZ4:()=>xu,_Bn:()=>GD,_UZ:()=>tg,_c5:()=>OA,_uU:()=>pD,aQg:()=>bv,c2e:()=>FC,cJS:()=>In,cg1:()=>Fy,dDg:()=>zC,dqk:()=>Qt,eFA:()=>KC,eJc:()=>Ag,ekj:()=>pd,eoX:()=>qC,f3M:()=>xt,g9A:()=>QI,h0i:()=>Lc,hGG:()=>sb,hij:()=>Rc,iGM:()=>wC,ifc:()=>Me,ip1:()=>lv,jDz:()=>WD,kL8:()=>is,kcU:()=>Ml,lG2:()=>Ko,lqb:()=>_a,lri:()=>Fw,n5z:()=>tu,oAB:()=>Va,oJD:()=>HI,oxw:()=>rg,q4F:()=>yu,qFp:()=>rI,qLn:()=>Oh,qOj:()=>f0,qZA:()=>Ac,rWj:()=>Lw,rg0:()=>Zu,s9C:()=>mi,sBO:()=>SA,s_b:()=>Tg,soG:()=>Yn,tb:()=>Ug,tp0:()=>fh,uIk:()=>Mr,vHH:()=>te,vpe:()=>vu,wAp:()=>Lo,xp6:()=>NT,z2F:()=>Ra,zSh:()=>Sh,zs3:()=>Ia});var h=P(8645),Q=P(7394),k=P(5592),J=P(3019),ne=P(5619),he=P(2096),pe=P(3020),Re=P(4664),de=P(3997);function L(i){for(let o in i)if(i[o]===L)return o;throw Error("Could not find renamed property on target object.")}function j(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function Y(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Y).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Le(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Se=L({__forward_ref__:L});function Ze(i){return i.__forward_ref__=Ze,i.toString=function(){return Y(this())},i}function xe(i){return Ge(i)?i():i}function Ge(i){return"function"==typeof i&&i.hasOwnProperty(Se)&&i.__forward_ref__===Ze}function Oe(i){return i&&!!i.\u0275providers}const at="https://g.co/ng/security#xss";class te extends Error{constructor(o,a){super(function ve(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function X(i){return"string"==typeof i?i:null==i?"":String(i)}function yt(i,o){throw new te(-201,!1)}function Xe(i,o){null==i&&function He(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function Nt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function In(i){return{providers:i.providers||[],imports:i.imports||[]}}function fr(i){return Or(i,hi)||Or(i,Ls)}function nn(i){return null!==fr(i)}function Or(i,o){return i.hasOwnProperty(o)?i[o]:null}function Xs(i){return i&&(i.hasOwnProperty(fi)||i.hasOwnProperty(Oa))?i[fi]:null}const hi=L({\u0275prov:L}),fi=L({\u0275inj:L}),Ls=L({ngInjectableDef:L}),Oa=L({ngInjectorDef:L});var lt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(lt||{});let Ut;function on(i){const o=Ut;return Ut=i,o}function En(i,o,a){const c=fr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==o?o:void yt(Y(i))}const Qt=globalThis,Qr={},Un="__NG_DI_FLAG__",_i="ngTempTokenPath",U=/\n/gm,z="__source";let Ie;function Ye(i){const o=Ie;return Ie=i,o}function Ct(i,o=lt.Default){if(void 0===Ie)throw new te(-203,!1);return null===Ie?En(i,void 0,o):Ie.get(i,o&lt.Optional?null:void 0,o)}function wt(i,o=lt.Default){return(function Mt(){return Ut}()||Ct)(xe(i),o)}function xt(i,o=lt.Default){return wt(i,Dn(o))}function Dn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Gt(i){const o=[];for(let a=0;a<i.length;a++){const c=xe(i[a]);if(Array.isArray(c)){if(0===c.length)throw new te(900,!1);let d,p=lt.Default;for(let y=0;y<c.length;y++){const w=c[y],D=Ki(w);"number"==typeof D?-1===D?d=w.token:p|=D:d=w}o.push(wt(d,p))}else o.push(wt(c))}return o}function zn(i,o){return i[Un]=o,i.prototype[Un]=o,i}function Ki(i){return i[Un]}function ue(i){return{toString:i}.toString()}var ee=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(ee||{}),Me=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Me||{});const tt={},qe=[],Rt=L({\u0275cmp:L}),Wt=L({\u0275dir:L}),Bn=L({\u0275pipe:L}),jn=L({\u0275mod:L}),gr=L({\u0275fac:L}),Yi=L({__NG_ELEMENT_ID__:L}),zo=L({__NG_ENV_ID__:L});function el(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}function qo(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],y=a[c++],w=a[c++];i.setAttribute(o,y,w,p)}else{const p=d,y=a[++c];Ii(p)?i.setProperty(o,p,y):i.setAttribute(o,p,y),c++}}return c}function tl(i){return 3===i||4===i||6===i}function Ii(i){return 64===i.charCodeAt(0)}function no(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Zo(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function Zo(i,o,a,c,d){let p=0,y=i.length;if(-1===o)y=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,o),p=y+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}const nl="ng-template";function $n(i,o,a){let c=0,d=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&d){const y=i[c++];if(a&&"class"===p&&-1!==el(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function Us(i){return 4===i.type&&i.value!==nl}function em(i,o,a){return o===(4!==i.type||a?i.value:nl)}function jf(i,o,a){let c=4;const d=i.attrs||[],p=function tm(i){for(let o=0;o<i.length;o++)if(tl(i[o]))return o;return i.length}(d);let y=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!y)if(4&c){if(c=2|1&c,""!==D&&!em(i,D,a)||""===D&&1===o.length){if(Jr(c))return!1;y=!0}}else{const S=8&c?D:o[++w];if(8&c&&null!==i.attrs){if(!$n(i.attrs,S,a)){if(Jr(c))return!1;y=!0}continue}const F=Wo(8&c?"class":D,d,Us(i),a);if(-1===F){if(Jr(c))return!1;y=!0;continue}if(""!==S){let G;G=F>p?"":d[F+1].toLowerCase();const K=8&c?G:null;if(K&&-1!==el(K,S,0)||2&c&&S!==G){if(Jr(c))return!1;y=!0}}}}else{if(!y&&!Jr(c)&&!Jr(D))return!1;if(y&&Jr(D))continue;y=!1,c=D|1&c}}return Jr(c)||y}function Jr(i){return 0==(1&i)}function Wo(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function ro(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function rl(i,o,a=!1){for(let c=0;c<o.length;c++)if(jf(i,o[c],a))return!0;return!1}function $f(i,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function La(i,o){return i?":not("+o.trim()+")":o}function Vd(i){let o=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const w=i[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!Jr(y)&&(o+=La(p,d),d=""),c=y,p=p||!Jr(c);a++}return""!==d&&(o+=La(p,d)),o}function Ru(i){return ue(()=>{const o=ol(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===ee.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Me.Emulated,styles:i.styles||qe,_:null,schemas:i.schemas||null,tView:null,id:""};Hf(a);const c=i.dependencies;return a.directiveDefs=Ua(c,!1),a.pipeDefs=Ua(c,!0),a.id=function Di(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function il(i){return zt(i)||xn(i)}function Pu(i){return null!==i}function Va(i){return ue(()=>({type:i.type,bootstrap:i.bootstrap||qe,declarations:i.declarations||qe,imports:i.imports||qe,exports:i.exports||qe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Ou(i,o){if(null==i)return tt;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}function Ko(i){return ue(()=>{const o=ol(i);return Hf(o),o})}function sl(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function zt(i){return i[Rt]||null}function xn(i){return i[Wt]||null}function kr(i){return i[Bn]||null}function Bs(i){const o=zt(i)||xn(i)||kr(i);return null!==o&&o.standalone}function Fr(i,o){const a=i[jn]||null;if(!a&&!0===o)throw new Error(`Type ${Y(i)} does not have '\u0275mod' property.`);return a}function ol(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||tt,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||qe,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ou(i.inputs,o),outputs:Ou(i.outputs)}}function Hf(i){i.features?.forEach(o=>o(i))}function Ua(i,o){if(!i)return null;const a=o?kr:il;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Pu)}const gn=0,Qe=1,vt=2,mn=3,Lr=4,io=5,mr=6,Ba=7,ln=8,fs=9,Yo=10,Et=11,yr=12,Gf=13,ps=14,yn=15,al=16,so=17,nr=18,gs=19,ms=20,js=21,Ci=22,Fu=23,oo=24,kt=25,Qo=1,Lu=2,rr=7,ir=9,vr=11;function sr(i){return Array.isArray(i)&&"object"==typeof i[Qo]}function Cr(i){return Array.isArray(i)&&!0===i[Qo]}function Vu(i){return 0!=(4&i.flags)}function uo(i){return i.componentOffset>-1}function pi(i){return 1==(1&i.flags)}function Xr(i){return!!i.template}function Jo(i){return 0!=(512&i[vt])}function co(i,o){return i.hasOwnProperty(gr)?i[gr]:null}let fl=Qt.WeakRef??class $u{constructor(o){this.ref=o}deref(){return this.ref}},Hu=0,Qi=null,lo=!1;function Nn(i){const o=Qi;return Qi=i,o}class Kf{constructor(){this.id=Hu++,this.ref=function ta(i){return new fl(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,a]of this.producers){const c=a.producerNode.deref();if(null!=c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(o),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=lo;lo=!0;try{for(const[a,c]of this.consumers){const d=c.consumerNode.deref();null!=d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{lo=o}}producerAccessed(){if(lo)throw new Error("");if(null===Qi)return;let o=Qi.producers.get(this.id);void 0===o?(o={consumerNode:Qi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Qi.trackingVersion},Qi.producers.set(this.id,o),this.consumers.set(Qi.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=Qi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Qi?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let qu=null;function Zu(i){const o=Nn(null);try{return i()}finally{Nn(o)}}const Zd=()=>{};class Wd extends Kf{constructor(o,a,c){super(),this.watch=o,this.schedule=a,this.dirty=!1,this.cleanupFn=Zd,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=Nn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Zd,this.watch(this.registerOnCleanup)}finally{Nn(o)}}cleanup(){this.cleanupFn()}}class Jf{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ra(){return Kd}function Kd(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ga),ho}function ho(){const i=Yd(this),o=i?.current;if(o){const a=i.previous;if(a===tt)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Ga(i,o,a,c){const d=this.declaredInputs[a],p=Yd(i)||function Wu(i,o){return i[gl]=o}(i,{previous:tt,current:null}),y=p.current||(p.current={}),w=p.previous,D=w[d];y[d]=new Jf(D&&D.currentValue,o,w===tt),i[c]=o}ra.ngInherit=!0;const gl="__ngSimpleChanges__";function Yd(i){return i[gl]||null}const bi=function(i,o,a){},ep="svg";function dn(i){for(;Array.isArray(i);)i=i[gn];return i}function Ku(i,o){return dn(o[i])}function Br(i,o){return dn(o[i.index])}function Qd(i,o){return i.data[o]}function Rn(i,o){const a=o[i];return sr(a)?a:a[gn]}function Gs(i,o){return null==o?null:i[o]}function vl(i){i[so]=0}function tp(i){1024&i[vt]||(i[vt]|=1024,po(i,1))}function Xd(i){1024&i[vt]&&(i[vt]&=-1025,po(i,-1))}function po(i,o){let a=i[mn];if(null===a)return;a[io]+=o;let c=a;for(a=a[mn];null!==a&&(1===o&&1===c[io]||-1===o&&0===c[io]);)a[io]+=o,c=a,a=a[mn]}const It={lFrame:oh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function go(){return It.bindingsEnabled}function aa(){return null!==It.skipHydrationRootTNode}function fe(){return It.lFrame.lView}function Kt(){return It.lFrame.tView}function Ju(i){return It.lFrame.contextLView=i,i[ln]}function nh(i){return It.lFrame.contextLView=null,i}function qn(){let i=qa();for(;null!==i&&64===i.type;)i=i.parent;return i}function qa(){return It.lFrame.currentTNode}function Bi(i,o){const a=It.lFrame;a.currentTNode=i,a.isParent=o}function or(){return It.lFrame.isParent}function yo(){It.lFrame.isParent=!1}function vs(){return It.lFrame.bindingIndex++}function bl(i,o){const a=It.lFrame;a.bindingIndex=a.bindingRootIndex=i,ip(o)}function ip(i){It.lFrame.currentDirectiveIndex=i}function ih(){return It.lFrame.currentQueryIndex}function Tl(i){It.lFrame.currentQueryIndex=i}function am(i){const o=i[Qe];return 2===o.type?o.declTNode:1===o.type?i[mr]:null}function Sl(i,o,a){if(a&lt.SkipSelf){let d=o,p=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=am(p),null===d||(p=p[ps],10&d.type))););if(null===d)return!1;o=d,i=p}const c=It.lFrame=ua();return c.currentTNode=o,c.lView=i,!0}function sh(i){const o=ua(),a=i[Qe];It.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ua(){const i=It.lFrame,o=null===i?null:i.child;return null===o?oh(i):o}function oh(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Al(){const i=It.lFrame;return It.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const sp=Al;function Xu(){const i=Al();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ti(){return It.lFrame.selectedIndex}function zs(i){It.lFrame.selectedIndex=i}function bn(){const i=It.lFrame;return Qd(i.tView,i.selectedIndex)}function tc(){It.lFrame.currentNamespace=ep}function Ml(){!function cm(){It.lFrame.currentNamespace=null}()}let ca=!0;function qs(){return ca}function rn(i){ca=i}function br(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:x}=p;y&&(i.contentHooks??=[]).push(-a,y),w&&((i.contentHooks??=[]).push(a,w),(i.contentCheckHooks??=[]).push(a,w)),D&&(i.viewHooks??=[]).push(-a,D),S&&((i.viewHooks??=[]).push(a,S),(i.viewCheckHooks??=[]).push(a,S)),null!=x&&(i.destroyHooks??=[]).push(a,x)}}function wo(i,o,a){nc(i,o,3,a)}function Zs(i,o,a,c){(3&i[vt])===a&&nc(i,o,a,c)}function Wa(i,o){let a=i[vt];(3&a)===o&&(a&=8191,a+=1,i[vt]=a)}function nc(i,o,a,c){const p=c??-1,y=o.length-1;let w=0;for(let D=void 0!==c?65535&i[so]:0;D<y;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=c&&w>=c)break}else o[D]<0&&(i[so]+=65536),(w<p||-1==p)&&(Io(i,a,o,D),i[so]=(4294901760&i[so])+D+2),D++}function Ka(i,o){bi(4,i,o);const a=Nn(null);try{o.call(i)}finally{Nn(a),bi(5,i,o)}}function Io(i,o,a,c){const d=a[c]<0,p=a[c+1],w=i[d?-a[c]:a[c]];d?i[vt]>>13<i[so]>>16&&(3&i[vt])===o&&(i[vt]+=8192,Ka(w,p)):Ka(w,p)}const jr=-1;class mt{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Nl(i){return i!==jr}function Ws(i){return 32767&i}function Ji(i,o){let a=function lm(i){return i>>16}(i),c=o;for(;a>0;)c=c[ps],a--;return c}let _s=!0;function la(i){const o=_s;return _s=i,o}const ic=255,Qa=5;let ch=0;const $r={};function Ja(i,o){const a=sc(i,o);if(-1!==a)return a;const c=o[Qe];c.firstCreatePass&&(i.injectorIndex=o.length,_r(c.data,i),_r(o,null),_r(c.blueprint,null));const d=Co(i,o),p=i.injectorIndex;if(Nl(d)){const y=Ws(d),w=Ji(d,o),D=w[Qe].data;for(let S=0;S<8;S++)o[p+S]=w[y+S]|D[y+S]}return o[p+8]=d,p}function _r(i,o){i.push(0,0,0,0,0,0,0,0,o)}function sc(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Co(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=uc(d),null===c)return jr;if(a++,d=d[ps],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return jr}function Si(i,o,a){!function ws(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Yi)&&(c=a[Yi]),null==c&&(c=a[Yi]=ch++);const d=c&ic;o.data[i+(d>>Qa)]|=1<<d}(i,o,a)}function Is(i,o,a){if(a&lt.Optional||void 0!==i)return i;yt()}function Xa(i,o,a,c){if(a&lt.Optional&&void 0===c&&(c=null),!(a&(lt.Self|lt.Host))){const d=i[fs],p=on(void 0);try{return d?d.get(o,c,a&lt.Optional):En(o,c,a&lt.Optional)}finally{on(p)}}return Is(c,0,a)}function Ai(i,o,a,c=lt.Default,d){if(null!==i){if(2048&o[vt]&&!(c&lt.Self)){const y=function ha(i,o,a,c,d){let p=i,y=o;for(;null!==p&&null!==y&&2048&y[vt]&&!(512&y[vt]);){const w=ur(p,y,a,c|lt.Self,$r);if(w!==$r)return w;let D=p.parent;if(!D){const S=y[ms];if(S){const x=S.get(a,$r,c);if(x!==$r)return x}D=uc(y),y=y[ps]}p=D}return d}(i,o,a,c,$r);if(y!==$r)return y}const p=ur(i,o,a,c,$r);if(p!==$r)return p}return Xa(o,a,c,d)}function ur(i,o,a,c,d){const p=function Ds(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Yi)?i[Yi]:void 0;return"number"==typeof o?o>=0?o&ic:eu:o}(a);if("function"==typeof p){if(!Sl(o,i,c))return c&lt.Host?Is(d,0,c):Xa(o,a,c,d);try{let y;if(y=p(c),null!=y||c&lt.Optional)return y;yt()}finally{sp()}}else if("number"==typeof p){let y=null,w=sc(i,o),D=jr,S=c&lt.Host?o[yn][mr]:null;for((-1===w||c&lt.SkipSelf)&&(D=-1===w?Co(i,o):o[w+8],D!==jr&&Pn(c,!1)?(y=o[Qe],w=Ws(D),o=Ji(D,o)):w=-1);-1!==w;){const x=o[Qe];if(Ks(p,w,x.data)){const F=oc(w,o,a,y,c,S);if(F!==$r)return F}D=o[w+8],D!==jr&&Pn(c,o[Qe].data[w+8]===S)&&Ks(p,w,o)?(y=x,w=Ws(D),o=Ji(D,o)):w=-1}}return d}function oc(i,o,a,c,d,p){const y=o[Qe],w=y.data[i+8],x=ac(w,y,a,null==c?uo(w)&&_s:c!=y&&0!=(3&w.type),d&lt.Host&&p===w);return null!==x?Es(o,y,x,w):$r}function ac(i,o,a,c,d){const p=i.providerIndexes,y=o.data,w=1048575&p,D=i.directiveStart,x=p>>20,G=d?w+x:i.directiveEnd;for(let K=c?w:w+x;K<G;K++){const me=y[K];if(K<D&&a===me||K>=D&&me.type===a)return K}if(d){const K=y[D];if(K&&Xr(K)&&K.type===a)return D}return null}function Es(i,o,a,c){let d=i[a];const p=o.data;if(function ah(i){return i instanceof mt}(d)){const y=d;y.resolving&&function Pe(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new te(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():X(i)}(p[a]));const w=la(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?on(y.injectImpl):null;Sl(i,c,lt.Default);try{d=i[a]=y.factory(void 0,p,i,c),o.firstCreatePass&&a>=c.directiveStart&&function ft(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const y=Kd(o);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),p&&((a.preOrderHooks??=[]).push(i,p),(a.preOrderCheckHooks??=[]).push(i,p))}(a,p[a],o)}finally{null!==S&&on(S),la(w),y.resolving=!1,sp()}}return d}function Ks(i,o,a){return!!(a[o+(i>>Qa)]&1<<i)}function Pn(i,o){return!(i&lt.Self||i&lt.Host&&o)}class Sn{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Ai(this._tNode,this._lView,o,Dn(c),a)}}function eu(){return new Sn(qn(),fe())}function tu(i){return ue(()=>{const o=i.prototype.constructor,a=o[gr]||da(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[gr]||da(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function da(i){return Ge(i)?()=>{const o=da(xe(i));return o&&o()}:co(i)}function uc(i){const o=i[Qe],a=o.type;return 2===a?o.declTNode:1===a?i[mr]:null}function fa(i){return function wr(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(tl(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(qn(),i)}const Cs="__parameters__";function $i(i,o,a){return ue(()=>{const c=function ru(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const y=new d(...p);return w.annotation=y,w;function w(D,S,x){const F=D.hasOwnProperty(Cs)?D[Cs]:Object.defineProperty(D,Cs,{value:[]})[Cs];for(;F.length<=x;)F.push(null);return(F[x]=F[x]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function $(i,o){i.forEach(a=>Array.isArray(a)?$(a,o):o(a))}function Z(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ce(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function je(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}function an(i,o,a){let c=bs(i,o);return c>=0?i[1|c]=a:(c=~c,function Dt(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function _n(i,o){const a=bs(i,o);if(a>=0)return i[1|a]}function bs(i,o){return function Ts(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),y=i[p<<a];if(o===y)return p<<a;y>o?d=p:c=p+1}return~(d<<a)}(i,o,1)}const Ol=zn($i("Optional"),8),fh=zn($i("SkipSelf"),4);function gc(i){return 128==(128&i.flags)}var pp=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(pp||{});const $l=new Map;let As=0;const zl="__ngContext__";function Sr(i,o){sr(o)?(i[zl]=o[gs],function Mi(i){$l.set(i[gs],i)}(o)):i[zl]=o}let Mo;function Wl(i,o){return Mo(i,o)}function Kl(i){const o=i[mn];return Cr(o)?o[mn]:o}function Sm(i){return i_(i[yr])}function r_(i){return i_(i[Lr])}function i_(i){for(;null!==i&&!Cr(i);)i=i[Lr];return i}function v(i,o,a,c,d){if(null!=c){let p,y=!1;Cr(c)?p=c:sr(c)&&(y=!0,c=c[gn]);const w=dn(c);0===i&&null!==a?null==d?_p(o,a,w):Ro(o,a,w,d||null,!0):1===i&&null!==a?Ro(o,a,w,d||null,!0):2===i?function xm(i,o,a){const c=Ih(i,o);c&&function hu(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,w,y):3===i&&o.destroyNode(w),null!=p&&function qb(i,o,a,c,d){const p=a[rr];p!==dn(a)&&v(o,i,c,p,d);for(let w=vr;w<a.length;w++){const D=a[w];Ep(D[Qe],D,i,o,c,p)}}(o,i,p,a,d)}}function T(i,o,a){return i.createElement(o,a)}function rt(i,o){const a=i[ir],c=a.indexOf(o);Xd(o),a.splice(c,1)}function wn(i,o){if(i.length<=vr)return;const a=vr+o,c=i[a];if(c){const d=c[al];null!==d&&d!==i&&rt(d,c),o>0&&(i[a-1][Lr]=c[Lr]);const p=ce(i,vr+o);!function N(i,o){Ep(i,o,o[Et],2,null,null),o[gn]=null,o[mr]=null}(c[Qe],c);const y=p[nr];null!==y&&y.detachView(p[Qe]),c[mn]=null,c[Lr]=null,c[vt]&=-129}return c}function xi(i,o){if(!(256&o[vt])){const a=o[Et];o[Fu]?.destroy(),o[oo]?.destroy(),a.destroyNode&&Ep(i,o,a,3,null,null),function Ne(i){let o=i[yr];if(!o)return xo(i[Qe],i);for(;o;){let a=null;if(sr(o))a=o[yr];else{const c=o[vr];c&&(a=c)}if(!a){for(;o&&!o[Lr]&&o!==i;)sr(o)&&xo(o[Qe],o),o=o[mn];null===o&&(o=i),sr(o)&&xo(o[Qe],o),a=o&&o[Lr]}o=a}}(o)}}function xo(i,o){if(!(256&o[vt])){o[vt]&=-129,o[vt]|=256,function vp(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof mt)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=d[p[y]],D=p[y+1];bi(4,w,D);try{D.call(w)}finally{bi(5,w,D)}}else{bi(4,d,p);try{p.call(d)}finally{bi(5,d,p)}}}}}(i,o),function Am(i,o){const a=i.cleanup,c=o[Ba];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?c[y]():c[-y].unsubscribe(),p+=2}else a[p].call(c[a[p+1]]);null!==c&&(o[Ba]=null);const d=o[js];if(null!==d){o[js]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(i,o),1===o[Qe].type&&o[Et].destroy();const a=o[al];if(null!==a&&Cr(o[mn])){a!==o[mn]&&rt(a,o);const c=o[nr];null!==c&&c.detachView(i)}!function Cm(i){$l.delete(i[gs])}(o)}}function No(i,o,a){return function lu(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[gn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=i.data[c.directiveStart+d];if(p===Me.None||p===Me.Emulated)return null}return Br(c,a)}}(i,o.parent,a)}function Ro(i,o,a,c,d){i.insertBefore(o,a,c,d)}function _p(i,o,a){i.appendChild(o,a)}function du(i,o,a,c,d){null!==c?Ro(i,o,a,c,d):_p(i,o,a)}function Ih(i,o){return i.parentNode(o)}function Mm(i,o,a){return AI(i,o,a)}let MI,Cp,c_,Nm,AI=function SI(i,o,a){return 40&i.type?Br(i,a):null};function Ip(i,o,a,c){const d=No(i,c,o),p=o[Et],w=Mm(c.parent||o[mr],c,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)du(p,d,a[D],w,!1);else du(p,d,a,w,!1);void 0!==MI&&MI(p,c,o,a,d)}function _c(i,o){if(null!==o){const a=o.type;if(3&a)return Br(o,i);if(4&a)return o_(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return _c(i,c);{const d=i[o.index];return Cr(d)?o_(-1,d):dn(d)}}if(32&a)return Wl(o,i)()||dn(i[o.index]);{const c=Yl(i,o);return null!==c?Array.isArray(c)?c[0]:_c(Kl(i[yn]),c):_c(i,o.next)}}return null}function Yl(i,o){return null!==o?i[yn][mr].projection[o.projection]:null}function o_(i,o){const a=vr+i+1;if(a<o.length){const c=o[a],d=c[Qe].firstChild;if(null!==d)return _c(c,d)}return o[rr]}function a_(i,o,a,c,d,p,y){for(;null!=a;){const w=c[a.index],D=a.type;if(y&&0===o&&(w&&Sr(dn(w),c),a.flags|=2),32!=(32&a.flags))if(8&D)a_(i,o,a.child,c,d,p,!1),v(o,i,d,w,p);else if(32&D){const S=Wl(a,c);let x;for(;x=S();)v(o,i,d,x,p);v(o,i,d,w,p)}else 16&D?RI(i,o,c,a,d,p):v(o,i,d,w,p);a=y?a.projectionNext:a.next}}function Ep(i,o,a,c,d,p){a_(a,c,i.firstChild,o,d,p,!1)}function RI(i,o,a,c,d,p){const y=a[yn],D=y[mr].projection[c.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)v(o,i,d,D[S],p);else{let S=D;const x=y[mn];gc(c)&&(S.flags|=128),a_(i,o,S,x,d,p,!0)}}function OI(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function Dp(i,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&qo(i,o,c),null!==d&&OI(i,o,d),null!==p&&function PI(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function Ql(i){return function wc(){if(void 0===Cp&&(Cp=null,Qt.trustedTypes))try{Cp=Qt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Cp}()?.createHTML(i)||i}function l_(i){c_=i}function Jl(){if(void 0!==c_)return c_;if(typeof document<"u")return document;throw new te(210,!1)}function d_(){if(void 0===Nm&&(Nm=null,Qt.trustedTypes))try{Nm=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Nm}function kI(i){return d_()?.createHTML(i)||i}function bp(i){return d_()?.createScriptURL(i)||i}class LI{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}function fu(i){return i instanceof LI?i.changingThisBreaksApplicationSecurity:i}function Rm(i,o){const a=function VI(i){return i instanceof LI&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${at})`)}return a===o}class nT{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Ql(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class BI{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=Ql(o),a}}const Eh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Tp(i){return(i=String(i)).match(Eh)?i:"unsafe:"+i}function pu(i){const o={};for(const a of i.split(","))o[a]=!0;return o}function Dh(...i){const o={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Sp=pu("area,br,col,hr,img,wbr"),f_=pu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),p_=pu("rp,rt"),g_=Dh(Sp,Dh(f_,pu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dh(p_,pu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dh(p_,f_)),Ch=pu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bh=Dh(Ch,pu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jI=pu("script,style,template");class rT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!g_.hasOwnProperty(a))return this.sanitizedSomething=!0,!jI.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let d=0;d<c.length;d++){const p=c.item(d),y=p.name,w=y.toLowerCase();if(!bh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=p.value;Ch[w]&&(D=Tp(D)),this.buf.push(" ",y,'="',$I(D),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();g_.hasOwnProperty(a)&&!Sp.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push($I(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const iT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sT=/([^\#-~ |!])/g;function $I(i){return i.replace(/&/g,"&amp;").replace(iT,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(sT,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ni;function Pm(i){return"content"in i&&function Om(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Th=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Th||{});function HI(i){const o=km();return o?kI(o.sanitize(Th.HTML,i)||""):Rm(i,"HTML")?kI(fu(i)):function oT(i,o){let a=null;try{Ni=Ni||function UI(i){const o=new BI(i);return function h_(){try{return!!(new window.DOMParser).parseFromString(Ql(""),"text/html")}catch{return!1}}()?new nT(o):o}(i);let c=o?String(o):"";a=Ni.getInertBodyElement(c);let d=5,p=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=p,p=a.innerHTML,a=Ni.getInertBodyElement(c)}while(c!==p);return Ql((new rT).sanitizeChildren(Pm(a)||a))}finally{if(a){const c=Pm(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(Jl(),X(i))}function zI(i){const o=km();return o?o.sanitize(Th.URL,i)||"":Rm(i,"URL")?fu(i):Tp(X(i))}function aT(i){const o=km();if(o)return bp(o.sanitize(Th.RESOURCE_URL,i)||"");if(Rm(i,"ResourceURL"))return bp(fu(i));throw new te(904,!1)}function y_(i,o,a){return function KM(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?aT:zI}(o,a)(i)}function km(){const i=fe();return i&&i[Yo].sanitizer}class hn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Nt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fm=new hn("ENVIRONMENT_INITIALIZER"),v_=new hn("INJECTOR",-1),__=new hn("INJECTOR_DEF_TYPES");class Ap{get(o,a=Qr){if(a===Qr){const c=new Error(`NullInjectorError: No provider for ${Y(o)}!`);throw c.name="NullInjectorError",c}return a}}function cT(...i){return{\u0275providers:lT(0,i),\u0275fromNgModule:!0}}function lT(i,...o){const a=[],c=new Set;let d;const p=y=>{a.push(y)};return $(o,y=>{const w=y;Lm(w,p,[],c)&&(d||=[],d.push(w))}),void 0!==d&&w_(d,p),a}function w_(i,o){for(let a=0;a<i.length;a++){const{ngModule:c,providers:d}=i[a];WI(d,p=>{o(p,c)})}}function Lm(i,o,a,c){if(!(i=xe(i)))return!1;let d=null,p=Xs(i);const y=!p&&zt(i);if(p||y){if(y&&!y.standalone)return!1;d=i}else{const D=i.ngModule;if(p=Xs(D),!p)return!1;d=D}const w=c.has(d);if(y){if(w)return!1;if(c.add(d),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of D)Lm(S,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let S;c.add(d);try{$(p.imports,x=>{Lm(x,o,a,c)&&(S||=[],S.push(x))})}finally{}void 0!==S&&w_(S,o)}if(!w){const S=co(d)||(()=>new d);o({provide:d,useFactory:S,deps:qe},d),o({provide:__,useValue:d,multi:!0},d),o({provide:Fm,useValue:()=>wt(d),multi:!0},d)}const D=p.providers;if(null!=D&&!w){const S=i;WI(D,x=>{o(x,S)})}}}return d!==i&&void 0!==i.providers}function WI(i,o){for(let a of i)Oe(a)&&(a=a.\u0275providers),Array.isArray(a)?WI(a,o):o(a)}const QM=L({provide:String,useValue:L});function I_(i){return null!==i&&"object"==typeof i&&QM in i}function Xl(i){return"function"==typeof i}const Sh=new hn("Set Injector scope."),Vm={},fT={};let D_;function Um(){return void 0===D_&&(D_=new Ap),D_}class _a{}class Mp extends _a{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,b_(o,y=>this.processProvider(y)),this.records.set(v_,xp(void 0,this)),d.has("environment")&&this.records.set(_a,xp(void 0,this));const p=this.records.get(Sh);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(__.multi,qe,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=Ye(this),c=on(void 0);try{return o()}finally{Ye(a),on(c)}}get(o,a=Qr,c=lt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(zo))return o[zo](this);c=Dn(c);const p=Ye(this),y=on(void 0);try{if(!(c&lt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const S=function KI(i){return"function"==typeof i||"object"==typeof i&&i instanceof hn}(o)&&fr(o);D=S&&this.injectableDefInScope(S)?xp(C_(o),Vm):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&lt.Self?Um():this.parent).get(o,a=c&lt.Optional&&a===Qr?null:a)}catch(w){if("NullInjectorError"===w.name){if((w[_i]=w[_i]||[]).unshift(Y(o)),p)throw w;return function hs(i,o,a,c){const d=i[_i];throw o[z]&&d.unshift(o[z]),i.message=function Fa(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=Y(o);if(Array.isArray(o))d=o.map(Y).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):Y(w)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(U,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[_i]=null,i}(w,o,"R3InjectorError",this.source)}throw w}finally{on(y),Ye(p)}}resolveInjectorInitializers(){const o=Ye(this),a=on(void 0);try{const d=this.get(Fm.multi,qe,lt.Self);for(const p of d)p()}finally{Ye(o),on(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(Y(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(o){let a=Xl(o=xe(o))?o:xe(o&&o.provide);const c=function XM(i){return I_(i)?xp(void 0,i.useValue):xp(pT(i),Vm)}(o);if(Xl(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=xp(void 0,Vm,!0),d.factory=()=>Gt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Vm&&(a.value=fT,a.value=a.factory()),"object"==typeof a.value&&a.value&&function tx(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=xe(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function C_(i){const o=fr(i),a=null!==o?o.factory:co(i);if(null!==a)return a;if(i instanceof hn)throw new te(204,!1);if(i instanceof Function)return function JM(i){const o=i.length;if(o>0)throw je(o,"?"),new te(204,!1);const a=function di(i){return i&&(i[hi]||i[Ls])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new te(204,!1)}function pT(i,o,a){let c;if(Xl(i)){const d=xe(i);return co(d)||C_(d)}if(I_(i))c=()=>xe(i.useValue);else if(function E_(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Gt(i.deps||[]));else if(function dT(i){return!(!i||!i.useExisting)}(i))c=()=>wt(xe(i.useExisting));else{const d=xe(i&&(i.useClass||i.provide));if(!function ex(i){return!!i.deps}(i))return co(d)||C_(d);c=()=>new d(...Gt(i.deps))}return c}function xp(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function b_(i,o){for(const a of i)Array.isArray(a)?b_(a,o):a&&Oe(a)?b_(a.\u0275providers,o):o(a)}const YI=new hn("AppId",{providedIn:"root",factory:()=>gT}),gT="ng",QI=new hn("Platform Initializer"),T_=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mT=new hn("CSP nonce",{providedIn:"root",factory:()=>Jl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let mu=(i,o,a)=>null;function zm(i,o,a=!1){return mu(i,o,a)}class nE{}class rE{}class oE{resolveComponentFactory(o){throw function iE(i){const o=Error(`No component factory found for ${Y(i)}.`);return o.ngComponent=i,o}(o)}}let xh=(()=>{class o{}return o.NULL=new oE,o})();function aE(){return td(qn(),fe())}function td(i,o){return new Nh(Br(i,o))}let Nh=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=aE,o})();function k_(i){return i instanceof Nh?i.nativeElement:i}class Pp{}let uE=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function cE(){const i=fe(),a=Rn(qn().index,i);return(sr(a)?a:i)[Et]}(),o})(),lE=(()=>{var i;class o{}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:()=>null}),o})();class Pi{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const yu=new Pi("16.2.3"),Km={};function ET(i,o=null,a=null,c){const d=DT(i,o,a,c);return d.resolveInjectorInitializers(),d}function DT(i,o=null,a=null,c,d=new Set){const p=[a||qe,cT(i)];return c=c||("object"==typeof i?void 0:Y(i)),new Mp(p,o||Um(),c||null,d)}let Ia=(()=>{var i;class o{static create(c,d){if(Array.isArray(c))return ET({name:""},d,c,"");{const p=c.name??"";return ET({name:p},c.parent,c.providers,p)}}}return(i=o).THROW_IF_NOT_FOUND=Qr,i.NULL=new Ap,i.\u0275prov=Nt({token:i,providedIn:"any",factory:()=>wt(v_)}),i.__NG_ELEMENT_ID__=-1,o})();function pE(i){return o=>{setTimeout(i,void 0,o)}}const vu=class fE extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),y=c;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),p=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(p=pE(p),d&&(d=pE(d)),y&&(y=pE(y)));const w=super.subscribe({next:d,error:p,complete:y});return o instanceof Q.w0&&o.add(w),w}};function CT(...i){}class Zn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vu(!1),this.onMicrotaskEmpty=new vu(!1),this.onStable=new vu(!1),this.onError=new vu(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function kp(){const i="function"==typeof Qt.requestAnimationFrame;let o=Qt[i?"requestAnimationFrame":"setTimeout"],a=Qt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function B_(i){const o=()=>{!function bT(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Qt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,j_(i),i.isCheckStableRunning=!0,Lp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),j_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,y,w)=>{try{return Vp(i),a.invokeTask(d,p,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),$_(i)}},onInvoke:(a,c,d,p,y,w,D)=>{try{return Vp(i),a.invoke(d,p,y,w,D)}finally{i.shouldCoalesceRunChangeDetection&&o(),$_(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,j_(i),Lp(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zn.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(Zn.isInAngularZone())throw new te(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,Fp,CT,CT);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Fp={};function Lp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function j_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Vp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function $_(i){i._nesting--,Lp(i)}class gE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vu,this.onMicrotaskEmpty=new vu,this.onStable=new vu,this.onError=new vu}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const Up=new hn("",{providedIn:"root",factory:Rh});function Rh(){const i=xt(Zn);let o=!0;const a=new k.y(d=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(o),d.complete()})}),c=new k.y(d=>{let p;i.runOutsideAngular(()=>{p=i.onStable.subscribe(()=>{Zn.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{Zn.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,J.T)(a,c.pipe((0,pe.B)()))}function TT(i){return i.ownerDocument.defaultView}function ns(i){return i instanceof Function?i():i}let Ph=(()=>{var i;class o{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new te(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const c of this.callbacks)c.invoke()}finally{this.runningCallbacks=!1;for(const c of this.deferredCallbacks)this.callbacks.add(c);this.deferredCallbacks.clear()}}register(c){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(c)}unregister(c){this.callbacks.delete(c),this.deferredCallbacks.delete(c)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:()=>new i}),o})();function Hp(i){for(;i;){i[vt]|=64;const o=Kl(i);if(Jo(i)&&!o)return i;i=o}return null}function z_(i){return i.ngOriginalError}class Oh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&z_(o);for(;a&&z_(a);)a=z_(a);return a||null}}const q_=new hn("",{providedIn:"root",factory:()=>!1});class vE extends Kf{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Hp(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,a,c){const d=Nn(this);this.trackingVersion++;try{o(a,c)}finally{Nn(d)}}destroy(){this.trackingVersion++}}let Ec=null;function ey(){return Ec??=new vE,Ec}function K_(i,o){return i[o]??ey()}function Y_(i,o){const a=ey();a.hasReadASignal&&(i[o]=Ec,a.lView=i,Ec=new vE)}const Pt={};function NT(i){_E(Kt(),fe(),ti()+i,!1)}function _E(i,o,a,c){if(!c)if(3==(3&o[vt])){const p=i.preOrderCheckHooks;null!==p&&wo(o,p,a)}else{const p=i.preOrderHooks;null!==p&&Zs(o,p,0,a)}zs(a)}function nd(i,o=lt.Default){const a=fe();return null===a?wt(i,o):Ai(qn(),a,xe(i),o)}function RT(){throw new Error("invalid")}function Q_(i,o,a,c,d,p,y,w,D,S,x){const F=o.blueprint.slice();return F[gn]=d,F[vt]=140|c,(null!==S||i&&2048&i[vt])&&(F[vt]|=2048),vl(F),F[mn]=F[ps]=i,F[ln]=a,F[Yo]=y||i&&i[Yo],F[Et]=w||i&&i[Et],F[fs]=D||i&&i[fs]||null,F[mr]=p,F[gs]=function yc(){return As++}(),F[Ci]=x,F[ms]=S,F[yn]=2==o.type?i[yn]:F,F}function zp(i,o,a,c,d){let p=i.data[o];if(null===p)p=function J_(i,o,a,c,d){const p=qa(),y=or(),D=i.data[o]=function X_(i,o,a,c,d,p){let y=o?o.injectorIndex:-1,w=0;return aa()&&(w|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D,D.prev=p)),D}(i,o,a,c,d),function Dl(){return It.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const y=function Cn(){const i=It.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Bi(p,!0),p}function kh(i,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function wE(i,o,a,c,d){const p=K_(o,Fu),y=ti(),w=2&c;try{if(zs(-1),w&&o.length>kt&&_E(i,o,kt,!1),bi(w?2:0,d),w)p.runInContext(a,c,d);else{const S=Nn(null);try{a(c,d)}finally{Nn(S)}}}finally{w&&null===o[Fu]&&Y_(o,Fu),zs(y),bi(w?3:1,d)}}function ty(i,o,a){if(Vu(o)){const c=Nn(null);try{const p=o.directiveEnd;for(let y=o.directiveStart;y<p;y++){const w=i.data[y];w.contentQueries&&w.contentQueries(1,a[y],y)}}finally{Nn(c)}}}function ny(i,o,a){go()&&(function ME(i,o,a,c){const d=a.directiveStart,p=a.directiveEnd;uo(a)&&function BT(i,o,a){const c=Br(o,i),d=IE(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const w=ay(i,Q_(i,d,null,y,c,o,null,i[Yo].rendererFactory.createRenderer(c,a),null,null,null));i[o.index]=w}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||Ja(a,o),Sr(c,o);const y=a.initialInputs;for(let w=d;w<p;w++){const D=i.data[w],S=Es(o,i,w,a);Sr(S,o),null!==y&&rd(0,w-d,S,D,0,y),Xr(D)&&(Rn(a.index,o)[ln]=Es(o,i,w,a))}}(i,o,a,Br(a,o)),64==(64&a.flags)&&xE(i,o,a))}function qp(i,o,a=Br){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],w=-1===y?a(o,i):i[y];i[d++]=w}}}function IE(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=ry(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function ry(i,o,a,c,d,p,y,w,D,S,x){const F=kt+c,G=F+d,K=function PT(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:Pt);return a}(F,G),me="function"==typeof S?S():S;return K[Qe]={type:i,blueprint:K,template:a,queries:null,viewQuery:w,declTNode:o,data:K.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:me,incompleteFirstPass:!1,ssrId:x}}let DE=i=>null;function TE(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===c?e0(a,o,d,p):c.hasOwnProperty(d)&&e0(a,o,c[d],p)}return a}function e0(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function Ms(i,o,a,c,d,p,y,w){const D=Br(o,a);let x,S=o.inputs;!w&&null!=S&&(x=S[c])?(uy(i,a,x,c,d),uo(o)&&function t0(i,o){const a=Rn(o,i);16&a[vt]||(a[vt]|=64)}(a,o.index)):3&o.type&&(c=function iy(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,o.value||"",c):d,p.setProperty(D,c,d))}function sy(i,o,a,c){if(go()){const d=null===c?null:{"":-1},p=function VT(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(rl(o,y.selectors,!1))if(c||(c=[]),Xr(y))if(null!==y.findHostDirectiveDefs){const w=[];d=d||new Map,y.findHostDirectiveDefs(y,w,d),c.unshift(...w,y),s0(i,o,w.length)}else c.unshift(y),s0(i,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,w;null===p?y=w=null:[y,w]=p,null!==y&&AE(i,o,a,y,d,w),d&&function NE(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new te(-301,!1);c.push(o[d],p)}}}(a,c,d)}a.mergedAttrs=no(a.mergedAttrs,a.attrs)}function AE(i,o,a,c,d,p){for(let S=0;S<c.length;S++)Si(Ja(a,o),i,c[S].type);!function fx(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let S=0;S<c.length;S++){const x=c[S];x.providersResolver&&x.providersResolver(x)}let y=!1,w=!1,D=kh(i,o,c.length,null);for(let S=0;S<c.length;S++){const x=c[S];a.mergedAttrs=no(a.mergedAttrs,x.hostAttrs),o0(i,a,o,D,x),UT(D,x,d),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const F=x.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!w&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),w=!0),D++}!function kT(i,o,a){const d=o.directiveEnd,p=i.data,y=o.attrs,w=[];let D=null,S=null;for(let x=o.directiveStart;x<d;x++){const F=p[x],G=a?a.get(F):null,me=G?G.outputs:null;D=TE(F.inputs,x,D,G?G.inputs:null),S=TE(F.outputs,x,S,me);const ke=null===D||null===y||Us(o)?null:PE(D,x,y);w.push(ke)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=D,o.outputs=S}(i,a,p)}function xE(i,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,y=function rh(){return It.lFrame.currentDirectiveIndex}();try{zs(p);for(let w=c;w<d;w++){const D=i.data[w],S=o[w];ip(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&r0(D,S)}}finally{zs(-1),ip(y)}}function r0(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function s0(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function UT(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;Xr(o)&&(a[""]=i)}}function o0(i,o,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=co(d.type)),y=new mt(p,Xr(d),nd);i.blueprint[c]=y,a[c]=y,function n0(i,o,a,c,d){const p=d.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~o.index;(function LT(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(a,c,p)}}(i,o,c,kh(i,a,d.hostVars,Pt),d)}function Po(i,o,a,c,d,p){const y=Br(i,o);!function oy(i,o,a,c,d,p,y){if(null==p)i.removeAttribute(o,d,a);else{const w=null==y?X(p):y(p,c||"",d);i.setAttribute(o,d,w,a)}}(o[Et],y,p,i.value,a,c,d)}function rd(i,o,a,c,d,p){const y=p[o];if(null!==y)for(let w=0;w<y.length;)RE(c,a,y[w++],y[w++],y[w++])}function RE(i,o,a,c,d){const p=Nn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(o,d)),null!==i.setInput?i.setInput(o,d,a,c):o[c]=d}finally{Nn(p)}}function PE(i,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const y=i[p];for(let w=0;w<y.length;w+=2)if(y[w]===o){c.push(p,y[w+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function OE(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null,null]}function a0(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const y=i.data[p];Tl(a[c]),y.contentQueries(2,o[p],p)}}}function ay(i,o){return i[yr]?i[Gf][Lr]=o:i[yr]=o,i[Gf]=o,o}function u0(i,o,a){Tl(0);const c=Nn(null);try{o(i,a)}finally{Nn(c)}}function c0(i){return i[Ba]||(i[Ba]=[])}function FE(i){return i.cleanup||(i.cleanup=[])}function LE(i,o){const a=i[fs],c=a?a.get(Oh,null):null;c&&c.handleError(o)}function uy(i,o,a,c,d){for(let p=0;p<a.length;){const y=a[p++],w=a[p++];RE(i.data[y],o[y],c,w,d)}}function VE(i,o){const a=Rn(o,i),c=a[Qe];!function jT(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(c,a);const d=a[gn];null!==d&&null===a[Ci]&&(a[Ci]=zm(d,a[fs])),cy(c,a,a[ln])}function cy(i,o,a){sh(o);try{const c=i.viewQuery;null!==c&&u0(1,c,a);const d=i.template;null!==d&&wE(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&a0(i,o),i.staticViewQueries&&u0(2,i.viewQuery,a);const p=i.components;null!==p&&function px(i,o){for(let a=0;a<o.length;a++)VE(i,o[a])}(o,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[vt]&=-5,Xu()}}let $T=(()=>{var i;class o{constructor(){this.all=new Set,this.queue=new Map}create(c,d,p){const y=typeof Zone>"u"?null:Zone.current,w=new Wd(c,x=>{this.all.has(x)&&this.queue.set(x,y)},p);let D;this.all.add(w),w.notify();const S=()=>{w.cleanup(),D?.(),this.all.delete(w),this.queue.delete(w)};return D=d?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:()=>new i}),o})();function ly(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?d=Le(d,w):2==p&&(c=Le(c,w+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Fh(i,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];null!==p&&c.push(dn(p)),Cr(p)&&HT(p,c);const y=a.type;if(8&y)Fh(i,o,a.child,c);else if(32&y){const w=Wl(a,o);let D;for(;D=w();)c.push(D)}else if(16&y){const w=Yl(o,a);if(Array.isArray(w))c.push(...w);else{const D=Kl(o[yn]);Fh(D[Qe],D,w,c,!0)}}a=d?a.projectionNext:a.next}return c}function HT(i,o){for(let a=vr;a<i.length;a++){const c=i[a],d=c[Qe].firstChild;null!==d&&Fh(c[Qe],c,d,o)}i[rr]!==i[gn]&&o.push(i[rr])}function d0(i,o,a,c=!0){const d=o[Yo],p=d.rendererFactory,y=d.afterRenderEventManager;p.begin?.(),y?.begin();try{qT(i,o,i.template,a)}catch(D){throw c&&LE(o,D),D}finally{p.end?.(),d.effectManager?.flush(),y?.end()}}function qT(i,o,a,c){const d=o[vt];if(256!=(256&d)){o[Yo].effectManager?.flush(),sh(o);try{vl(o),function vo(i){return It.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&wE(i,o,a,2,c);const y=3==(3&d);if(y){const S=i.preOrderCheckHooks;null!==S&&wo(o,S,null)}else{const S=i.preOrderHooks;null!==S&&Zs(o,S,0,null),Wa(o,0)}if(function mx(i){for(let o=Sm(i);null!==o;o=r_(o)){if(!o[Lu])continue;const a=o[ir];for(let c=0;c<a.length;c++){tp(a[c])}}}(o),ZT(o,2),null!==i.contentQueries&&a0(i,o),y){const S=i.contentCheckHooks;null!==S&&wo(o,S)}else{const S=i.contentHooks;null!==S&&Zs(o,S,1),Wa(o,1)}!function dx(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const c=K_(o,oo);try{for(let d=0;d<a.length;d++){const p=a[d];if(p<0)zs(~p);else{const y=p,w=a[++d],D=a[++d];bl(w,y),c.runInContext(D,2,o[y])}}}finally{null===o[oo]&&Y_(o,oo),zs(-1)}}(i,o);const w=i.components;null!==w&&BE(o,w,0);const D=i.viewQuery;if(null!==D&&u0(2,D,c),y){const S=i.viewCheckHooks;null!==S&&wo(o,S)}else{const S=i.viewHooks;null!==S&&Zs(o,S,2),Wa(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[vt]&=-73,Xd(o)}finally{Xu()}}}function ZT(i,o){for(let a=Sm(i);null!==a;a=r_(a))for(let c=vr;c<a.length;c++)UE(a[c],o)}function yx(i,o,a){UE(Rn(o,i),a)}function UE(i,o){if(!function Jd(i){return 128==(128&i[vt])}(i))return;const a=i[Qe];if(80&i[vt]&&0===o||1024&i[vt]||2===o)qT(a,i,a.template,i[ln]);else if(i[io]>0){ZT(i,1);const d=i[Qe].components;null!==d&&BE(i,d,1)}}function BE(i,o,a){for(let c=0;c<o.length;c++)yx(i,o[c],a)}class Zp{get rootNodes(){const o=this._lView,a=o[Qe];return Fh(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(o){this._lView[ln]=o}get destroyed(){return 256==(256&this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[mn];if(Cr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(wn(o,c),ce(a,c))}this._attachedToViewContainer=!1}xi(this._lView[Qe],this._lView)}onDestroy(o){!function oa(i,o){if(256==(256&i[vt]))throw new te(911,!1);null===i[js]&&(i[js]=[]),i[js].push(o)}(this._lView,o)}markForCheck(){Hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[vt]&=-129}reattach(){this._lView[vt]|=128}detectChanges(){d0(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function W(i,o){Ep(i,o,o[Et],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=o}}class WT extends Zp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;d0(o[Qe],o,o[ln],!1)}checkNoChanges(){}get context(){return null}}class jE extends xh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=zt(o);return new ge(a,this.ngModule)}}function $E(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class YT{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=Dn(c);const d=this.injector.get(o,Km,c);return d!==Km||a===Km?d:this.parentInjector.get(o,a,c)}}class ge extends rE{get inputs(){const o=this.componentDef,a=o.inputTransforms,c=$E(o.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return $E(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Ud(i){return i.map(Vd).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof _a?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new YT(o,p):o,w=y.get(Pp,null);if(null===w)throw new te(407,!1);const F={rendererFactory:w,sanitizer:y.get(lE,null),effectManager:y.get($T,null),afterRenderEventManager:y.get(Ph,null)},G=w.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",me=c?function hx(i,o,a,c){const p=c.get(q_,!1)||a===Me.ShadowDom,y=i.selectRootElement(o,p);return function EE(i){DE(i)}(y),y}(G,c,this.componentDef.encapsulation,y):T(G,K,function KT(i){const o=i.toLowerCase();return"svg"===o?ep:"math"===o?"math":null}(K)),ut=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Te=null;null!==me&&(Te=zm(me,y,!0));const St=ry(0,null,null,1,0,null,null,null,null,null,null),$t=Q_(null,St,null,ut,null,null,F,G,y,null,Te);let cn,Vi;sh($t);try{const Ho=this.componentDef;let Pd,iI=null;Ho.findHostDirectiveDefs?(Pd=[],iI=new Map,Ho.findHostDirectiveDefs(Ho,Pd,iI),Pd.push(Ho)):Pd=[Ho];const gb=function HE(i,o){const a=i[Qe],c=kt;return i[c]=o,zp(a,c,2,"#host",null)}($t,me),Nv=function Wp(i,o,a,c,d,p,y){const w=d[Qe];!function QT(i,o,a,c){for(const d of i)o.mergedAttrs=no(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(ly(o,o.mergedAttrs,!0),null!==a&&Dp(c,a,o))}(c,i,o,y);let D=null;null!==o&&(D=zm(o,d[fs]));const S=p.rendererFactory.createRenderer(o,a);let x=16;a.signals?x=4096:a.onPush&&(x=64);const F=Q_(d,IE(a),null,x,d[i.index],i,p,S,null,null,D);return w.firstCreatePass&&s0(w,i,c.length-1),ay(d,F),d[i.index]=F}(gb,me,Ho,Pd,$t,F,G);Vi=Qd(St,kt),me&&function JT(i,o,a,c){if(c)qo(i,a,["ng-version",yu.full]);else{const{attrs:d,classes:p}=function Ei(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&o.push(p,i[++c]):8===d&&a.push(p);else{if(!Jr(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&qo(i,a,d),p&&p.length>0&&OI(i,a,p.join(" "))}}(G,Ho,me,c),void 0!==a&&function h0(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(Vi,this.ngContentSelectors,a),cn=function vx(i,o,a,c,d,p){const y=qn(),w=d[Qe],D=Br(y,d);AE(w,d,y,a,null,c);for(let x=0;x<a.length;x++)Sr(Es(d,w,y.directiveStart+x,y),d);xE(w,d,y),D&&Sr(D,d);const S=Es(d,w,y.directiveStart+y.componentOffset,y);if(i[ln]=d[ln]=S,null!==p)for(const x of p)x(S,o);return ty(w,y,i),S}(Nv,Ho,Pd,iI,$t,[_x]),cy(St,$t,null)}finally{Xu()}return new Ar(this.componentType,cn,td(Vi,$t),$t,Vi)}}class Ar extends nE{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new WT(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const p=this._rootLView;uy(p[Qe],p,d,o,a),this.previousInputValues.set(o,a),Hp(Rn(this._tNode.index,p))}}get injector(){return new Sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function _x(){const i=qn();br(fe()[Qe],i)}function f0(i){let o=function XT(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(Xr(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new te(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=p0(i.inputs),y.inputTransforms=p0(i.inputTransforms),y.declaredInputs=p0(i.declaredInputs),y.outputs=p0(i.outputs);const w=d.hostBindings;w&&Ex(i,w);const D=d.viewQuery,S=d.contentQueries;if(D&&wx(i,D),S&&Ix(i,S),j(i.inputs,d.inputs),j(i.declaredInputs,d.declaredInputs),j(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),j(y.inputTransforms,d.inputTransforms)),Xr(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(i),w===f0&&(a=!1)}}o=Object.getPrototypeOf(o)}!function eS(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=no(d.hostAttrs,a=no(a,d.hostAttrs))}}(c)}function p0(i){return i===tt?{}:i===qe?[]:i}function wx(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function Ix(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,p)=>{o(c,d,p),a(c,d,p)}:o}function Ex(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function Qs(i){const o=i.inputConfig,a={};for(const c in o)if(o.hasOwnProperty(c)){const d=o[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function Lh(i){return!!id(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function id(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Oi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Mr(i,o,a,c){const d=fe();return Oi(d,vs(),o)&&(Kt(),Po(bn(),d,i,o,a,c)),Mr}function Vh(i,o,a,c){return Oi(i,vs(),a)?o+X(a)+c:Pt}function oi(i,o,a,c,d,p,y,w){const D=fe(),S=Kt(),x=i+kt,F=S.firstCreatePass?function si(i,o,a,c,d,p,y,w,D){const S=o.consts,x=zp(o,i,4,y||null,Gs(S,w));sy(o,a,x,Gs(S,D)),br(o,x);const F=x.tView=ry(2,x,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S,null);return null!==o.queries&&(o.queries.template(o,x),F.queries=o.queries.embeddedTView(x)),x}(x,S,D,o,a,c,d,p,y):S.data[x];Bi(F,!1);const G=eg(S,D,F,i);qs()&&Ip(S,D,G,F),Sr(G,D),ay(D,D[x]=OE(G,D,G,F)),pi(F)&&ny(S,D,F),null!=y&&qp(D,F,w)}let eg=function Iy(i,o,a,c){return rn(!0),o[Et].createComment("")};function x0(i){return function Ti(i,o){return i[o]}(function Il(){return It.lFrame.contextLView}(),kt+i)}function N0(i,o,a){const c=fe();return Oi(c,vs(),o)&&Ms(Kt(),bn(),c,i,o,c[Et],a,!1),N0}function R0(i,o,a,c,d){const y=d?"class":"style";uy(i,a,o.inputs[y],y,c)}function Sc(i,o,a,c){const d=fe(),p=Kt(),y=kt+i,w=d[Et],D=p.firstCreatePass?function lS(i,o,a,c,d,p){const y=o.consts,D=zp(o,i,2,c,Gs(y,d));return sy(o,a,D,Gs(y,p)),null!==D.attrs&&ly(D,D.attrs,!1),null!==D.mergedAttrs&&ly(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(y,p,d,o,a,c):p.data[y],S=P0(p,d,D,w,o,i);d[y]=S;const x=pi(D);return Bi(D,!0),Dp(w,S,D),32!=(32&D.flags)&&qs()&&Ip(p,d,S,D),0===function th(){return It.lFrame.elementDepthCount}()&&Sr(S,d),function za(){It.lFrame.elementDepthCount++}(),x&&(ny(p,d,D),ty(p,D,d)),null!==c&&qp(d,D),Sc}function Ac(){let i=qn();or()?yo():(i=i.parent,Bi(i,!1));const o=i;(function mo(i){return It.skipHydrationRootTNode===i})(o)&&function Wv(){It.skipHydrationRootTNode=null}(),function rp(){It.lFrame.elementDepthCount--}();const a=Kt();return a.firstCreatePass&&(br(a,i),Vu(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function rc(i){return 0!=(8&i.flags)}(o)&&R0(a,o,fe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Tn(i){return 0!=(16&i.flags)}(o)&&R0(a,o,fe(),o.stylesWithoutHost,!1),Ac}function tg(i,o,a,c){return Sc(i,o,a,c),Ac(),tg}let P0=(i,o,a,c,d,p)=>(rn(!0),T(c,d,function ni(){return It.lFrame.currentNamespace}()));function k0(){return fe()}function $h(i){return!!i&&"function"==typeof i.then}function tD(i){return!!i&&"function"==typeof i.subscribe}function F0(i,o,a,c){const d=fe(),p=Kt(),y=qn();return function nD(i,o,a,c,d,p,y){const w=pi(c),S=i.firstCreatePass&&FE(i),x=o[ln],F=c0(o);let G=!0;if(3&c.type||y){const ke=Br(c,o),Je=y?y(ke):ke,ut=F.length,Te=y?$t=>y(dn($t[c.index])):c.index;let St=null;if(!y&&w&&(St=function hS(i,o,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===c){const w=o[Ba],D=d[p+2];return w.length>D?w[D]:null}"string"==typeof y&&(p+=2)}return null}(i,o,d,c.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=p,St.__ngLastListenerFn__=p,G=!1;else{p=L0(c,o,x,p,!1);const $t=a.listen(Je,d,p);F.push(p,$t),S&&S.push(d,Te,ut,ut+1)}}else p=L0(c,o,x,p,!1);const K=c.outputs;let me;if(G&&null!==K&&(me=K[d])){const ke=me.length;if(ke)for(let Je=0;Je<ke;Je+=2){const cn=o[me[Je]][me[Je+1]].subscribe(p),Vi=F.length;F.push(p,cn),S&&S.push(d,c.index,Vi,-(Vi+1))}}}(p,d,d[Et],y,i,o,c),F0}function Mc(i,o,a,c){try{return bi(6,o,a),!1!==a(c)}catch(d){return LE(i,d),!1}finally{bi(7,o,a)}}function L0(i,o,a,c,d){return function p(y){if(y===Function)return c;Hp(i.componentOffset>-1?Rn(i.index,o):o);let D=Mc(o,a,c,y),S=p.__ngNextListenerFn__;for(;S;)D=Mc(o,a,S,y)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&y.preventDefault(),D}}function rg(i=1){return function op(i){return(It.lFrame.contextLView=function ec(i,o){for(;i>0;)o=o[ps],i--;return o}(i,It.lFrame.contextLView))[ln]}(i)}function rD(i,o){let a=null;const c=function Ld(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(i);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===c?rl(i,p,!0):$f(c,p))return d}else a=d}return a}function Hh(i){const o=fe()[yn][mr];if(!o.projection){const c=o.projection=je(i?i.length:1,null),d=c.slice();let p=o.child;for(;null!==p;){const y=i?rD(p,i):0;null!==y&&(d[y]?d[y].projectionNext=p:c[y]=p,d[y]=p),p=p.next}}}function V0(i,o=0,a){const c=fe(),d=Kt(),p=zp(d,kt+i,16,null,a||null);null===p.projection&&(p.projection=o),yo(),(!c[Ci]||aa())&&32!=(32&p.flags)&&function zb(i,o,a){RI(o[Et],0,o,a,No(i,a,o),Mm(a.parent||o[mr],a,o))}(d,c,p)}function mi(i,o,a){return ig(i,"",o,"",a),mi}function ig(i,o,a,c,d){const p=fe(),y=Vh(p,o,a,c);return y!==Pt&&Ms(Kt(),bn(),p,i,y,p[Et],d,!1),ig}function qh(i,o){return i<<17|o<<2}function Da(i){return i>>17&32767}function Sy(i){return 2|i}function dd(i){return(131068&i)>>2}function ag(i,o){return-131069&i|o<<2}function ug(i){return 1|i}function Zh(i,o,a,c,d){const p=i[a+1],y=null===o;let w=c?Da(p):dd(p),D=!1;for(;0!==w&&(!1===D||y);){const x=i[w+1];sD(i[w],o)&&(D=!0,i[w+1]=c?ug(x):Sy(x)),w=c?Da(x):dd(x)}D&&(i[a+1]=c?Sy(p):ug(p))}function sD(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&bs(i,o)>=0}function pd(i,o){return function ko(i,o,a,c){const d=fe(),p=Kt(),y=function ar(i){const o=It.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);p.firstUpdatePass&&function Yh(i,o,a,c){const d=i.data;if(null===d[a+1]){const p=d[ti()],y=function uD(i,o){return o>=i.expandoStartIndex}(i,a);(function W0(i,o){return 0!=(i.flags&(o?8:16))})(p,c)&&null===o&&!y&&(o=!1),o=function xc(i,o,a,c){const d=function _o(i){const o=It.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=dg(a=Nc(null,i,o,a,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==d)if(a=Nc(d,i,o,a,c),null===p){let D=function cD(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==dd(c))return i[Da(c)]}(i,o,c);void 0!==D&&Array.isArray(D)&&(D=Nc(null,i,o,D[1],c),D=dg(D,o.attrs,c),function lD(i,o,a,c){i[Da(a?o.classBindings:o.styleBindings)]=c}(i,o,c,D))}else p=function dD(i,o,a){let c;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)c=dg(c,i[p].hostAttrs,a);return dg(c,o.attrs,a)}(i,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,c),function iD(i,o,a,c,d,p){let y=p?o.classBindings:o.styleBindings,w=Da(y),D=dd(y);i[c]=a;let x,S=!1;if(Array.isArray(a)?(x=a[1],(null===x||bs(a,x)>0)&&(S=!0)):x=a,d)if(0!==D){const G=Da(i[w+1]);i[c+1]=qh(G,w),0!==G&&(i[G+1]=ag(i[G+1],c)),i[w+1]=function og(i,o){return 131071&i|o<<17}(i[w+1],c)}else i[c+1]=qh(w,0),0!==w&&(i[w+1]=ag(i[w+1],c)),w=c;else i[c+1]=qh(D,0),0===w?w=c:i[D+1]=ag(i[D+1],c),D=c;S&&(i[c+1]=Sy(i[c+1])),Zh(i,x,c,!0),Zh(i,x,c,!1),function gS(i,o,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&bs(p,o)>=0&&(a[c+1]=ug(a[c+1]))}(o,x,i,c,p),y=qh(w,D),p?o.classBindings=y:o.styleBindings=y}(d,p,o,a,y,c)}}(p,i,y,c),o!==Pt&&Oi(d,y,o)&&function Z0(i,o,a,c,d,p,y,w){if(!(3&o.type))return;const D=i.data,S=D[w+1],x=function Ay(i){return 1==(1&i)}(S)?xy(D,o,a,d,dd(S),y):void 0;Qh(x)||(Qh(p)||function Ty(i){return 2==(2&i)}(S)&&(p=xy(D,null,a,d,w,y)),function Zb(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:pp.DashCase;null==d?i.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=pp.Important),i.setStyle(a,c,d,p))}}(c,y,Ku(ti(),a),d,p))}(p,p.data[ti()],d,d[Et],i,d[y+1]=function fD(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=Y(fu(i)))),i}(o,a),c,y)}(i,o,null,!0),pd}function Nc(i,o,a,c,d){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=o[w],c=dg(c,p.hostAttrs,d),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),c}function dg(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),an(i,y,!!a||o[++p]))}return void 0===i?null:i}function xy(i,o,a,c,d,p){const y=null===o;let w;for(;d>0;){const D=i[d],S=Array.isArray(D),x=S?D[1]:D,F=null===x;let G=a[d+1];G===Pt&&(G=F?qe:void 0);let K=F?_n(G,c):x===c?G:void 0;if(S&&!Qh(K)&&(K=_n(D,c)),Qh(K)&&(w=K,y))return w;const me=i[d+1];d=y?Da(me):dd(me)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=_n(D,c))}return w}function Qh(i){return void 0!==i}function pD(i,o=""){const a=fe(),c=Kt(),d=i+kt,p=c.firstCreatePass?zp(c,d,1,o,null):c.data[d],y=gD(c,a,p,o,i);a[d]=y,qs()&&Ip(c,a,y,p),Bi(p,!1)}let gD=(i,o,a,c,d)=>(rn(!0),function f(i,o){return i.createText(o)}(o[Et],c));function Jh(i){return Rc("",i,""),Jh}function Rc(i,o,a){const c=fe(),d=Vh(c,i,o,a);return d!==Pt&&function wu(i,o,a){const c=Ku(o,i);!function g(i,o,a){i.setValue(o,a)}(i[Et],c,a)}(c,ti(),d),Rc}const Pc=void 0;var TD=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gd(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let md={};function Fy(i){const o=function AS(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=sw(o);if(a)return a;const c=o.split("-")[0];if(a=sw(c),a)return a;if("en"===c)return TD;throw new te(701,!1)}function is(i){return Fy(i)[Lo.PluralCase]}function sw(i){return i in md||(md[i]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[i]),md[i]}var Lo=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Lo||{});const Jt="en-US";let yd=Jt;function Ig(i,o,a,c,d){if(i=xe(i),Array.isArray(i))for(let p=0;p<i.length;p++)Ig(i[p],o,a,c,d);else{const p=Kt(),y=fe(),w=qn();let D=Xl(i)?i:xe(i.provide);const S=pT(i),x=1048575&w.providerIndexes,F=w.directiveStart,G=w.providerIndexes>>20;if(Xl(i)||!i.multi){const K=new mt(S,d,nd),me=qi(D,o,d?x:x+G,F);-1===me?(Si(Ja(w,y),p,D),fw(p,i,o.length),o.push(D),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),a.push(K),y.push(K)):(a[me]=K,y[me]=K)}else{const K=qi(D,o,x+G,F),me=qi(D,o,x,x+G),Je=me>=0&&a[me];if(d&&!Je||!d&&!(K>=0&&a[K])){Si(Ja(w,y),p,D);const ut=function ki(i,o,a,c,d){const p=new mt(i,a,nd);return p.multi=[],p.index=o,p.componentProviders=0,HD(p,d,c&&!a),p}(d?Dg:Eg,a.length,d,c,S);!d&&Je&&(a[me].providerFactory=ut),fw(p,i,o.length,0),o.push(D),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),a.push(ut),y.push(ut)}else fw(p,i,K>-1?K:me,HD(a[d?me:K],S,!d&&c));!d&&c&&Je&&a[me].componentProviders++}}}function fw(i,o,a,c){const d=Xl(o),p=function hT(i){return!!i.useClass}(o);if(d||p){const D=(p?xe(o.useClass):o).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const x=S.indexOf(a);-1===x?S.push(a,[c,D]):S[x+1].push(c,D)}else S.push(a,D)}}}function HD(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function qi(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function Eg(i,o,a,c){return By(this.multi,[])}function Dg(i,o,a,c){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Es(a,a[Qe],this.providerFactory.index,c);p=w.slice(0,y),By(d,p);for(let D=y;D<w.length;D++)p.push(w[D])}else p=[],By(d,p);return p}function By(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function GD(i,o=[]){return a=>{a.providersResolver=(c,d)=>function $D(i,o,a){const c=Kt();if(c.firstCreatePass){const d=Xr(i);Ig(a,c.data,c.blueprint,d,!0),Ig(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class Lc{}class jo{}function zD(i,o){return new jy(i,o??null,[])}class jy extends Lc{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jE(this);const d=Fr(o);this._bootstrapComponents=ns(d.bootstrap),this._r3Injector=DT(o,a,[{provide:Lc,useValue:this},{provide:xh,useValue:this.componentFactoryResolver},...c],Y(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class gw extends jo{constructor(o){super(),this.moduleType=o}create(o){return new jy(this.moduleType,o,[])}}class qD extends Lc{constructor(o){super(),this.componentFactoryResolver=new jE(this),this.instance=null;const a=new Mp([...o.providers,{provide:Lc,useValue:this},{provide:xh,useValue:this.componentFactoryResolver}],o.parent||Um(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ZD(i,o,a=null){return new qD({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let GS=(()=>{var i;class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=lT(0,c.type),p=d.length>0?ZD([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,p)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return(i=o).\u0275prov=Nt({token:i,providedIn:"environment",factory:()=>new i(wt(_a))}),o})();function WD(i){i.getStandaloneInjector=o=>o.get(GS).getOrCreateStandaloneInjector(i)}function $c(){return this._results[Symbol.iterator]()}class Zy{get changes(){return this._changes||(this._changes=new vu)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Zy.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=$c)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function O(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function A(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Wy(i,o,a,c=!0){const d=o[Qe];if(function Ue(i,o,a,c){const d=vr+c,p=a.length;c>0&&(a[d-1][Lr]=o),c<p-vr?(o[Lr]=a[d],Z(a,vr+c,o)):(a.push(o),o[Lr]=null),o[mn]=a;const y=o[al];null!==y&&a!==y&&function nt(i,o){const a=i[ir];o[yn]!==o[mn][mn][yn]&&(i[Lu]=!0),null===a?i[ir]=[o]:a.push(o)}(y,o);const w=o[nr];null!==w&&w.insertView(i),o[vt]|=128}(d,o,i,a),c){const p=o_(a,i),y=o[Et],w=Ih(y,i[rr]);null!==w&&function B(i,o,a,c,d,p){c[gn]=d,c[mr]=o,Ep(i,c,a,1,d,p)}(d,i[mr],y,o,w,p)}}let Ed=(()=>{class o{}return o.__NG_ELEMENT_ID__=uC,o})();const bg=Ed,aC=class extends bg{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,c){const d=function mf(i,o,a,c){const d=o.tView,w=Q_(i,d,a,4096&i[vt]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);w[al]=i[o.index];const S=i[nr];return null!==S&&(w[nr]=S.createEmbeddedView(d)),cy(d,w,a),w}(this._declarationLView,this._declarationTContainer,o,{injector:a,hydrationInfo:c});return new Zp(d)}};function uC(){return Dd(qn(),fe())}function Dd(i,o){return 4&i.type?new aC(o,i,td(i,o)):null}let Tg=(()=>{class o{}return o.__NG_ELEMENT_ID__=pC,o})();function pC(){return fn(qn(),fe())}const _f=Tg,gC=class extends _f{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return td(this._hostTNode,this._hostLView)}get injector(){return new Sn(this._hostTNode,this._hostLView)}get parentInjector(){const o=Co(this._hostTNode,this._hostLView);if(Nl(o)){const a=Ji(o,this._hostLView),c=Ws(o);return new Sn(a[Qe].data[c+8],a)}return new Sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=_w(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const w=o.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(w,d,false),w}createComponent(o,a,c,d,p){const y=o&&!function b(i){return"function"==typeof i}(o);let w;if(y)w=a;else{const ke=a||{};w=ke.index,c=ke.injector,d=ke.projectableNodes,p=ke.environmentInjector||ke.ngModuleRef}const D=y?o:new ge(zt(o)),S=c||this.parentInjector;if(!p&&null==D.ngModule){const Je=(y?S:this.parentInjector).get(_a,null);Je&&(p=Je)}zt(D.componentType??{});const K=D.create(S,d,null,p);return this.insertImpl(K.hostView,w,false),K}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const d=o._lView;if(function yl(i){return Cr(i[mn])}(d)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const S=d[mn],x=new gC(S,S[mr],S[mn]);x.detach(x.indexOf(o))}}const y=this._adjustIndex(a),w=this._lContainer;return Wy(w,d,y,!c),o.attachToViewContainerRef(),Z(qt(w),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=_w(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=wn(this._lContainer,a);c&&(ce(qt(this._lContainer),a),xi(c[Qe],c))}detach(o){const a=this._adjustIndex(o,-1),c=wn(this._lContainer,a);return c&&null!=ce(qt(this._lContainer),a)?new Zp(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function _w(i){return i[8]}function qt(i){return i[8]||(i[8]=[])}function fn(i,o){let a;const c=o[i.index];return Cr(c)?a=c:(a=OE(c,o,null,i),o[i.index]=a,ay(o,a)),Yy(a,o,i,c),new gC(a,i,o)}let Yy=function Qy(i,o,a,c){if(i[rr])return;let d;d=8&a.type?dn(c):function wf(i,o){const a=i[Et],c=a.createComment(""),d=Br(o,i);return Ro(a,Ih(a,d),c,function wp(i,o){return i.nextSibling(o)}(a,d),!1),c}(o,a),i[rr]=d};class Jy{constructor(o){this.queryList=o,this.matches=null}clone(){return new Jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new Xy(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Ma(o,a).matches&&this.queries[a].setDirty()}}class Iw{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Ew{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Ew(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Dw{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Dw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,YS(a,p)),this.matchTNodeWithReadOption(o,a,ac(a,o,p,!1,!1))}else c===Ed?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,ac(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Nh||d===Tg||d===Ed&&4&a.type)this.addMatch(a.index,-2);else{const p=ac(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function YS(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function QS(i,o,a,c){return-1===a?function yC(i,o){return 11&i.type?td(i,o):4&i.type?Dd(i,o):null}(o,i):-2===a?function vC(i,o,a){return a===Nh?td(o,i):a===Ed?Dd(o,i):a===Tg?fn(o,i):void 0}(i,o,c):Es(i,i[Qe],a,o)}function _C(i,o,a,c){const d=o[nr].queries[c];if(null===d.matches){const p=i.data,y=a.matches,w=[];for(let D=0;D<y.length;D+=2){const S=y[D];w.push(S<0?null:QS(o,p[S],y[D+1],a.metadata.read))}d.matches=w}return d.matches}function Cw(i,o,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=_C(i,o,d,a);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)c.push(y[w/2]);else{const S=p[w+1],x=o[-D];for(let F=vr;F<x.length;F++){const G=x[F];G[al]===G[mn]&&Cw(G[Qe],G,S,c)}if(null!==x[ir]){const F=x[ir];for(let G=0;G<F.length;G++){const K=F[G];Cw(K[Qe],K,S,c)}}}}}return c}function wC(i){const o=fe(),a=Kt(),c=ih();Tl(c+1);const d=Ma(a,c);if(i.dirty&&function sa(i){return 4==(4&i[vt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Cw(a,o,c,[]):_C(a,o,d,c);i.reset(p,k_),i.notifyOnChanges()}return!0}return!1}function Hc(i,o,a,c){const d=Kt();if(d.firstCreatePass){const p=qn();(function Tw(i,o,a){null===i.queries&&(i.queries=new Ew),i.queries.track(new Dw(o,a))})(d,new Iw(o,a,c),p.index),function IC(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Sg(i,o,a){const c=new Zy(4==(4&a));(function bE(i,o,a,c){const d=c0(o);d.push(a),i.firstCreatePass&&FE(i).push(c,d.length-1)})(i,o,c,c.destroy),null===o[nr]&&(o[nr]=new Xy),o[nr].queries.push(new Jy(c))}(d,fe(),a)}function If(){return function ev(i,o){return i[nr].queries[o].queryList}(fe(),ih())}function Ma(i,o){return i.queries.getByIndex(o)}function Ag(i){return!!Fr(i)}const lv=new hn("Application Initializer");let Og=(()=>{var i;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=xt(lv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const p of this.appInits){const y=p();if($h(y))c.push(y);else if(tD(y)){const w=new Promise((D,S)=>{y.subscribe({complete:D,error:S})});c.push(w)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(p=>{this.reject(p)}),0===c.length&&d(),this.initialized=!0}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})(),FC=(()=>{var i;class o{log(c){console.log(c)}warn(c){console.warn(c)}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();const Yn=new hn("LocaleId",{providedIn:"root",factory:()=>xt(Yn,lt.Optional|lt.SkipSelf)||function cA(){return typeof $localize<"u"&&$localize.locale||Jt}()}),en=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let kg=(()=>{var i;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ne.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();class LC{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let hA=(()=>{var i;class o{compileModuleSync(c){return new gw(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),y=ns(Fr(c).declarations).reduce((w,D)=>{const S=zt(D);return S&&w.push(new ge(S)),w},[]);return new LC(d,y)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();const Fw=new hn(""),Lw=new hn("");let Ad,zC=(()=>{var i;class o{constructor(c,d,p){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ad||(function IA(i){Ad=i}(p),p.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,p){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:y,updateCb:p})}whenStable(c,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,p){return[]}}return(i=o).\u0275fac=function(c){return new(c||i)(wt(Zn),wt(qC),wt(Lw))},i.\u0275prov=Nt({token:i,factory:i.\u0275fac}),o})(),qC=(()=>{var i;class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Ad?.findTestabilityInTree(this,c,d)??null}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})(),xa=null;const ZC=new hn("AllowMultipleToken"),pv=new hn("PlatformDestroyListeners"),Ug=new hn("appBootstrapListener");class DA{constructor(o,a){this.name=o,this.token=a}}function KC(i,o,a=[]){const c=`Platform: ${o}`,d=new hn(c);return(p=[])=>{let y=Uw();if(!y||y.injector.get(ZC,!1)){const w=[...a,...p,{provide:d,useValue:!0}];i?i(w):function CA(i){if(xa&&!xa.get(ZC,!1))throw new te(400,!1);(function Vw(){!function pl(i){qu=i}(()=>{throw new te(600,!1)})})(),xa=i;const o=i.get(Bw);(function Md(i){i.get(QI,null)?.forEach(a=>a())})(i)}(function Na(i=[],o){return Ia.create({name:o,providers:[{provide:Sh,useValue:"platform"},{provide:pv,useValue:new Set([()=>xa=null])},...i]})}(w,c))}return function YC(i){const o=Uw();if(!o)throw new te(401,!1);return o}()}}function Uw(){return xa?.get(Bw)??null}let Bw=(()=>{var i;class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const p=function xd(i="zone.js",o){return"noop"===i?new gE:"zone.js"===i?new Zn(o):i}(d?.ngZone,function Bg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return p.run(()=>{const y=function HS(i,o,a){return new jy(i,o,a)}(c.moduleType,this.injector,function jw(i){return[{provide:Zn,useFactory:i},{provide:Fm,multi:!0,useFactory:()=>{const o=xt(JC,{optional:!0});return()=>o.initialize()}},{provide:mv,useFactory:QC},{provide:Up,useFactory:Rh}]}(()=>p)),w=y.injector.get(Oh,null);return p.runOutsideAngular(()=>{const D=p.onError.subscribe({next:S=>{w.handleError(S)}});y.onDestroy(()=>{jg(this._modules,y),D.unsubscribe()})}),function Wc(i,o,a){try{const c=a();return $h(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(w,p,()=>{const D=y.injector.get(Og);return D.runInitializers(),D.donePromise.then(()=>(function Ly(i){Xe(i,"Expected localeId to be defined"),"string"==typeof i&&(yd=i.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Yn,Jt)||Jt),this._moduleDoBootstrap(y),y))})})}bootstrapModule(c,d=[]){const p=Kc({},d);return function WC(i,o,a){const c=new gw(a);return Promise.resolve(c)}(0,0,c).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(c){const d=c.injector.get(Ra);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new te(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(pv,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=o).\u0275fac=function(c){return new(c||i)(wt(Ia))},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();function Kc(i,o){return Array.isArray(o)?o.reduce(Kc,i):{...i,...o}}let Ra=(()=>{var i;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xt(mv),this.zoneIsStable=xt(Up),this.componentTypes=[],this.components=[],this.isStable=xt(kg).hasPendingTasks.pipe((0,Re.w)(c=>c?(0,he.of)(!1):this.zoneIsStable),(0,de.x)(),(0,pe.B)()),this._injector=xt(_a)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const p=c instanceof rE;if(!this._injector.get(Og).done)throw!p&&Bs(c),new te(405,!1);let w;w=p?c:this._injector.get(xh).resolveComponentFactory(c),this.componentTypes.push(w.componentType);const D=function EA(i){return i.isBoundToModule}(w)?void 0:this._injector.get(Lc),x=w.create(Ia.NULL,[],d||w.selector,D),F=x.location.nativeElement,G=x.injector.get(Fw,null);return G?.registerApplication(F),x.onDestroy(()=>{this.detachView(x.hostView),jg(this.components,x),G?.unregisterApplication(F)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;jg(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Ug,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>jg(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function jg(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const mv=new hn("",{providedIn:"root",factory:()=>xt(Oh).handleError.bind(void 0)});function QC(){const i=xt(Zn),o=xt(Oh);return a=>i.runOutsideAngular(()=>o.handleError(a))}let JC=(()=>{var i;class o{constructor(){this.zone=xt(Zn),this.applicationRef=xt(Ra)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function yv(){return!1}let SA=(()=>{class o{}return o.__NG_ELEMENT_ID__=AA,o})();function AA(i){return function MA(i,o,a){if(uo(i)&&!a){const c=Rn(i.index,o);return new Zp(c,c)}return 47&i.type?new Zp(o[yn],o):null}(qn(),fe(),16==(16&i))}class Rf{constructor(){}supports(o){return Lh(o)}create(o){return new nb(o)}}const tb=(i,o)=>o;class nb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||tb}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<Gg(c,d,p)?a:c,w=Gg(y,d,p),D=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const S=w-d,x=D-d;if(S!=x){for(let G=0;G<S;G++){const K=G<p.length?p[G]:p[G]=0,me=K+G;x<=me&&me<S&&(p[G]=K+1)}p[y.previousIndex]=x-S}}w!==D&&o(y,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Lh(o))throw new te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),c=!0),a=a._next}else d=0,function dy(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new Li(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Hg),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hg),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Li{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Hg{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new rb,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gg(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class Zw{constructor(){}supports(o){return o instanceof Map||id(o)}create(){return new Yc}}class Yc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||id(o)))throw new te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const c=new Pf(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class Pf{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ww(){return new xu([new Rf])}let xu=(()=>{var i;class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const p=d.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Ww()),deps:[[o,new fh,new Ol]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(null!=d)return d;throw new te(901,!1)}}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:Ww}),o})();function Rd(){return new bv([new Zw])}let bv=(()=>{var i;class o{constructor(c){this.factories=c}static create(c,d){if(d){const p=d.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Rd()),deps:[[o,new fh,new Ol]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new te(901,!1)}}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:Rd}),o})();const OA=KC(null,"core",[]);let sb=(()=>{var i;class o{constructor(c){}}return(i=o).\u0275fac=function(c){return new(c||i)(wt(Ra))},i.\u0275mod=Va({type:i}),i.\u0275inj=In({}),o})();function VA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function rI(i){const o=zt(i);if(!o)return null;const a=new ge(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3106:(ot,De,P)=>{P.d(De,{Z:()=>Ze});var h=P(9058),Q=P(4537),k=P(534),J=P(7879);class ne{constructor(Ge,Oe){this._delegate=Ge,this.firebase=Oe,(0,k._addComponent)(Ge,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(Ge,Oe=k._DEFAULT_ENTRY_NAME){var dt;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(Ge);return!at.isInitialized()&&"EXPLICIT"===(null===(dt=at.getComponent())||void 0===dt?void 0:dt.instantiationMode)&&at.initialize(),at.getImmediate({identifier:Oe})}_removeServiceInstance(Ge,Oe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(Oe)}_addComponent(Ge){(0,k._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,k._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function de(){const xe=function Re(xe){const Ge={},Oe={__esModule:!0,initializeApp:function te(Pe,ze={}){const se=k.initializeApp(Pe,ze);if((0,h.r3)(Ge,se.name))return Ge[se.name];const yt=new xe(se,Oe);return Ge[se.name]=yt,yt},app:at,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function X(Pe){const ze=Pe.name,se=ze.replace("-compat","");if(k._registerComponent(Pe)&&"PUBLIC"===Pe.type){const yt=(Vt=at())=>{if("function"!=typeof Vt[se])throw pe.create("invalid-app-argument",{appName:ze});return Vt[se]()};void 0!==Pe.serviceProps&&(0,h.ZB)(yt,Pe.serviceProps),Oe[se]=yt,xe.prototype[se]=function(...Vt){return this._getService.bind(this,ze).apply(this,Pe.multipleInstances?Vt:[])}}return"PUBLIC"===Pe.type?Oe[se]:null},removeApp:function dt(Pe){delete Ge[Pe]},useAsService:function Ce(Pe,ze){return"serverAuth"===ze?null:ze},modularAPIs:k}};function at(Pe){if(!(0,h.r3)(Ge,Pe=Pe||k._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:Pe});return Ge[Pe]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function ve(){return Object.keys(Ge).map(Pe=>Ge[Pe])}}),at.App=xe,Oe}(ne);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function Ge(Oe){(0,h.ZB)(xe,Oe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),xe}(),j=new J.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=L;!function Se(xe){(0,k.registerVersion)("@firebase/app-compat","0.2.13",xe)}()},534:(ot,De,P)=>{P.r(De),P.d(De,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>eo,_DEFAULT_ENTRY_NAME:()=>lt,_addComponent:()=>En,_addOrOverwriteComponent:()=>Kr,_apps:()=>Mt,_clearComponents:()=>Yt,_components:()=>on,_getProvider:()=>pr,_registerComponent:()=>Qt,_removeServiceInstance:()=>ka,deleteApp:()=>Ui,getApp:()=>vi,getApps:()=>Vs,initializeApp:()=>to,onLog:()=>Qr,registerVersion:()=>er,setLogLevel:()=>Un});var h=P(5861),Q=P(4537),k=P(7879),J=P(9058);const ne=(ue,ee)=>ee.some(Me=>ue instanceof Me);let he,pe;const L=new WeakMap,j=new WeakMap,Y=new WeakMap,Le=new WeakMap,Se=new WeakMap;let Ge={get(ue,ee,Me){if(ue instanceof IDBTransaction){if("done"===ee)return j.get(ue);if("objectStoreNames"===ee)return ue.objectStoreNames||Y.get(ue);if("store"===ee)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return te(ue[ee])},set:(ue,ee,Me)=>(ue[ee]=Me,!0),has:(ue,ee)=>ue instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in ue};function at(ue){return"function"==typeof ue?function dt(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...ee){return ue.apply(ve(this),ee),te(L.get(this))}:function(...ee){return te(ue.apply(ve(this),ee))}:function(ee,...Me){const tt=ue.call(ve(this),ee,...Me);return Y.set(tt,ee.sort?ee.sort():[ee]),te(tt)}}(ue):(ue instanceof IDBTransaction&&function xe(ue){if(j.has(ue))return;const ee=new Promise((Me,tt)=>{const qe=()=>{ue.removeEventListener("complete",Rt),ue.removeEventListener("error",Wt),ue.removeEventListener("abort",Wt)},Rt=()=>{Me(),qe()},Wt=()=>{tt(ue.error||new DOMException("AbortError","AbortError")),qe()};ue.addEventListener("complete",Rt),ue.addEventListener("error",Wt),ue.addEventListener("abort",Wt)});j.set(ue,ee)}(ue),ne(ue,function Re(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Ge):ue)}function te(ue){if(ue instanceof IDBRequest)return function Ze(ue){const ee=new Promise((Me,tt)=>{const qe=()=>{ue.removeEventListener("success",Rt),ue.removeEventListener("error",Wt)},Rt=()=>{Me(te(ue.result)),qe()},Wt=()=>{tt(ue.error),qe()};ue.addEventListener("success",Rt),ue.addEventListener("error",Wt)});return ee.then(Me=>{Me instanceof IDBCursor&&L.set(Me,ue)}).catch(()=>{}),Se.set(ee,ue),ee}(ue);if(Le.has(ue))return Le.get(ue);const ee=at(ue);return ee!==ue&&(Le.set(ue,ee),Se.set(ee,ue)),ee}const ve=ue=>Se.get(ue),Pe=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],se=new Map;function yt(ue,ee){if(!(ue instanceof IDBDatabase)||ee in ue||"string"!=typeof ee)return;if(se.get(ee))return se.get(ee);const Me=ee.replace(/FromIndex$/,""),tt=ee!==Me,qe=ze.includes(Me);if(!(Me in(tt?IDBIndex:IDBObjectStore).prototype)||!qe&&!Pe.includes(Me))return;const Rt=function(){var Wt=(0,h.Z)(function*(Bn,...jn){const gr=this.transaction(Bn,qe?"readwrite":"readonly");let Yi=gr.store;return tt&&(Yi=Yi.index(jn.shift())),(yield Promise.all([Yi[Me](...jn),qe&&gr.done]))[0]});return function(jn){return Wt.apply(this,arguments)}}();return se.set(ee,Rt),Rt}!function Oe(ue){Ge=ue(Ge)}(ue=>({...ue,get:(ee,Me,tt)=>yt(ee,Me)||ue.get(ee,Me,tt),has:(ee,Me)=>!!yt(ee,Me)||ue.has(ee,Me)}));class Vt{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function hr(ue){const ee=ue.getComponent();return"VERSION"===ee?.type}(Me)){const tt=Me.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Me=>Me).join(" ")}}const Wr="@firebase/app",Vn=new k.Yd("@firebase/app"),lt="[DEFAULT]",Ut={[Wr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mt=new Map,on=new Map;function En(ue,ee){try{ue.container.addComponent(ee)}catch(Me){Vn.debug(`Component ${ee.name} failed to register with FirebaseApp ${ue.name}`,Me)}}function Kr(ue,ee){ue.container.addOrOverwriteComponent(ee)}function Qt(ue){const ee=ue.name;if(on.has(ee))return Vn.debug(`There were multiple attempts to register component ${ee}.`),!1;on.set(ee,ue);for(const Me of Mt.values())En(Me,ue);return!0}function pr(ue,ee){const Me=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),ue.container.getProvider(ee)}function ka(ue,ee,Me=lt){pr(ue,ee).clearInstance(Me)}function Yt(){on.clear()}const Bt=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ds{constructor(ee,Me,tt){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const eo="9.23.0";function to(ue,ee={}){let Me=ue;"object"!=typeof ee&&(ee={name:ee});const tt=Object.assign({name:lt,automaticDataCollectionEnabled:!1},ee),qe=tt.name;if("string"!=typeof qe||!qe)throw Bt.create("bad-app-name",{appName:String(qe)});if(Me||(Me=(0,J.aH)()),!Me)throw Bt.create("no-options");const Rt=Mt.get(qe);if(Rt){if((0,J.vZ)(Me,Rt.options)&&(0,J.vZ)(tt,Rt.config))return Rt;throw Bt.create("duplicate-app",{appName:qe})}const Wt=new Q.H0(qe);for(const jn of on.values())Wt.addComponent(jn);const Bn=new ds(Me,tt,Wt);return Mt.set(qe,Bn),Bn}function vi(ue=lt){const ee=Mt.get(ue);if(!ee&&ue===lt&&(0,J.aH)())return to();if(!ee)throw Bt.create("no-app",{appName:ue});return ee}function Vs(){return Array.from(Mt.values())}function Ui(ue){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,h.Z)(function*(ue){const ee=ue.name;Mt.has(ee)&&(Mt.delete(ee),yield Promise.all(ue.container.getProviders().map(Me=>Me.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function er(ue,ee,Me){var tt;let qe=null!==(tt=Ut[ue])&&void 0!==tt?tt:ue;Me&&(qe+=`-${Me}`);const Rt=qe.match(/\s|\//),Wt=ee.match(/\s|\//);if(Rt||Wt){const Bn=[`Unable to register library "${qe}" with version "${ee}":`];return Rt&&Bn.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),Rt&&Wt&&Bn.push("and"),Wt&&Bn.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void Vn.warn(Bn.join(" "))}Qt(new Q.wA(`${qe}-version`,()=>({library:qe,version:ee}),"VERSION"))}function Qr(ue,ee){if(null!==ue&&"function"!=typeof ue)throw Bt.create("invalid-log-argument");(0,k.Am)(ue,ee)}function Un(ue){(0,k.Ub)(ue)}const _i="firebase-heartbeat-database",wi=1,U="firebase-heartbeat-store";let V=null;function z(){return V||(V=function X(ue,ee,{blocked:Me,upgrade:tt,blocking:qe,terminated:Rt}={}){const Wt=indexedDB.open(ue,ee),Bn=te(Wt);return tt&&Wt.addEventListener("upgradeneeded",jn=>{tt(te(Wt.result),jn.oldVersion,jn.newVersion,te(Wt.transaction),jn)}),Me&&Wt.addEventListener("blocked",jn=>Me(jn.oldVersion,jn.newVersion,jn)),Bn.then(jn=>{Rt&&jn.addEventListener("close",()=>Rt()),qe&&jn.addEventListener("versionchange",gr=>qe(gr.oldVersion,gr.newVersion,gr))}).catch(()=>{}),Bn}(_i,wi,{upgrade:(ue,ee)=>{0===ee&&ue.createObjectStore(U)}}).catch(ue=>{throw Bt.create("idb-open",{originalErrorMessage:ue.message})})),V}function ie(){return(ie=(0,h.Z)(function*(ue){try{return yield(yield z()).transaction(U).objectStore(U).get(wt(ue))}catch(ee){if(ee instanceof J.ZR)Vn.warn(ee.message);else{const Me=Bt.create("idb-get",{originalErrorMessage:ee?.message});Vn.warn(Me.message)}}})).apply(this,arguments)}function Ye(ue,ee){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,h.Z)(function*(ue,ee){try{const tt=(yield z()).transaction(U,"readwrite");yield tt.objectStore(U).put(ee,wt(ue)),yield tt.done}catch(Me){if(Me instanceof J.ZR)Vn.warn(Me.message);else{const tt=Bt.create("idb-set",{originalErrorMessage:Me?.message});Vn.warn(tt.message)}}})).apply(this,arguments)}function wt(ue){return`${ue.name}!${ue.options.appId}`}class Dn{constructor(ee){this.container=ee,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new Ki(Me),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var ee=this;return(0,h.Z)(function*(){const tt=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=Gt();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==qe&&!ee._heartbeatsCache.heartbeats.some(Rt=>Rt.date===qe))return ee._heartbeatsCache.heartbeats.push({date:qe,agent:tt}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Rt=>{const Wt=new Date(Rt.date).valueOf();return Date.now()-Wt<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,h.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const Me=Gt(),{heartbeatsToSend:tt,unsentEntries:qe}=function zn(ue,ee=1024){const Me=[];let tt=ue.slice();for(const qe of ue){const Rt=Me.find(Wt=>Wt.agent===qe.agent);if(Rt){if(Rt.dates.push(qe.date),hs(Me)>ee){Rt.dates.pop();break}}else if(Me.push({agent:qe.agent,dates:[qe.date]}),hs(Me)>ee){Me.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Me,unsentEntries:tt}}(ee._heartbeatsCache.heartbeats),Rt=(0,J.L)(JSON.stringify({version:2,heartbeats:tt}));return ee._heartbeatsCache.lastSentHeartbeatDate=Me,qe.length>0?(ee._heartbeatsCache.heartbeats=qe,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Rt})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class Ki{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,h.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function Ie(ue){return ie.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var Me=this;return(0,h.Z)(function*(){var tt;if(yield Me._canUseIndexedDBPromise){const Rt=yield Me.read();return Ye(Me.app,{lastSentHeartbeatDate:null!==(tt=ee.lastSentHeartbeatDate)&&void 0!==tt?tt:Rt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var Me=this;return(0,h.Z)(function*(){var tt;if(yield Me._canUseIndexedDBPromise){const Rt=yield Me.read();return Ye(Me.app,{lastSentHeartbeatDate:null!==(tt=ee.lastSentHeartbeatDate)&&void 0!==tt?tt:Rt.lastSentHeartbeatDate,heartbeats:[...Rt.heartbeats,...ee.heartbeats]})}})()}}function hs(ue){return(0,J.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function Fa(ue){Qt(new Q.wA("platform-logger",ee=>new Vt(ee),"PRIVATE")),Qt(new Q.wA("heartbeat",ee=>new Dn(ee),"PRIVATE")),er(Wr,"0.9.13",ue),er(Wr,"0.9.13","esm2017"),er("fire-js","")}("")},4537:(ot,De,P)=>{P.d(De,{H0:()=>Re,wA:()=>k});var h=P(5861),Q=P(9058);class k{constructor(L,j,Y){this.name=L,this.instanceFactory=j,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const J="[DEFAULT]";class ne{constructor(L,j){this.name=L,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const j=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(j)){const Y=new Q.BH;if(this.instancesDeferred.set(j,Y),this.isInitialized(j)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:j});Le&&Y.resolve(Le)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(L){var j;const Y=this.normalizeInstanceIdentifier(L?.identifier),Le=null!==(j=L?.optional)&&void 0!==j&&j;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Se){if(Le)return null;throw Se}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function pe(de){return"EAGER"===de.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[j,Y]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(j);try{const Se=this.getOrInitializeService({instanceIdentifier:Le});Y.resolve(Se)}catch{}}}}clearInstance(L=J){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,h.Z)(function*(){const j=Array.from(L.instances.values());yield Promise.all([...j.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...j.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=J){return this.instances.has(L)}getOptions(L=J){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:j={}}=L,Y=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Y,options:j});for(const[Se,Ze]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Se)&&Ze.resolve(Le);return Le}onInit(L,j){var Y;const Le=this.normalizeInstanceIdentifier(j),Se=null!==(Y=this.onInitCallbacks.get(Le))&&void 0!==Y?Y:new Set;Se.add(L),this.onInitCallbacks.set(Le,Se);const Ze=this.instances.get(Le);return Ze&&L(Ze,Le),()=>{Se.delete(L)}}invokeOnInitCallbacks(L,j){const Y=this.onInitCallbacks.get(j);if(Y)for(const Le of Y)try{Le(L,j)}catch{}}getOrInitializeService({instanceIdentifier:L,options:j={}}){let Y=this.instances.get(L);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(de=L,de===J?void 0:de),options:j}),this.instances.set(L,Y),this.instancesOptions.set(L,j),this.invokeOnInitCallbacks(Y,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,Y)}catch{}var de;return Y||null}normalizeInstanceIdentifier(L=J){return this.component?this.component.multipleInstances?L:J:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const j=this.getProvider(L.name);if(j.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);j.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const j=new ne(L,this);return this.providers.set(L,j),j}getProviders(){return Array.from(this.providers.values())}}},7879:(ot,De,P)=>{P.d(De,{Am:()=>de,Ub:()=>Re,Yd:()=>pe,in:()=>Q});const h=[];var Q=function(L){return L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L}(Q||{});const k={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},J=Q.INFO,ne={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},he=(L,j,...Y)=>{if(j<L.logLevel)return;const Le=(new Date).toISOString(),Se=ne[j];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Se](`[${Le}]  ${L.name}:`,...Y)};class pe{constructor(j){this.name=j,this._logLevel=J,this._logHandler=he,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Q))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?k[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...j),this._logHandler(this,Q.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...j),this._logHandler(this,Q.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...j),this._logHandler(this,Q.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...j),this._logHandler(this,Q.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...j),this._logHandler(this,Q.ERROR,...j)}}function Re(L){h.forEach(j=>{j.setLogLevel(L)})}function de(L,j){for(const Y of h){let Le=null;j&&j.level&&(Le=k[j.level]),Y.userLogHandler=null===L?null:(Se,Ze,...xe)=>{const Ge=xe.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");Ze>=(Le??Se.logLevel)&&L({level:Q[Ze].toLowerCase(),message:Ge,args:xe,type:Se.name})}}}},3182:(ot,De,P)=>{P.d(De,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=P(534);(0,h.registerVersion)("firebase","9.23.0","app")},7142:(ot,De,P)=>{P.d(De,{Z:()=>h.Z});var h=P(3106);h.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(ot,De,P)=>{P.r(De);var h=P(5861),Q=P(3106),k=P(9058),J=P(534),ne=P(7582),he=P(7879),pe=P(4537);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ze=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dt=new he.Yd("@firebase/auth");function te(v,...f){dt.logLevel<=he.in.ERROR&&dt.error(`Auth (${J.SDK_VERSION}): ${v}`,...f)}function ve(v,...f){throw ze(v,...f)}function X(v,...f){return ze(v,...f)}function Ce(v,f,g){const _=Object.assign(Object.assign({},xe()),{[f]:g});return new k.LL("auth","Firebase",_).create(f,{appName:v.name})}function Pe(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ve(v,"argument-error"),Ce(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(v,...f){if("string"!=typeof v){const g=f[0],_=[...f.slice(1)];return _[0]&&(_[0].appName=v.name),v._errorFactory.create(g,..._)}return Ge.create(v,...f)}function se(v,f,...g){if(!v)throw ze(f,...g)}function yt(v){const f="INTERNAL ASSERTION FAILED: "+v;throw te(f),new Error(f)}function Vt(v,f){v||yt(f)}function hr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Wr(){return"http:"===cs()||"https:"===cs()}function cs(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ls{constructor(f,g){this.shortDelay=f,this.longDelay=g,Vt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Vn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wr()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oe(v,f){Vt(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class le{static initialize(f,g,_){this.fetchImpl=f,g&&(this.headersImpl=g),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new ls(3e4,6e4);function Ee(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function be(v,f,g,_){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,h.Z)(function*(v,f,g,_,T={}){return He(v,T,(0,h.Z)(function*(){let N={},B={};_&&("GET"===f?B=_:N={body:JSON.stringify(_)});const W=(0,k.xO)(Object.assign({key:v.config.apiKey},B)).slice(1),Ne=yield v._getAdditionalHeaders();return Ne["Content-Type"]="application/json",v.languageCode&&(Ne["X-Firebase-Locale"]=v.languageCode),le.fetch()(Nt(v,v.config.apiHost,g,W),Object.assign({method:f,headers:Ne,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function He(v,f,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,h.Z)(function*(v,f,g){v._canInitEmulator=!1;const _=Object.assign(Object.assign({},_e),f);try{const T=new pn(v),N=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const B=yield N.json();if("needConfirmation"in B)throw In(v,"account-exists-with-different-credential",B);if(N.ok&&!("errorMessage"in B))return B;{const W=N.ok?B.errorMessage:B.error.message,[Ne,Ue]=W.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw In(v,"credential-already-in-use",B);if("EMAIL_EXISTS"===Ne)throw In(v,"email-already-in-use",B);if("USER_DISABLED"===Ne)throw In(v,"user-disabled",B);const nt=_[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw Ce(v,nt,Ue);ve(v,nt)}}catch(T){if(T instanceof k.ZR)throw T;ve(v,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function ht(v,f,g,_){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(v,f,g,_,T={}){const N=yield be(v,f,g,_,T);return"mfaPendingCredential"in N&&ve(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Nt(v,f,g,_){const T=`${f}${g}?${_}`;return v.config.emulator?oe(v.config,T):`${v.config.apiScheme}://${T}`}class pn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,_)=>{this.timer=setTimeout(()=>_(X(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(v,f,g){const _={appName:v.name};g.email&&(_.email=g.email),g.phoneNumber&&(_.phoneNumber=g.phoneNumber);const T=X(v,f,_);return T.customData._tokenResponse=g,T}function nn(){return(nn=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function di(){return(di=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function fi(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function lt(){return(lt=(0,h.Z)(function*(v,f=!1){const g=(0,k.m9)(v),_=yield g.getIdToken(f),T=Mt(_);se(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,B=N?.sign_in_provider;return{claims:T,token:_,authTime:fi(Ut(T.auth_time)),issuedAtTime:fi(Ut(T.iat)),expirationTime:fi(Ut(T.exp)),signInProvider:B||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Ut(v){return 1e3*Number(v)}function Mt(v){const[f,g,_]=v.split(".");if(void 0===f||void 0===g||void 0===_)return te("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,k.tV)(g);return T?JSON.parse(T):(te("Failed to decode base64 JWT payload"),null)}catch(T){return te("Caught error parsing JWT payload as JSON",T?.toString()),null}}function En(v,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(_){throw _ instanceof k.ZR&&function Qt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(_)&&v.auth.currentUser===v&&(yield v.auth.signOut()),_}})).apply(this,arguments)}class pr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const _=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),_)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class ka{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yt(v){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,h.Z)(function*(v){var f;const g=v.auth,_=yield v.getIdToken(),T=yield En(v,function Xs(v,f){return hi.apply(this,arguments)}(g,{idToken:_}));se(T?.users.length,g,"internal-error");const N=T.users[0];v._notifyReloadListener(N);const B=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function to(v){return v.map(f=>{var{providerId:g}=f,_=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(N.providerUserInfo):[],W=function eo(v,f){return[...v.filter(_=>!f.some(T=>T.providerId===_.providerId)),...f]}(v.providerData,B),nt=!!v.isAnonymous&&!(v.email&&N.passwordHash||W?.length),rt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:W,metadata:new ka(N.createdAt,N.lastLoginAt),isAnonymous:nt};Object.assign(v,rt)}),Yr.apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(v){const f=(0,k.m9)(v);yield Yt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Vs(){return(Vs=(0,h.Z)(function*(v,f){const g=yield He(v,{},(0,h.Z)(function*(){const _=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=v.config,B=Nt(v,T,"/v1/token",`key=${N}`),W=yield v._getAdditionalHeaders();return W["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(B,{method:"POST",headers:W,body:_})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){se(f.idToken,"internal-error"),se(typeof f.idToken<"u","internal-error"),se(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function on(v){const f=Mt(v);return se(f,"internal-error"),se(typeof f.exp<"u","internal-error"),se(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var _=this;return(0,h.Z)(function*(){return se(!_.accessToken||_.refreshToken,f,"user-token-expired"),g||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(f,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var _=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:B}=yield function vi(v,f){return Vs.apply(this,arguments)}(f,g);_.updateTokensAndExpiration(T,N,Number(B))})()}updateTokensAndExpiration(f,g,_){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(f,g){const{refreshToken:_,accessToken:T,expirationTime:N}=g,B=new Ui;return _&&(se("string"==typeof _,"internal-error",{appName:f}),B.refreshToken=_),T&&(se("string"==typeof T,"internal-error",{appName:f}),B.accessToken=T),N&&(se("number"==typeof N,"internal-error",{appName:f}),B.expirationTime=N),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ui,this.toJSON())}_performRefresh(){return yt("not implemented")}}function Xn(v,f){se("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class er{constructor(f){var{uid:g,auth:_,stsTokenManager:T}=f,N=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=_,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ka(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const _=yield En(g,g.stsTokenManager.getToken(g.auth,f));return se(_,g.auth,"internal-error"),g.accessToken!==_&&(g.accessToken=_,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),_})()}getIdTokenResult(f){return function Oa(v){return lt.apply(this,arguments)}(this,f)}reload(){return function Bt(v){return ds.apply(this,arguments)}(this)}_assign(f){this!==f&&(se(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new er(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var _=this;return(0,h.Z)(function*(){let T=!1;f.idToken&&f.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield Yt(_)),yield _.auth._persistUserIfCurrent(_),T&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield En(f,function fr(v,f){return nn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var _,T,N,B,W,Ne,Ue,nt;const rt=null!==(_=g.displayName)&&void 0!==_?_:void 0,wn=null!==(T=g.email)&&void 0!==T?T:void 0,xi=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,xo=null!==(B=g.photoURL)&&void 0!==B?B:void 0,Am=null!==(W=g.tenantId)&&void 0!==W?W:void 0,vp=null!==(Ne=g._redirectEventId)&&void 0!==Ne?Ne:void 0,No=null!==(Ue=g.createdAt)&&void 0!==Ue?Ue:void 0,lu=null!==(nt=g.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:Ro,emailVerified:_p,isAnonymous:du,providerData:hu,stsTokenManager:s_}=g;se(Ro&&s_,f,"internal-error");const Ih=Ui.fromJSON(this.name,s_);se("string"==typeof Ro,f,"internal-error"),Xn(rt,f.name),Xn(wn,f.name),se("boolean"==typeof _p,f,"internal-error"),se("boolean"==typeof du,f,"internal-error"),Xn(xi,f.name),Xn(xo,f.name),Xn(Am,f.name),Xn(vp,f.name),Xn(No,f.name),Xn(lu,f.name);const wp=new er({uid:Ro,auth:f,email:wn,emailVerified:_p,displayName:rt,isAnonymous:du,photoURL:xo,phoneNumber:xi,tenantId:Am,stsTokenManager:Ih,createdAt:No,lastLoginAt:lu});return hu&&Array.isArray(hu)&&(wp.providerData=hu.map(Mm=>Object.assign({},Mm))),vp&&(wp._redirectEventId=vp),wp}static _fromIdTokenResponse(f,g,_=!1){return(0,h.Z)(function*(){const T=new Ui;T.updateFromServerResponse(g);const N=new er({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:_});return yield Yt(N),N})()}}const Qr=new Map;function Un(v){Vt(v instanceof Function,"Expected a class definition");let f=Qr.get(v);return f?(Vt(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Qr.set(v,f),f)}const wi=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,_){var T=this;return(0,h.Z)(function*(){T.storage[g]=_})()}_get(g){var _=this;return(0,h.Z)(function*(){const T=_.storage[g];return void 0===T?null:T})()}_remove(g){var _=this;return(0,h.Z)(function*(){delete _.storage[g]})()}_addListener(g,_){}_removeListener(g,_){}}return v.type="NONE",v})();function U(v,f,g){return`firebase:${v}:${f}:${g}`}class V{constructor(f,g,_){this.persistence=f,this.auth=g,this.userKey=_;const{config:T,name:N}=this.auth;this.fullUserKey=U(this.userKey,T.apiKey,N),this.fullPersistenceKey=U("persistence",T.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?er._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const _=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,_?g.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,_="authUser"){return(0,h.Z)(function*(){if(!g.length)return new V(Un(wi),f,_);const T=(yield Promise.all(g.map(function(){var Ue=(0,h.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let N=T[0]||Un(wi);const B=U(_,f.config.apiKey,f.name);let W=null;for(const Ue of g)try{const nt=yield Ue._get(B);if(nt){const rt=er._fromJSON(f,nt);Ue!==N&&(W=rt),N=Ue;break}}catch{}const Ne=T.filter(Ue=>Ue._shouldAllowMigration);return N._shouldAllowMigration&&Ne.length?(N=Ne[0],W&&(yield N._set(B,W.toJSON())),yield Promise.all(g.map(function(){var Ue=(0,h.Z)(function*(nt){if(nt!==N)try{yield nt._remove(B)}catch{}});return function(nt){return Ue.apply(this,arguments)}}())),new V(N,f,_)):new V(N,f,_)})()}}function z(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ct(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ie(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(tr(f))return"Blackberry";if(xt(f))return"Webos";if(ie(f))return"Safari";if((f.includes("chrome/")||Ye(f))&&!f.includes("edge/"))return"Chrome";if(wt(f))return"Android";{const _=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Ie(v=(0,k.z$)()){return/firefox\//i.test(v)}function ie(v=(0,k.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ye(v=(0,k.z$)()){return/crios\//i.test(v)}function Ct(v=(0,k.z$)()){return/iemobile/i.test(v)}function wt(v=(0,k.z$)()){return/android/i.test(v)}function tr(v=(0,k.z$)()){return/blackberry/i.test(v)}function xt(v=(0,k.z$)()){return/webos/i.test(v)}function Dn(v=(0,k.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function hs(v=(0,k.z$)()){return Dn(v)||wt(v)||xt(v)||tr(v)||/windows phone/i.test(v)||Ct(v)}function ue(v,f=[]){let g;switch(v){case"Browser":g=z((0,k.z$)());break;case"Worker":g=`${z((0,k.z$)())}-${v}`;break;default:g=v}const _=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${J.SDK_VERSION}/${_}`}function Me(){return(Me=(0,h.Z)(function*(v){return(yield be(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tt(v,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(v,f){return be(v,"GET","/v2/recaptchaConfig",Ee(v,f))})).apply(this,arguments)}function Rt(v){return void 0!==v&&void 0!==v.getResponse}function Wt(v){return void 0!==v&&void 0!==v.enterprise}class Bn{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function gr(v){return new Promise((f,g)=>{const _=document.createElement("script");_.setAttribute("src",v),_.onload=f,_.onerror=T=>{const N=X("internal-error");N.customData=T,g(N)},_.type="text/javascript",_.charset="UTF-8",function jn(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(_)})}function Yi(v){return`__${v}${Math.floor(1e6*Math.random())}`}class tl{constructor(f){this.type="recaptcha-enterprise",this.auth=$n(f)}verify(f="verify",g=!1){var _=this;return(0,h.Z)(function*(){function N(){return N=(0,h.Z)(function*(W){if(!g){if(null==W.tenantId&&null!=W._agentRecaptchaConfig)return W._agentRecaptchaConfig.siteKey;if(null!=W.tenantId&&void 0!==W._tenantRecaptchaConfigs[W.tenantId])return W._tenantRecaptchaConfigs[W.tenantId].siteKey}return new Promise(function(){var Ne=(0,h.Z)(function*(Ue,nt){tt(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const wn=new Bn(rt);return null==W.tenantId?W._agentRecaptchaConfig=wn:W._tenantRecaptchaConfigs[W.tenantId]=wn,Ue(wn.siteKey)}nt(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{nt(rt)})});return function(Ue,nt){return Ne.apply(this,arguments)}}())}),N.apply(this,arguments)}function B(W,Ne,Ue){const nt=window.grecaptcha;Wt(nt)?nt.enterprise.ready(()=>{nt.enterprise.execute(W,{action:f}).then(rt=>{Ne(rt)}).catch(()=>{Ne("NO_RECAPTCHA")})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((W,Ne)=>{(function T(W){return N.apply(this,arguments)})(_.auth).then(Ue=>{if(!g&&Wt(window.grecaptcha))B(Ue,W,Ne);else{if(typeof window>"u")return void Ne(new Error("RecaptchaVerifier is only supported in browser"));gr("https://www.google.com/recaptcha/enterprise.js?render="+Ue).then(()=>{B(Ue,W,Ne)}).catch(nt=>{Ne(nt)})}}).catch(Ue=>{Ne(Ue)})})})()}}function Ii(v,f,g){return no.apply(this,arguments)}function no(){return(no=(0,h.Z)(function*(v,f,g,_=!1){const T=new tl(v);let N;try{N=yield T.verify(g)}catch{N=yield T.verify(g,!0)}const B=Object.assign({},f);return Object.assign(B,_?{captchaResp:N}:{captchaResponse:N}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class Zo{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const _=N=>new Promise((B,W)=>{try{B(f(N))}catch(Ne){W(Ne)}});_.onAbort=g,this.queue.push(_);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===f)return;const _=[];try{for(const T of g.queue)yield T(f),T.onAbort&&_.push(T.onAbort)}catch(T){_.reverse();for(const N of _)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class nl{constructor(f,g,_,T){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Us(this),this.idTokenSubscription=new Us(this),this.beforeStateQueue=new Zo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,g){var _=this;return g&&(this._popupRedirectResolver=Un(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,N;if(!_._deleted&&(_.persistenceManager=yield V.create(_,f),!_._deleted)){if(null!==(T=_._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(g),_.lastNotifiedUid=(null===(N=_.currentUser)||void 0===N?void 0:N.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var _;const T=yield g.assertedPersistence.getCurrentUser();let N=T,B=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const W=null===(_=g.redirectUser)||void 0===_?void 0:_._redirectEventId,Ne=N?._redirectEventId,Ue=yield g.tryRedirectSignIn(f);(!W||W===Ne)&&Ue?.user&&(N=Ue.user,B=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(B)try{yield g.beforeStateQueue.runMiddleware(N)}catch(W){N=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(W))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let _=null;try{_=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){try{yield Yt(f)}catch(_){if("auth/network-request-failed"!==_?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Go(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const _=f?(0,k.m9)(f):null;return _&&se(_.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(_&&_._clone(g))})()}_updateCurrentUser(f,g=!1){var _=this;return(0,h.Z)(function*(){if(!_._deleted)return f&&se(_.tenantId===f.tenantId,_,"tenant-id-mismatch"),g||(yield _.beforeStateQueue.runMiddleware(f)),_.queue((0,h.Z)(function*(){yield _.directlySetCurrentUser(f),_.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(Un(f))}))}initializeRecaptchaConfig(){var f=this;return(0,h.Z)(function*(){const g=yield tt(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new Bn(g);null==f.tenantId?f._agentRecaptchaConfig=_:f._tenantRecaptchaConfigs[f.tenantId]=_,_.emailPasswordEnabled&&new tl(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,_){return this.registerStateListener(this.authStateSubscription,f,g,_)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,_){return this.registerStateListener(this.idTokenSubscription,f,g,_)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var _=this;return(0,h.Z)(function*(){const T=yield _.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const _=f&&Un(f)||g._popupRedirectResolver;se(_,g,"argument-error"),g.redirectPersistenceManager=yield V.create(g,[Un(_._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var _,T;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(_=g._currentUser)||void 0===_?void 0:_._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,_,T){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),B=this._isInitialized?Promise.resolve():this._initializationPromise;return se(B,this,"internal-error"),B.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,_,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var g;const _={"X-Client-Version":f.clientVersion};f.app.options.appId&&(_["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(_["X-Firebase-Client"]=T);const N=yield f._getAppCheckToken();return N&&(_["X-Firebase-AppCheck"]=N),_})()}_getAppCheckToken(){var f=this;return(0,h.Z)(function*(){var g;const _=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return _?.error&&function at(v,...f){dt.logLevel<=he.in.WARN&&dt.warn(`Auth (${J.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function $n(v){return(0,k.m9)(v)}class Us{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wo(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Ld(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class ro{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return yt("not implemented")}_getIdTokenResponse(f){return yt("not implemented")}_linkToIdToken(f,g){return yt("not implemented")}_getReauthenticationResolver(f){return yt("not implemented")}}function $f(v,f){return La.apply(this,arguments)}function La(){return(La=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:resetPassword",Ee(v,f))})).apply(this,arguments)}function Vd(v,f){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ru(){return(Ru=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:update",Ee(v,f))})).apply(this,arguments)}function Dr(v,f){return il.apply(this,arguments)}function il(){return(il=(0,h.Z)(function*(v,f){return ht(v,"POST","/v1/accounts:signInWithPassword",Ee(v,f))})).apply(this,arguments)}function Pu(v,f){return Va.apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:sendOobCode",Ee(v,f))})).apply(this,arguments)}function Ou(){return(Ou=(0,h.Z)(function*(v,f){return Pu(v,f)})).apply(this,arguments)}function Ko(v,f){return sl.apply(this,arguments)}function sl(){return(sl=(0,h.Z)(function*(v,f){return Pu(v,f)})).apply(this,arguments)}function zt(v,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,h.Z)(function*(v,f){return Pu(v,f)})).apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(v,f){return Pu(v,f)})).apply(this,arguments)}function ol(){return(ol=(0,h.Z)(function*(v,f){return ht(v,"POST","/v1/accounts:signInWithEmailLink",Ee(v,f))})).apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(v,f){return ht(v,"POST","/v1/accounts:signInWithEmailLink",Ee(v,f))})).apply(this,arguments)}class ku extends ro{constructor(f,g,_,T=null){super("password",_),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new ku(f,g,"password")}static _fromEmailAndCode(f,g,_=null){return new ku(f,g,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){var _;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const N=yield Ii(f,T,"signInWithPassword");return Dr(f,N)}return Dr(f,T).catch(function(){var N=(0,h.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const W=yield Ii(f,T,"signInWithPassword");return Dr(f,W)}return Promise.reject(B)});return function(B){return N.apply(this,arguments)}}());case"emailLink":return function Fr(v,f){return ol.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ve(f,"internal-error")}})()}_linkToIdToken(f,g){var _=this;return(0,h.Z)(function*(){switch(_.signInMethod){case"password":return Vd(f,{idToken:g,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Hf(v,f){return Ua.apply(this,arguments)}(f,{idToken:g,email:_._email,oobCode:_._password});default:ve(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Di(v,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(v,f){return ht(v,"POST","/v1/accounts:signInWithIdp",Ee(v,f))})).apply(this,arguments)}class vt extends ro{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new vt(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ve("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:T}=g,N=(0,ne._T)(g,["providerId","signInMethod"]);if(!_||!T)return null;const B=new vt(_,T);return B.idToken=N.idToken||void 0,B.accessToken=N.accessToken||void 0,B.secret=N.secret,B.nonce=N.nonce,B.pendingToken=N.pendingToken||null,B}_getIdTokenResponse(f){return Di(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,Di(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Di(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function Lr(){return(Lr=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:sendVerificationCode",Ee(v,f))})).apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(v,f){return ht(v,"POST","/v1/accounts:signInWithPhoneNumber",Ee(v,f))})).apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(v,f){const g=yield ht(v,"POST","/v1/accounts:signInWithPhoneNumber",Ee(v,f));if(g.temporaryProof)throw In(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const fs={USER_NOT_FOUND:"user-not-found"};function Et(){return(Et=(0,h.Z)(function*(v,f){return ht(v,"POST","/v1/accounts:signInWithPhoneNumber",Ee(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),fs)})).apply(this,arguments)}class yr extends ro{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new yr({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new yr({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function io(v,f){return mr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ba(v,f){return ln.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Yo(v,f){return Et.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:_,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:_,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:_,phoneNumber:T,temporaryProof:N}=f;return _||g||T||N?new yr({verificationId:g,verificationCode:_,phoneNumber:T,temporaryProof:N}):null}}class yn{constructor(f){var g,_,T,N,B,W;const Ne=(0,k.zd)((0,k.pd)(f)),Ue=null!==(g=Ne.apiKey)&&void 0!==g?g:null,nt=null!==(_=Ne.oobCode)&&void 0!==_?_:null,rt=function Gf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ne.mode)&&void 0!==T?T:null);se(Ue&&nt&&rt,"argument-error"),this.apiKey=Ue,this.operation=rt,this.code=nt,this.continueUrl=null!==(N=Ne.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(B=Ne.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(W=Ne.tenantId)&&void 0!==W?W:null}static parseLink(f){const g=function ps(v){const f=(0,k.zd)((0,k.pd)(v)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,_=(0,k.zd)((0,k.pd)(v)).deep_link_id;return(_?(0,k.zd)((0,k.pd)(_)).link:null)||_||g||f||v}(f);try{return new yn(g)}catch{return null}}}let so=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,_){return ku._fromEmailAndPassword(g,_)}static credentialWithLink(g,_){const T=yn.parseLink(_);return se(T,"argument-error"),ku._fromEmailAndCode(g,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class nr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class gs extends nr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ms extends gs{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return se("providerId"in g&&"signInMethod"in g,"argument-error"),vt._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return se(f.idToken||f.accessToken,"argument-error"),vt._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ms.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ms.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:_,oauthTokenSecret:T,pendingToken:N,nonce:B,providerId:W}=f;if(!_&&!T&&!g&&!N||!W)return null;try{return new ms(W)._credential({idToken:g,accessToken:_,nonce:B,pendingToken:N})}catch{return null}}}let js=(()=>{class v extends gs{constructor(){super("facebook.com")}static credential(g){return vt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ci=(()=>{class v extends gs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,_){return vt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:_})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:T}=g;if(!_&&!T)return null;try{return v.credential(_,T)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Fu=(()=>{class v extends gs{constructor(){super("github.com")}static credential(g){return vt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class kt extends ro{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Di(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,Di(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Di(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:T,pendingToken:N}=g;return _&&T&&N&&_===T?new kt(_,N):null}static _create(f,g){return new kt(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qo extends nr{constructor(f){se(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Qo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Qo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=kt.fromJSON(f);return se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:_}=f;if(!g||!_)return null;try{return kt._create(_,g)}catch{return null}}}let Lu=(()=>{class v extends gs{constructor(){super("twitter.com")}static credential(g,_){return vt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:_})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:_,oauthTokenSecret:T}=g;if(!_||!T)return null;try{return v.credential(_,T)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function rr(v,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(v,f){return ht(v,"POST","/v1/accounts:signUp",Ee(v,f))})).apply(this,arguments)}class ir{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,_,T=!1){return(0,h.Z)(function*(){const N=yield er._fromIdTokenResponse(f,_,T),B=$s(_);return new ir({user:N,providerId:B,_tokenResponse:_,operationType:g})})()}static _forOperation(f,g,_){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(_,!0);const T=$s(_);return new ir({user:f,providerId:T,_tokenResponse:_,operationType:g})})()}}function $s(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function zf(){return(zf=(0,h.Z)(function*(v){var f;const g=$n(v);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new ir({user:g.currentUser,providerId:null,operationType:"signIn"});const _=yield rr(g,{returnSecureToken:!0}),T=yield ir._fromIdTokenResponse(g,"signIn",_,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class sr extends k.ZR{constructor(f,g,_,T){var N;super(g.code,g.message),this.operationType=_,this.user=T,Object.setPrototypeOf(this,sr.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(f,g,_,T){return new sr(f,g,_,T)}}function Cr(v,f,g,_){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?sr._fromErrorAndOperation(v,N,f,_):N})}function Vu(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function pi(){return pi=(0,h.Z)(function*(v,f){const g=(0,k.m9)(v);yield Xo(!0,g,f);const{providerUserInfo:_}=yield function Or(v,f){return di.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=Vu(_||[]);return g.providerData=g.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),pi.apply(this,arguments)}function Xr(v,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(v,f,g=!1){const _=yield En(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return ir._forOperation(v,"link",_)})).apply(this,arguments)}function Xo(v,f,g){return ul.apply(this,arguments)}function ul(){return(ul=(0,h.Z)(function*(v,f,g){yield Yt(f);const T=!1===v?"provider-already-linked":"no-such-provider";se(Vu(f.providerData).has(g)===v,f.auth,T)})).apply(this,arguments)}function rm(v,f){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,h.Z)(function*(v,f,g=!1){const{auth:_}=v,T="reauthenticate";try{const N=yield En(v,Cr(_,T,f,v),g);se(N.idToken,_,"internal-error");const B=Mt(N.idToken);se(B,_,"internal-error");const{sub:W}=B;return se(v.uid===W,_,"user-mismatch"),ir._forOperation(v,T,N)}catch(N){throw"auth/user-not-found"===N?.code&&ve(_,"user-mismatch"),N}})).apply(this,arguments)}function cl(v,f){return jd.apply(this,arguments)}function jd(){return(jd=(0,h.Z)(function*(v,f,g=!1){const _="signIn",T=yield Cr(v,_,f),N=yield ir._fromIdTokenResponse(v,_,T);return g||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ll(v,f){return $d.apply(this,arguments)}function $d(){return($d=(0,h.Z)(function*(v,f){return cl($n(v),f)})).apply(this,arguments)}function im(v,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(v,f){const g=(0,k.m9)(v);return yield Xo(!1,g,f.providerId),Xr(g,f)})).apply(this,arguments)}function sm(v,f){return qf.apply(this,arguments)}function qf(){return(qf=(0,h.Z)(function*(v,f){return rm((0,k.m9)(v),f)})).apply(this,arguments)}function Zf(){return(Zf=(0,h.Z)(function*(v,f){return ht(v,"POST","/v1/accounts:signInWithCustomToken",Ee(v,f))})).apply(this,arguments)}function ys(){return ys=(0,h.Z)(function*(v,f){const g=$n(v),_=yield function zv(v,f){return Zf.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),T=yield ir._fromIdTokenResponse(g,"signIn",_);return yield g._updateCurrentUser(T.user),T}),ys.apply(this,arguments)}class dl{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ea._fromServerResponse(f,g):"totpInfo"in g?hl._fromServerResponse(f,g):ve(f,"internal-error")}}class ea extends dl{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ea(g)}}class hl extends dl{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new hl(g)}}function ja(v,f,g){var _;se((null===(_=g.url)||void 0===_?void 0:_.length)>0,v,"invalid-continue-uri"),se(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(se(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(se(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function $a(){return $a=(0,h.Z)(function*(v,f,g){var _;const T=$n(v),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=T._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const B=yield Ii(T,N,"getOobCode",!0);g&&ja(T,B,g),yield Ko(T,B)}else g&&ja(T,N,g),yield Ko(T,N).catch(function(){var B=(0,h.Z)(function*(W){if("auth/missing-recaptcha-token"!==W.code)return Promise.reject(W);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ne=yield Ii(T,N,"getOobCode",!0);g&&ja(T,Ne,g),yield Ko(T,Ne)}});return function(W){return B.apply(this,arguments)}}())}),$a.apply(this,arguments)}function Bu(){return(Bu=(0,h.Z)(function*(v,f,g){yield $f((0,k.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Vr(){return Vr=(0,h.Z)(function*(v,f){yield function Ei(v,f){return Ru.apply(this,arguments)}((0,k.m9)(v),{oobCode:f})}),Vr.apply(this,arguments)}function ju(v,f){return $u.apply(this,arguments)}function $u(){return($u=(0,h.Z)(function*(v,f){const g=(0,k.m9)(v),_=yield $f(g,{oobCode:f}),T=_.requestType;switch(se(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(_.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(_.mfaInfo,g,"internal-error");default:se(_.email,g,"internal-error")}let N=null;return _.mfaInfo&&(N=dl._fromServerResponse($n(g),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function ta(){return(ta=(0,h.Z)(function*(v,f){const{data:g}=yield ju((0,k.m9)(v),f);return g.email})).apply(this,arguments)}function Hu(){return Hu=(0,h.Z)(function*(v,f,g){var _;const T=$n(v),N={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(_=T._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const Ue=yield Ii(T,N,"signUpPassword");B=rr(T,Ue)}else B=rr(T,N).catch(function(){var Ue=(0,h.Z)(function*(nt){if("auth/missing-recaptcha-token"===nt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rt=yield Ii(T,N,"signUpPassword");return rr(T,rt)}return Promise.reject(nt)});return function(nt){return Ue.apply(this,arguments)}}());const W=yield B.catch(Ue=>Promise.reject(Ue)),Ne=yield ir._fromIdTokenResponse(T,"signIn",W);return yield T._updateCurrentUser(Ne.user),Ne}),Hu.apply(this,arguments)}function Nn(){return Nn=(0,h.Z)(function*(v,f,g){var _;const T=$n(v),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(W,Ne){se(Ne.handleCodeInApp,T,"argument-error"),Ne&&ja(T,W,Ne)}if(null!==(_=T._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const W=yield Ii(T,N,"getOobCode",!0);B(W,g),yield zt(T,W)}else B(N,g),yield zt(T,N).catch(function(){var W=(0,h.Z)(function*(Ne){if("auth/missing-recaptcha-token"!==Ne.code)return Promise.reject(Ne);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield Ii(T,N,"getOobCode",!0);B(Ue,g),yield zt(T,Ue)}});return function(Ne){return W.apply(this,arguments)}}())}),Nn.apply(this,arguments)}function Gu(){return(Gu=(0,h.Z)(function*(v,f,g){const _=(0,k.m9)(v),T=so.credentialWithLink(f,g||hr());return se(T._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),ll(_,T)})).apply(this,arguments)}function Ha(){return(Ha=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:createAuthUri",Ee(v,f))})).apply(this,arguments)}function qd(){return qd=(0,h.Z)(function*(v,f){const _={identifier:f,continueUri:Wr()?hr():"http://localhost"},{signinMethods:T}=yield function zu(v,f){return Ha.apply(this,arguments)}((0,k.m9)(v),_);return T||[]}),qd.apply(this,arguments)}function na(){return na=(0,h.Z)(function*(v,f){const g=(0,k.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&ja(g.auth,T,f);const{email:N}=yield function Bd(v,f){return Ou.apply(this,arguments)}(g.auth,T);N!==v.email&&(yield v.reload())}),na.apply(this,arguments)}function Hs(){return Hs=(0,h.Z)(function*(v,f,g){const _=(0,k.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&ja(_.auth,N,g);const{email:B}=yield function kr(v,f){return Bs.apply(this,arguments)}(_.auth,N);B!==v.email&&(yield v.reload())}),Hs.apply(this,arguments)}function Qf(){return(Qf=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Zu(){return Zu=(0,h.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const _=(0,k.m9)(v),N={idToken:yield _.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},B=yield En(_,function Yf(v,f){return Qf.apply(this,arguments)}(_.auth,N));_.displayName=B.displayName||null,_.photoURL=B.photoUrl||null;const W=_.providerData.find(({providerId:Ne})=>"password"===Ne);W&&(W.displayName=_.displayName,W.photoURL=_.photoURL),yield _._updateTokensIfNecessary(B)}),Zu.apply(this,arguments)}function Jf(v,f,g){return ra.apply(this,arguments)}function ra(){return(ra=(0,h.Z)(function*(v,f,g){const{auth:_}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const B=yield En(v,Vd(_,N));yield v._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class ho{constructor(f,g,_={}){this.isNewUser=f,this.providerId=g,this.profile=_}}class Ga extends ho{constructor(f,g,_,T){super(f,g,_),this.username=T}}class gl extends ho{constructor(f,g){super(f,"facebook.com",g)}}class Yd extends Ga{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Wu extends ho{constructor(f,g){super(f,"google.com",g)}}class fo extends Ga{constructor(f,g,_){super(f,"twitter.com",g,_)}}function Xf(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Kd(v){var f,g;if(!v)return null;const{providerId:_}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!_&&v?.idToken){const B=null===(g=null===(f=Mt(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(B)return new ho(N,"anonymous"!==B&&"custom"!==B?B:null)}if(!_)return null;switch(_){case"facebook.com":return new gl(N,T);case"github.com":return new Yd(N,T);case"google.com":return new Wu(N,T);case"twitter.com":return new fo(N,T,v.screenName||null);case"custom":case"anonymous":return new ho(N,null);default:return new ho(N,_,T)}}(g)}class Rn{constructor(f,g,_){this.type=f,this.credential=g,this.auth=_}static _fromIdtoken(f,g){return new Rn("enroll",f,g)}static _fromMfaPendingCredential(f){return new Rn("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,_;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Rn._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.idToken)return Rn._fromIdtoken(f.multiFactorSession.idToken)}return null}}class sa{constructor(f,g,_){this.session=f,this.hints=g,this.signInResolver=_}static _fromError(f,g){const _=$n(f),T=g.customData._serverResponse,N=(T.mfaInfo||[]).map(W=>dl._fromServerResponse(_,W));se(T.mfaPendingCredential,_,"internal-error");const B=Rn._fromMfaPendingCredential(T.mfaPendingCredential);return new sa(B,N,function(){var W=(0,h.Z)(function*(Ne){const Ue=yield Ne._process(_,B);delete T.mfaInfo,delete T.mfaPendingCredential;const nt=Object.assign(Object.assign({},T),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(g.operationType){case"signIn":const rt=yield ir._fromIdTokenResponse(_,g.operationType,nt);return yield _._updateCurrentUser(rt.user),rt;case"reauthenticate":return se(g.user,_,"internal-error"),ir._forOperation(g.user,g.operationType,nt);default:ve(_,"internal-error")}});return function(Ne){return W.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}class po{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(_=>dl._fromServerResponse(f.auth,_)))})}static _fromUser(f){return new po(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Rn._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var _=this;return(0,h.Z)(function*(){const T=f,N=yield _.getSession(),B=yield En(_.user,T._process(_.user.auth,N,g));return yield _.user._updateTokensIfNecessary(B),_.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const _="string"==typeof f?f:f.uid,T=yield g.user.getIdToken();try{const N=yield En(g.user,function Xd(v,f){return be(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(v,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:_}));g.enrolledFactors=g.enrolledFactors.filter(({uid:B})=>B!==_),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const oa=new WeakMap,It="__sak";class eh{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(It,"1"),this.storage.removeItem(It),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const go=(()=>{class v extends eh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,_)=>this.onStorageEvent(g,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function np(){const v=(0,k.z$)();return ie(v)||Dn(v)}()&&function Fa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const _ of Object.keys(this.listeners)){const T=this.storage.getItem(_),N=this.localCache[_];T!==N&&g(_,N,T)}}onStorageEvent(g,_=!1){if(!g.key)return void this.forAllChangedKeys((W,Ne,Ue)=>{this.notifyListeners(W,Ue)});const T=g.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const W=this.storage.getItem(T);if(g.newValue!==W)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!_)return}const N=()=>{const W=this.storage.getItem(T);!_&&this.localCache[T]===W||this.notifyListeners(T,W)},B=this.storage.getItem(T);!function Ki(){return(0,k.w1)()&&10===document.documentMode}()||B===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,_){this.localCache[g]=_;const T=this.listeners[g];if(T)for(const N of Array.from(T))N(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,_,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:_,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,_){var T=()=>super._set,N=this;return(0,h.Z)(function*(){yield T().call(N,g,_),N.localCache[g]=JSON.stringify(_)})()}_get(g){var _=()=>super._get,T=this;return(0,h.Z)(function*(){const N=yield _().call(T,g);return T.localCache[g]=JSON.stringify(N),N})()}_remove(g){var _=()=>super._remove,T=this;return(0,h.Z)(function*(){yield _().call(T,g),delete T.localCache[g]})()}}return v.type="LOCAL",v})(),mo=(()=>{class v extends eh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,_){}_removeListener(g,_){}}return v.type="SESSION",v})();let _l=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const _=this.receivers.find(N=>N.isListeningto(g));if(_)return _;const T=new v(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var _=this;return(0,h.Z)(function*(){const T=g,{eventId:N,eventType:B,data:W}=T.data,Ne=_.handlersMap[B];if(!Ne?.size)return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:B});const Ue=Array.from(Ne).map(function(){var rt=(0,h.Z)(function*(wn){return wn(T.origin,W)});return function(wn){return rt.apply(this,arguments)}}()),nt=yield function om(v){return Promise.all(v.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(_){return{fulfilled:!1,reason:_}}});return function(g){return f.apply(this,arguments)}}()))}(Ue);T.ports[0].postMessage({status:"done",eventId:N,eventType:B,response:nt})})()}_subscribe(g,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(_)}_unsubscribe(g,_){this.handlersMap[g]&&_&&this.handlersMap[g].delete(_),(!_||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function wl(v="",f=10){let g="";for(let _=0;_<f;_++)g+=Math.floor(10*Math.random());return v+g}class Wv{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,_=50){var T=this;return(0,h.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let B,W;return new Promise((Ne,Ue)=>{const nt=wl("",20);N.port1.start();const rt=setTimeout(()=>{Ue(new Error("unsupported_event"))},_);W={messageChannel:N,onMessage(wn){const xi=wn;if(xi.data.eventId===nt)switch(xi.data.status){case"ack":clearTimeout(rt),B=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Ne(xi.data.response);break;default:clearTimeout(rt),clearTimeout(B),Ue(new Error("invalid_response"))}}},T.handlers.add(W),N.port1.addEventListener("message",W.onMessage),T.target.postMessage({eventType:f,eventId:nt,data:g},[N.port2])}).finally(()=>{W&&T.removeMessageHandler(W)})})()}}function fe(){return window}function Ju(){return typeof fe().WorkerGlobalScope<"u"&&"function"==typeof fe().importScripts}function qn(){return(qn=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bi="firebaseLocalStorageDb",yo="firebaseLocalStorage",Il="fbase_key";class El{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Za(v,f){return v.transaction([yo],f?"readwrite":"readonly").objectStore(yo)}function ji(){const v=indexedDB.open(Bi,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const _=v.result;try{_.createObjectStore(yo,{keyPath:Il})}catch(T){g(T)}}),v.addEventListener("success",(0,h.Z)(function*(){const _=v.result;_.objectStoreNames.contains(yo)?f(_):(_.close(),yield function ei(){const v=indexedDB.deleteDatabase(Bi);return new El(v).toPromise()}(),f(yield ji()))}))})}function vo(v,f,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(v,f,g){const _=Za(v,!0).put({[Il]:f,value:g});return new El(_).toPromise()})).apply(this,arguments)}function Dl(){return(Dl=(0,h.Z)(function*(v,f){const g=Za(v,!1).get(f),_=yield new El(g).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Cl(v,f){const g=Za(v,!0).delete(f);return new El(g).toPromise()}const _o=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield ji()),g.db})()}_withRetries(g){var _=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const N=yield _._openDb();return yield g(N)}catch(N){if(T++>3)throw N;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return Ju()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=_l._getInstance(function Cn(){return Ju()?self:null}()),g.receiver._subscribe("keyChanged",function(){var _=(0,h.Z)(function*(T,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(T,N){return _.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var _=(0,h.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return _.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var _,T;if(g.activeServiceWorker=yield function nh(){return qn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Wv(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(_=N[0])&&void 0!==_&&_.fulfilled&&null!==(T=N[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var _=this;return(0,h.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function qa(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:g},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ji();return yield vo(g,It,"1"),yield Cl(g,It),!0}catch{}return!1})()}_withPendingWrite(g){var _=this;return(0,h.Z)(function*(){_.pendingWrites++;try{yield g()}finally{_.pendingWrites--}})()}_set(g,_){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(N=>vo(N,g,_)),T.localCache[g]=_,T.notifyServiceWorker(g)}))})()}_get(g){var _=this;return(0,h.Z)(function*(){const T=yield _._withRetries(N=>function ar(v,f){return Dl.apply(this,arguments)}(N,g));return _.localCache[g]=T,T})()}_remove(g){var _=this;return(0,h.Z)(function*(){return _._withPendingWrite((0,h.Z)(function*(){return yield _._withRetries(T=>Cl(T,g)),delete _.localCache[g],_.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const _=yield g._withRetries(B=>{const W=Za(B,!1).getAll();return new El(W).toPromise()});if(!_)return[];if(0!==g.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:B,value:W}of _)N.add(B),JSON.stringify(g.localCache[B])!==JSON.stringify(W)&&(g.notifyListeners(B,W),T.push(B));for(const B of Object.keys(g.localCache))g.localCache[B]&&!N.has(B)&&(g.notifyListeners(B,null),T.push(B));return T})()}notifyListeners(g,_){this.localCache[g]=_;const T=this.listeners[g];if(T)for(const N of Array.from(T))N(_)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ua=1e12;class oh{constructor(f){this.auth=f,this.counter=ua,this._widgets=new Map}render(f,g){const _=this.counter;return this._widgets.set(_,new Al(f,this.auth.name,g||{})),this.counter++,_}reset(f){var g;const _=f||ua;null===(g=this._widgets.get(_))||void 0===g||g.delete(),this._widgets.delete(_)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ua))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var _;return null===(_=g._widgets.get(f||ua))||void 0===_||_.execute(),""})()}}class Al{constructor(f,g,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;se(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sp(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<v;_++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xu=Yi("rcb"),op=new ls(3e4,6e4);class ti{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=fe().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return se(function zs(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Rt(fe().grecaptcha)?Promise.resolve(fe().grecaptcha):new Promise((_,T)=>{const N=fe().setTimeout(()=>{T(X(f,"network-request-failed"))},op.get());fe()[Xu]=()=>{fe().clearTimeout(N),delete fe()[Xu];const W=fe().grecaptcha;if(!W||!Rt(W))return void T(X(f,"internal-error"));const Ne=W.render;W.render=(Ue,nt)=>{const rt=Ne(Ue,nt);return this.counter++,rt},this.hostLanguage=g,_(W)},gr(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Xu,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),T(X(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=fe().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bn{load(f){return(0,h.Z)(function*(){return new oh(f)})()}clearedOneInstance(){}}const tc="recaptcha",um={theme:"light",type:"image"};class Ml{constructor(f,g=Object.assign({},um),_){this.parameters=g,this.type=tc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(_),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;se(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bn:new ti,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),_=f.getAssertedRecaptcha();return _.getResponse(g)||new Promise(N=>{const B=W=>{W&&(f.tokenChangeListeners.delete(B),N(W))};f.tokenChangeListeners.add(B),f.isInvisible&&_.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(_=>_(g)),"function"==typeof f)f(g);else if("string"==typeof f){const _=fe()[f];"function"==typeof _&&_(g)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const _=document.createElement("div");g.appendChild(_),g=_}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){se(Wr()&&!Ju(),f.auth,"internal-error"),yield function cm(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function ee(v){return Me.apply(this,arguments)}(f.auth);se(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ni{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=yr._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function qs(){return(qs=(0,h.Z)(function*(v,f,g){const _=$n(v),T=yield Zs(_,f,(0,k.m9)(g));return new ni(T,N=>ll(_,N))})).apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(v,f,g){const _=(0,k.m9)(v);yield Xo(!1,_,"phone");const T=yield Zs(_.auth,f,(0,k.m9)(g));return new ni(T,N=>im(_,N))})).apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(v,f,g){const _=(0,k.m9)(v),T=yield Zs(_.auth,f,(0,k.m9)(g));return new ni(T,N=>sm(_,N))})).apply(this,arguments)}function Zs(v,f,g){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,h.Z)(function*(v,f,g){var _;const T=yield g.verify();try{let N;if(se("string"==typeof T,v,"argument-error"),se(g.type===tc,v,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const B=N.session;if("phoneNumber"in N)return se("enroll"===B.type,v,"internal-error"),(yield function yl(v,f){return be(v,"POST","/v2/accounts/mfaEnrollment:start",Ee(v,f))}(v,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{se("signin"===B.type,v,"internal-error");const W=(null===(_=N.multiFactorHint)||void 0===_?void 0:_.uid)||N.multiFactorUid;return se(W,v,"missing-multi-factor-info"),(yield function ih(v,f){return be(v,"POST","/v2/accounts/mfaSignIn:start",Ee(v,f))}(v,{mfaPendingCredential:B.credential,mfaEnrollmentId:W,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function mn(v,f){return Lr.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:T});return B}}finally{g._reset()}}),Wa.apply(this,arguments)}function Ka(){return(Ka=(0,h.Z)(function*(v,f){yield Xr((0,k.m9)(v),f)})).apply(this,arguments)}let Io=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=$n(g)}verifyPhoneNumber(g,_){return Zs(this.auth,g,(0,k.m9)(_))}static credential(g,_){return yr._fromVerification(g,_)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:_,temporaryProof:T}=g;return _&&T?yr._fromTokenResponse(_,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function jr(v,f){return f?Un(f):(se(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class mt extends ro{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Di(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Di(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Di(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function ah(v){return cl(v.auth,new mt(v),v.bypassAuthState)}function ap(v){const{auth:f,user:g}=v;return se(g,f,"internal-error"),rm(g,new mt(v),v.bypassAuthState)}function Eo(v){return Do.apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(v){const{auth:f,user:g}=v;return se(g,f,"internal-error"),Xr(g,new mt(v),v.bypassAuthState)})).apply(this,arguments)}class rc{constructor(f,g,_,T,N=!1){this.auth=f,this.resolver=_,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(_,T){f.pendingPromise={resolve:_,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(_,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:_,sessionId:T,postBody:N,tenantId:B,error:W,type:Ne}=f;if(W)return void g.reject(W);const Ue={auth:g.auth,requestUri:_,sessionId:T,tenantId:B||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ne)(Ue))}catch(nt){g.reject(nt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ah;case"linkViaPopup":case"linkViaRedirect":return Eo;case"reauthViaPopup":case"reauthViaRedirect":return ap;default:ve(this.auth,"internal-error")}}resolve(f){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tn=new ls(2e3,1e4);function xl(){return(xl=(0,h.Z)(function*(v,f,g){const _=$n(v);Pe(v,f,nr);const T=jr(_,g);return new _s(_,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(v,f,g){const _=(0,k.m9)(v);Pe(_.auth,f,nr);const T=jr(_.auth,g);return new _s(_.auth,"reauthViaPopup",f,T,_).executeNotNull()})).apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(v,f,g){const _=(0,k.m9)(v);Pe(_.auth,f,nr);const T=jr(_.auth,g);return new _s(_.auth,"linkViaPopup",f,T,_).executeNotNull()})).apply(this,arguments)}let _s=(()=>{class v extends rc{constructor(g,_,T,N,B){super(g,_,N,B),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const _=yield g.execute();return se(_,g.auth,"internal-error"),_})()}onExecution(){var g=this;return(0,h.Z)(function*(){Vt(1===g.filter.length,"Popup operations only handle one event");const _=wl();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],_),g.authWindow.associatedEvent=_,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(X(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var _,T;this.pollId=null!==(T=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Tn.get())};g()}}return v.currentPopupAction=null,v})();const la="pendingRedirect",Ya=new Map;class ic extends rc{constructor(f,g,_=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,_),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let _=Ya.get(g.auth._key());if(!_){try{const N=(yield function Qa(v,f){return ch.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;_=()=>Promise.resolve(N)}catch(T){_=()=>Promise.reject(T)}Ya.set(g.auth._key(),_)}return g.bypassAuthState||Ya.set(g.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,_=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(_,f);if("unknown"!==f.type){if(f.eventId){const T=yield _.auth._redirectUserForId(f.eventId);if(T)return _.user=T,g().call(_,f);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ch(){return(ch=(0,h.Z)(function*(v,f){const g=Co(f),_=sc(v);if(!(yield _._isAvailable()))return!1;const T="true"===(yield _._get(g));return yield _._remove(g),T})).apply(this,arguments)}function $r(v,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,h.Z)(function*(v,f){return sc(v)._set(Co(f),"true")})).apply(this,arguments)}function _r(v,f){Ya.set(v._key(),f)}function sc(v){return Un(v._redirectPersistence)}function Co(v){return U(la,v.config.apiKey,v.name)}function Si(v,f,g){return function wr(v,f,g){return Is.apply(this,arguments)}(v,f,g)}function Is(){return(Is=(0,h.Z)(function*(v,f,g){const _=$n(v);Pe(v,f,nr),yield _._initializationPromise;const T=jr(_,g);return yield $r(T,_),T._openRedirect(_,f,"signInViaRedirect")})).apply(this,arguments)}function Xa(v,f,g){return function Ai(v,f,g){return ur.apply(this,arguments)}(v,f,g)}function ur(){return(ur=(0,h.Z)(function*(v,f,g){const _=(0,k.m9)(v);Pe(_.auth,f,nr),yield _.auth._initializationPromise;const T=jr(_.auth,g);yield $r(T,_.auth);const N=yield lh(_);return T._openRedirect(_.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function oc(v,f,g){return function ac(v,f,g){return Es.apply(this,arguments)}(v,f,g)}function Es(){return(Es=(0,h.Z)(function*(v,f,g){const _=(0,k.m9)(v);Pe(_.auth,f,nr),yield _.auth._initializationPromise;const T=jr(_.auth,g);yield Xo(!1,_,f.providerId),yield $r(T,_.auth);const N=yield lh(_);return T._openRedirect(_.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(v,f){return yield $n(v)._initializationPromise,Pn(v,f,!1)})).apply(this,arguments)}function Pn(v,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(v,f,g=!1){const _=$n(v),T=jr(_,f),B=yield new ic(_,T,g).execute();return B&&!g&&(delete B.user._redirectEventId,yield _._persistUserIfCurrent(B.user),yield _._setRedirectUser(null,f)),B})).apply(this,arguments)}function lh(v){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(v){const f=wl(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class tu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(f,_)&&(g=!0,this.sendToConsumer(f,_),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function uc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ha(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var _;if(f.error&&!ha(f)){const T=(null===(_=f.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";g.onError(X(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const _=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&_}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(da(f))}saveEventToCache(f){this.cachedEventUids.add(da(f)),this.lastProcessedEventTime=Date.now()}}function da(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function ha({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function fa(v){return bt.apply(this,arguments)}function bt(){return(bt=(0,h.Z)(function*(v,f={}){return be(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Cs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nu=/^https?/;function ru(){return(ru=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield fa(v);for(const g of f)try{if($i(g))return}catch{}ve(v,"unauthorized-domain")})).apply(this,arguments)}function $i(v){const f=hr(),{protocol:g,hostname:_}=new URL(f);if(v.startsWith("chrome-extension://")){const B=new URL(v);return""===B.hostname&&""===_?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&B.hostname===_}if(!nu.test(g))return!1;if(Cs.test(v))return _===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(_)}const Xi=new ls(3e4,6e4);function Rl(){const v=fe().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Tr=null;const To=new ls(5e3,15e3),hm="__/auth/iframe",Kv="emulator/auth/iframe",Ys={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dh(v){const f=v.config;se(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?oe(f,Kv):`https://${v.config.authDomain}/${hm}`,_={apiKey:f.apiKey,appName:v.name,v:J.SDK_VERSION},T=cp.get(v.config.apiHost);T&&(_.eid=T);const N=v._getFrameworks();return N.length&&(_.fw=N.join(",")),`${g}?${(0,k.xO)(_).slice(1)}`}function E(){return E=(0,h.Z)(function*(v){const f=yield function dm(v){return Tr=Tr||function up(v){return new Promise((f,g)=>{var _,T,N;function B(){Rl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Rl(),g(X(v,"network-request-failed"))},timeout:Xi.get()})}if(null!==(T=null===(_=fe().gapi)||void 0===_?void 0:_.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(N=fe().gapi)||void 0===N||!N.load){const W=Yi("iframefcb");return fe()[W]=()=>{gapi.load?B():g(X(v,"network-request-failed"))},gr(`https://apis.google.com/js/api.js?onload=${W}`).catch(Ne=>g(Ne))}B()}}).catch(f=>{throw Tr=null,f})}(v),Tr}(v),g=fe().gapi;return se(g,v,"internal-error"),f.open({where:document.body,url:dh(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ys,dontclear:!0},_=>new Promise(function(){var T=(0,h.Z)(function*(N,B){yield _.restyle({setHideOnLeave:!1});const W=X(v,"network-request-failed"),Ne=fe().setTimeout(()=>{B(W)},To.get());function Ue(){fe().clearTimeout(Ne),N(_)}_.ping(Ue).then(Ue,()=>{B(W)})});return function(N,B){return T.apply(this,arguments)}}()))}),E.apply(this,arguments)}const b={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ce{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const st="__/auth/handler",Dt="emulator/auth/handler",Tt=encodeURIComponent("fac");function an(v,f,g,_,T,N){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(v,f,g,_,T,N){se(v.config.authDomain,v,"auth-domain-config-required"),se(v.config.apiKey,v,"invalid-api-key");const B={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:_,v:J.SDK_VERSION,eventId:T};if(f instanceof nr){f.setDefaultLanguage(v.languageCode),B.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[nt,rt]of Object.entries(N||{}))B[nt]=rt}if(f instanceof gs){const nt=f.getScopes().filter(rt=>""!==rt);nt.length>0&&(B.scopes=nt.join(","))}v.tenantId&&(B.tid=v.tenantId);const W=B;for(const nt of Object.keys(W))void 0===W[nt]&&delete W[nt];const Ne=yield v._getAppCheckToken(),Ue=Ne?`#${Tt}=${encodeURIComponent(Ne)}`:"";return`${function bs({config:v}){return v.emulator?oe(v,Dt):`https://${v.authDomain}/${st}`}(v)}?${(0,k.xO)(W).slice(1)}${Ue}`})).apply(this,arguments)}const pa="webStorageSupport",gi=class Ts{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mo,this._completeRedirectFn=Pn,this._overrideRedirectResult=_r}_openPopup(f,g,_,T){var N=this;return(0,h.Z)(function*(){var B;Vt(null===(B=N.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const W=yield an(f,g,_,hr(),T);return function je(v,f,g,_=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),B=Math.max((window.screen.availWidth-_)/2,0).toString();let W="";const Ne=Object.assign(Object.assign({},b),{width:_.toString(),height:T.toString(),top:N,left:B}),Ue=(0,k.z$)().toLowerCase();g&&(W=Ye(Ue)?"_blank":g),Ie(Ue)&&(f=f||"http://localhost",Ne.scrollbars="yes");const nt=Object.entries(Ne).reduce((wn,[xi,xo])=>`${wn}${xi}=${xo},`,"");if(function zn(v=(0,k.z$)()){var f;return Dn(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ue)&&"_self"!==W)return function $e(v,f){const g=document.createElement("a");g.href=v,g.target=f;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(_)}(f||"",W),new ce(null);const rt=window.open(f||"",W,nt);se(rt,v,"popup-blocked");try{rt.focus()}catch{}return new ce(rt)}(f,W,wl())})()}_openRedirect(f,g,_,T){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(f),function Kt(v){fe().location.href=v}(yield an(f,g,_,hr(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:N}=this.eventManagers[g];return T?Promise.resolve(T):(Vt(N,"If manager is not set, promise should be"),N)}const _=this.initAndGetManager(f);return this.eventManagers[g]={promise:_},_.catch(()=>{delete this.eventManagers[g]}),_}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const _=yield function Hn(v){return E.apply(this,arguments)}(f),T=new tu(f);return _.register("authEvent",N=>(se(N?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=_,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(pa,{type:pa},T=>{var N;const B=null===(N=T?.[0])||void 0===N?void 0:N[pa];void 0!==B&&g(!!B),ve(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bo(v){return ru.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return hs()||ie()||Dn()}};class Ss{constructor(f){this.factorId=f}_process(f,g,_){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,_);case"signin":return this._finalizeSignIn(f,g.credential);default:return yt("unexpected MultiFactorSessionType")}}}class cc extends Ss{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new cc(f)}_finalizeEnroll(f,g,_){return function Gs(v,f){return be(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(v,f))}(f,{idToken:g,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Tl(v,f){return be(v,"POST","/v2/accounts/mfaSignIn:finalize",Ee(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yv=(()=>{class v{constructor(){}static assertion(g){return cc._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var fm="@firebase/auth";class Qv{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(_=>{f(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ma(){return window}(0,k.Pz)("authIdTokenMaxAge"),function Jv(v){(0,J._registerComponent)(new pe.wA("auth",(f,{options:g})=>{const _=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),N=f.getProvider("app-check-internal"),{apiKey:B,authDomain:W}=_.options;se(B&&!B.includes(":"),"invalid-api-key",{appName:_.name});const Ne={apiKey:B,authDomain:W,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(v)},Ue=new nl(_,T,N,Ne);return function jf(v,f){const g=f?.persistence||[],_=(Array.isArray(g)?g:[g]).map(Un);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(_,f?.popupRedirectResolver)}(Ue,g),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,_)=>{f.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new pe.wA("auth-internal",f=>{const g=$n(f.getProvider("auth").getImmediate());return new Qv(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(fm,"0.23.2",function fh(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,J.registerVersion)(fm,"0.23.2","esm2017")}("Browser");function ou(){return ou=(0,h.Z)(function*(v,f,g){var _;const{BuildInfo:T}=ma();Vt(f.sessionId,"AuthEvent did not contain a session ID");const N=yield function e_(v){return dc.apply(this,arguments)}(f.sessionId),B={};return Dn()?B.ibi=T.packageName:wt()?B.apn=T.packageName:ve(v,"operation-not-supported-in-this-environment"),T.displayName&&(B.appDisplayName=T.displayName),B.sessionId=N,an(v,g,f.type,void 0,null!==(_=f.eventId)&&void 0!==_?_:void 0,B)}),ou.apply(this,arguments)}function Fl(){return(Fl=(0,h.Z)(function*(v){const{BuildInfo:f}=ma(),g={};Dn()?g.iosBundleId=f.packageName:wt()?g.androidPackageName=f.packageName:ve(v,"operation-not-supported-in-this-environment"),yield fa(v,g)})).apply(this,arguments)}function lc(){return(lc=(0,h.Z)(function*(v,f,g){const{cordova:_}=ma();let T=()=>{};try{yield new Promise((N,B)=>{let W=null;function Ne(){var rt;N();const wn=null===(rt=_.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof wn&&wn(),"function"==typeof g?.close&&g.close()}function Ue(){W||(W=window.setTimeout(()=>{B(X(v,"redirect-cancelled-by-user"))},2e3))}function nt(){"visible"===document?.visibilityState&&Ue()}f.addPassiveListener(Ne),document.addEventListener("resume",Ue,!1),wt()&&document.addEventListener("visibilitychange",nt,!1),T=()=>{f.removePassiveListener(Ne),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",nt,!1),W&&window.clearTimeout(W)}})}finally{T()}})).apply(this,arguments)}function dc(){return(dc=(0,h.Z)(function*(v){const f=function dp(v){if(Vt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),g=new Uint8Array(f);for(let _=0;_<v.length;_++)g[_]=v.charCodeAt(_);return g}(v),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class mm extends tu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function _m(v){return gh.apply(this,arguments)}function gh(){return(gh=(0,h.Z)(function*(v){const f=yield Ul()._get(So(v));return f&&(yield Ul()._remove(So(v))),f})).apply(this,arguments)}function es(){const v=[];for(let g=0;g<20;g++){const _=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(_))}return v.join("")}function Ul(){return Un(go)}function So(v){return U("authEvent",v.config.apiKey,v.name)}function hc(v){if(!v?.includes("?"))return{};const[f,...g]=v.split("?");return(0,k.zd)(g.join("?"))}const TI=class bI{constructor(){this._redirectPersistence=mo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pn,this._overrideRedirectResult=_r}_initialize(f){var g=this;return(0,h.Z)(function*(){const _=f._key();let T=g.eventManagers.get(_);return T||(T=new mm(f),g.eventManagers.set(_,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){ve(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,_,T){var N=this;return(0,h.Z)(function*(){!function Xv(v){var f,g,_,T,N,B,W,Ne,Ue,nt;const rt=ma();se("function"==typeof(null===(f=rt?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(typeof(null===(g=rt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(N=null===(T=null===(_=rt?.cordova)||void 0===_?void 0:_.plugins)||void 0===T?void 0:T.browsertab)||void 0===N?void 0:N.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Ne=null===(W=null===(B=rt?.cordova)||void 0===B?void 0:B.plugins)||void 0===W?void 0:W.browsertab)||void 0===Ne?void 0:Ne.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(nt=null===(Ue=rt?.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===nt?void 0:nt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield N._initialize(f);yield B.initialized(),B.resetRedirect(),function Ja(){Ya.clear()}(),yield N._originValidation(f);const W=function ym(v,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:es(),postBody:null,tenantId:v.tenantId,error:X(v,"no-auth-event")}}(f,_,T);yield function vm(v,f){return Ul()._set(So(v),f)}(f,W);const Ne=yield function ya(v,f,g){return ou.apply(this,arguments)}(f,W,g),Ue=yield function gm(v){const{cordova:f}=ma();return new Promise(g=>{f.plugins.browsertab.isAvailable(_=>{let T=null;_?f.plugins.browsertab.openUrl(v):T=f.InAppBrowser.open(v,function Gt(v=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(T)})})}(Ne);return function CI(v,f,g){return lc.apply(this,arguments)}(f,B,Ue)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function pm(v){return Fl.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:_,handleOpenURL:T,BuildInfo:N}=ma(),B=setTimeout((0,h.Z)(function*(){yield _m(f),g.onEvent(wm())}),500),W=function(){var nt=(0,h.Z)(function*(rt){clearTimeout(B);const wn=yield _m(f);let xi=null;wn&&rt?.url&&(xi=function Vl(v,f){var g,_;const T=function Bl(v){const f=hc(v),g=f.link?decodeURIComponent(f.link):void 0,_=hc(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return hc(T).link||T||_||g||v}(f);if(T.includes("/__/auth/callback")){const N=hc(T),B=N.firebaseError?function au(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,W=null===(_=null===(g=B?.code)||void 0===g?void 0:g.split("auth/"))||void 0===_?void 0:_[1],Ne=W?X(W):null;return Ne?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:T,postBody:null}}return null}(wn,rt.url)),g.onEvent(xi||wm())});return function(wn){return nt.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,W);const Ne=T,Ue=`${N.packageName.toLowerCase()}://`;ma().handleOpenURL=function(){var nt=(0,h.Z)(function*(rt){if(rt.toLowerCase().startsWith(Ue)&&W({url:rt}),"function"==typeof Ne)try{Ne(rt)}catch(wn){console.error(wn)}});return function(rt){return nt.apply(this,arguments)}}()}};function wm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:X("no-auth-event")}}function fc(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function hp(v=(0,k.z$)()){return!("file:"!==fc()&&"ionic:"!==fc()&&"capacitor:"!==fc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dm(){try{const v=self.localStorage,f=wl();if(v)return v.setItem(f,"1"),v.removeItem(f),!function pp(v=(0,k.z$)()){return function gc(){return(0,k.w1)()&&11===document?.documentMode}()||function mc(v=(0,k.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,k.hl)()}catch{return uu()&&(0,k.hl)()}return!1}function uu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vh(){return(function pc(){return"http:"===fc()||"https:"===fc()}()||(0,k.ru)()||hp())&&!function fp(){return(0,k.b$)()||(0,k.UG)()}()&&Dm()&&!uu()}function jl(){return hp()&&typeof document<"u"}function As(){return(As=(0,h.Z)(function*(){return!!jl()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},cu=se,Cm="persistence";function Hr(v){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,h.Z)(function*(v){yield v._initializationPromise;const f=zl(),g=U(Cm,v.config.apiKey,v.name);f&&f.setItem(g,v._getPersistence())})).apply(this,arguments)}function zl(){var v;try{return(null===(v=function yc(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Sr=se;class Hi{constructor(){this.browserResolver=Un(gi),this.cordovaResolver=Un(TI),this.underlyingResolver=null,this._redirectPersistence=mo,this._completeRedirectFn=Pn,this._overrideRedirectResult=_r}_initialize(f){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,_,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,_,T)})()}_openRedirect(f,g,_,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,_,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return jl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Sr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const g=yield function $l(){return As.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ql(v){return v.unwrap()}function gp(v){return Zl(v)}function Zl(v){const{_tokenResponse:f}=v instanceof k.ZR?v.customData:v;if(!f)return null;if(!(v instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Io.credentialFromResult(v);const g=f.providerId;if(!g||g===de.PASSWORD)return null;let _;switch(g){case de.GOOGLE:_=Ci;break;case de.FACEBOOK:_=js;break;case de.GITHUB:_=Fu;break;case de.TWITTER:_=Lu;break;default:const{oauthIdToken:T,oauthAccessToken:N,oauthTokenSecret:B,pendingToken:W,nonce:Ne}=f;return N||B||T||W?W?g.startsWith("saml.")?kt._create(g,W):vt._fromParams({providerId:g,signInMethod:g,pendingToken:W,idToken:T,accessToken:N}):new ms(g).credential({idToken:T,accessToken:N,rawNonce:Ne}):null}return v instanceof k.ZR?_.credentialFromError(v):_.credentialFromResult(v)}function ii(v,f){return f.catch(g=>{throw g instanceof k.ZR&&function bm(v,f){var g;const _=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new n_(v,function Jd(v,f){var g;const _=(0,k.m9)(v),T=f;return se(f.customData.operationType,_,"argument-error"),se(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,_,"argument-error"),sa._fromError(_,T)}(v,f));else if(_){const T=Zl(f),N=f;T&&(N.credential=T,N.tenantId=_.tenantId||void 0,N.email=_.email||void 0,N.phoneNumber=_.phoneNumber||void 0)}}(v,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:gp(g),additionalUserInfo:Xf(g),user:Ao.getOrCreate(T)}})}function mp(v,f){return va.apply(this,arguments)}function va(){return(va=(0,h.Z)(function*(v,f){const g=yield f;return{verificationId:g.verificationId,confirm:_=>ii(v,g.confirm(_))}})).apply(this,arguments)}class n_{constructor(f,g){this.resolver=g,this.auth=function _h(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ii(ql(this.auth),this.resolver.resolveSignIn(f))}}class Ao{constructor(f){this._delegate=f,this.multiFactor=function Qu(v){const f=(0,k.m9)(v);return oa.has(f)||oa.set(f,po._fromUser(f)),oa.get(f)}(f)}static getOrCreate(f){return Ao.USER_MAP.has(f)||Ao.USER_MAP.set(f,new Ao(f)),Ao.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,h.Z)(function*(){return ii(g.auth,im(g._delegate,f))})()}linkWithPhoneNumber(f,g){var _=this;return(0,h.Z)(function*(){return mp(_.auth,function rn(v,f,g){return ft.apply(this,arguments)}(_._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,h.Z)(function*(){return ii(g.auth,function lm(v,f,g){return Ji.apply(this,arguments)}(g._delegate,f,Hi))})()}linkWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Hr($n(g.auth)),oc(g._delegate,f,Hi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,h.Z)(function*(){return ii(g.auth,sm(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return mp(this.auth,function br(v,f,g){return wo.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ii(this.auth,function Nl(v,f,g){return Ws.apply(this,arguments)}(this._delegate,f,Hi))}reauthenticateWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Hr($n(g.auth)),Xa(g._delegate,f,Hi)})()}sendEmailVerification(f){return function qu(v,f){return na.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,h.Z)(function*(){return yield function uo(v,f){return pi.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Zd(v,f){return Jf((0,k.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function Wd(v,f){return Jf((0,k.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function nc(v,f){return Ka.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Zv(v,f){return Zu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function pl(v,f,g){return Hs.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ao.USER_MAP=new WeakMap;const Mo=se;let Wl=(()=>{class v{constructor(g,_){if(this.app=g,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Mo(T,"invalid-api-key",{appName:g.name}),Mo(T,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?Hi:void 0;this._delegate=_.initialize({options:{persistence:Kl(T,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ao.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,_){!function Jr(v,f,g){const _=$n(v);se(_._canInitEmulator,_,"emulator-config-failed"),se(/^https?:\/\//.test(f),_,"invalid-emulator-scheme");const T=!!g?.disableWarnings,N=Wo(f),{host:B,port:W}=function rl(v){const f=Wo(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const _=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(_);if(T){const N=T[1];return{host:N,port:Ld(_.substr(N.length+1))}}{const[N,B]=_.split(":");return{host:N,port:Ld(B)}}}(f);_.config.emulator={url:`${N}//${B}${null===W?"":`:${W}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:B,port:W,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function tm(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,_)}applyActionCode(g){return function Gd(v,f){return Vr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ju(this._delegate,g)}confirmPasswordReset(g,_){return function co(v,f,g){return Bu.apply(this,arguments)}(this._delegate,g,_)}createUserWithEmailAndPassword(g,_){var T=this;return(0,h.Z)(function*(){return ii(T._delegate,function Wf(v,f,g){return Hu.apply(this,arguments)}(T._delegate,g,_))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function zd(v,f){return qd.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Kf(v,f){const g=yn.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){Mo(vh(),g._delegate,"operation-not-supported-in-this-environment");const _=yield function Ds(v,f){return Ks.apply(this,arguments)}(g._delegate,Hi);return _?ii(g._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function mh(v,f){$n(v)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,_,T){const{next:N,error:B,complete:W}=yp(g,_,T);return this._delegate.onAuthStateChanged(N,B,W)}onIdTokenChanged(g,_,T){const{next:N,error:B,complete:W}=yp(g,_,T);return this._delegate.onIdTokenChanged(N,B,W)}sendSignInLinkToEmail(g,_){return function lo(v,f,g){return Nn.apply(this,arguments)}(this._delegate,g,_)}sendPasswordResetEmail(g,_){return function qv(v,f,g){return $a.apply(this,arguments)}(this._delegate,g,_||void 0)}setPersistence(g){var _=this;return(0,h.Z)(function*(){let T;switch(function vc(v,f){cu(Object.values(Mi).includes(f),v,"invalid-persistence-type"),(0,k.b$)()?cu(f!==Mi.SESSION,v,"unsupported-persistence-type"):(0,k.UG)()?cu(f===Mi.NONE,v,"unsupported-persistence-type"):uu()?cu(f===Mi.NONE||f===Mi.LOCAL&&(0,k.hl)(),v,"unsupported-persistence-type"):cu(f===Mi.NONE||Dm(),v,"unsupported-persistence-type")}(_._delegate,g),g){case Mi.SESSION:T=mo;break;case Mi.LOCAL:T=(yield Un(_o)._isAvailable())?_o:go;break;case Mi.NONE:T=wi;break;default:return ve("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ii(this._delegate,function vr(v){return zf.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ii(this._delegate,ll(this._delegate,g))}signInWithCustomToken(g){return ii(this._delegate,function Hd(v,f){return ys.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,_){return ii(this._delegate,function Qi(v,f,g){return ll((0,k.m9)(v),so.credential(f,g))}(this._delegate,g,_))}signInWithEmailLink(g,_){return ii(this._delegate,function Ur(v,f,g){return Gu.apply(this,arguments)}(this._delegate,g,_))}signInWithPhoneNumber(g,_){return mp(this._delegate,function ca(v,f,g){return qs.apply(this,arguments)}(this._delegate,g,_))}signInWithPopup(g){var _=this;return(0,h.Z)(function*(){return Mo(vh(),_._delegate,"operation-not-supported-in-this-environment"),ii(_._delegate,function uh(v,f,g){return xl.apply(this,arguments)}(_._delegate,g,Hi))})()}signInWithRedirect(g){var _=this;return(0,h.Z)(function*(){return Mo(vh(),_._delegate,"operation-not-supported-in-this-environment"),yield Hr(_._delegate),Si(_._delegate,g,Hi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function fl(v,f){return ta.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Mi,v})();function yp(v,f,g){let _=v;"function"!=typeof v&&({next:_,error:f,complete:g}=v);const T=_;return{next:B=>T(B&&Ao.getOrCreate(B)),error:f,complete:g}}function Kl(v,f){const g=function Gl(v,f){const g=zl();if(!g)return[];const _=U(Cm,v,f);switch(g.getItem(_)){case Mi.NONE:return[wi];case Mi.LOCAL:return[_o,mo];case Mi.SESSION:return[mo];default:return[]}}(v,f);if(typeof self<"u"&&!g.includes(_o)&&g.push(_o),typeof window<"u")for(const _ of[go,mo])g.includes(_)||g.push(_);return g.includes(wi)||g.push(wi),g}class wh{constructor(){this.providerId="phone",this._delegate=new Io(ql(Q.Z.auth()))}static credential(f,g){return Io.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}wh.PHONE_SIGN_IN_METHOD=Io.PHONE_SIGN_IN_METHOD,wh.PROVIDER_ID=Io.PROVIDER_ID;const Tm=se;class Sm{constructor(f,g,_=Q.Z.app()){var T;Tm(null===(T=_.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Ml(f,g,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function i_(v){v.INTERNAL.registerComponent(new pe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),_=f.getProvider("auth");return new Wl(g,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:so,FacebookAuthProvider:js,GithubAuthProvider:Fu,GoogleAuthProvider:Ci,OAuthProvider:ms,SAMLAuthProvider:Qo,PhoneAuthProvider:wh,PhoneMultiFactorGenerator:Yv,RecaptchaVerifier:Sm,TwitterAuthProvider:Lu,Auth:Wl,AuthCredential:ro,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(Q.Z)},5861:(ot,De,P)=>{function h(k,J,ne,he,pe,Re,de){try{var L=k[Re](de),j=L.value}catch(Y){return void ne(Y)}L.done?J(j):Promise.resolve(j).then(he,pe)}function Q(k){return function(){var J=this,ne=arguments;return new Promise(function(he,pe){var Re=k.apply(J,ne);function de(j){h(Re,he,pe,de,L,"next",j)}function L(j){h(Re,he,pe,de,L,"throw",j)}de(void 0)})}}P.d(De,{Z:()=>Q})},7582:(ot,De,P)=>{function J(oe,le){var _e={};for(var we in oe)Object.prototype.hasOwnProperty.call(oe,we)&&le.indexOf(we)<0&&(_e[we]=oe[we]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(we=Object.getOwnPropertySymbols(oe);Ee<we.length;Ee++)le.indexOf(we[Ee])<0&&Object.prototype.propertyIsEnumerable.call(oe,we[Ee])&&(_e[we[Ee]]=oe[we[Ee]])}return _e}function Y(oe,le,_e,we){return new(_e||(_e=Promise))(function(be,Xe){function He(Zt){try{ht(we.next(Zt))}catch(Nt){Xe(Nt)}}function Mn(Zt){try{ht(we.throw(Zt))}catch(Nt){Xe(Nt)}}function ht(Zt){Zt.done?be(Zt.value):function Ee(be){return be instanceof _e?be:new _e(function(Xe){Xe(be)})}(Zt.value).then(He,Mn)}ht((we=we.apply(oe,le||[])).next())})}function te(oe){return this instanceof te?(this.v=oe,this):new te(oe)}function ve(oe,le,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,we=_e.apply(oe,le||[]),be=[];return Ee={},Xe("next"),Xe("throw"),Xe("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function Xe(pn){we[pn]&&(Ee[pn]=function(In){return new Promise(function(fr,nn){be.push([pn,In,fr,nn])>1||He(pn,In)})})}function He(pn,In){try{!function Mn(pn){pn.value instanceof te?Promise.resolve(pn.value.v).then(ht,Zt):Nt(be[0][2],pn)}(we[pn](In))}catch(fr){Nt(be[0][3],fr)}}function ht(pn){He("next",pn)}function Zt(pn){He("throw",pn)}function Nt(pn,In){pn(In),be.shift(),be.length&&He(be[0][0],be[0][1])}}function Ce(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,le=oe[Symbol.asyncIterator];return le?le.call(oe):(oe=function xe(oe){var le="function"==typeof Symbol&&Symbol.iterator,_e=le&&oe[le],we=0;if(_e)return _e.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&we>=oe.length&&(oe=void 0),{value:oe&&oe[we++],done:!oe}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),_e={},we("next"),we("throw"),we("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function we(be){_e[be]=oe[be]&&function(Xe){return new Promise(function(He,Mn){!function Ee(be,Xe,He,Mn){Promise.resolve(Mn).then(function(ht){be({value:ht,done:He})},Xe)}(He,Mn,(Xe=oe[be](Xe)).done,Xe.value)})}}}P.d(De,{FC:()=>ve,KL:()=>Ce,_T:()=>J,mG:()=>Y,qq:()=>te}),"function"==typeof SuppressedError&&SuppressedError}},ot=>{ot(ot.s=5539)}]);
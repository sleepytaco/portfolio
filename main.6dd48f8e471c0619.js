"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{6304:(ot,De,P)=>{P.d(De,{Dh:()=>Re,GT:()=>he,cc:()=>Se,hO:()=>Le,on:()=>L,pX:()=>ne,xv:()=>de});var h=P(5879),Q=P(7142),k=P(8186);ot=P.hmd(ot);const J=["ngOnDestroy"],ne=(Oe,ht,at,te={})=>new Proxy(Oe,{get:(ve,X)=>at.runOutsideAngular(()=>{var Ce;if(Oe[X])return!(null===(Ce=te?.spy)||void 0===Ce)&&Ce.get&&te.spy.get(X,Oe[X]),Oe[X];if(J.indexOf(X)>-1)return()=>{};const Pe=ht.toPromise().then(Ge=>{const se=Ge&&Ge[X];return"function"==typeof se?se.bind(Ge):se&&se.then?se.then(yt=>at.run(()=>yt)):at.run(()=>se)});return new Proxy(()=>{},{get:(Ge,se)=>Pe[se],apply:(Ge,se,yt)=>Pe.then(Ut=>{var lr;const Zr=Ut&&Ut(...yt);return!(null===(lr=te?.spy)||void 0===lr)&&lr.apply&&te.spy.apply(X,yt,Zr),Zr})})})}),he=(Oe,ht)=>{ht.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach(te=>{Object.defineProperty(Oe.prototype,te,Object.getOwnPropertyDescriptor(at.prototype||at,te))})})};class pe{constructor(ht){return ht}}const Re=new h.OlP("angularfire2.app.options"),de=new h.OlP("angularfire2.app.name");function L(Oe,ht,at){const ve="object"==typeof at&&at||{};ve.name=ve.name||"string"==typeof at&&at||"[DEFAULT]";const Ce=Q.Z.apps.filter(Pe=>Pe&&Pe.name===ve.name)[0]||ht.runOutsideAngular(()=>Q.Z.initializeApp(Oe,ve));try{JSON.stringify(Oe)!==JSON.stringify(Ce.options)&&j("error",`${Ce.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(Ce)}const j=(Oe,...ht)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Oe](...ht)},Y={provide:pe,useFactory:L,deps:[Re,h.R0b,[new h.FiY,de]]};let Le=(()=>{class Oe{constructor(at){Q.Z.registerVersion("angularfire",k.q4.full,"core"),Q.Z.registerVersion("angularfire",k.q4.full,"app-compat"),Q.Z.registerVersion("angular",h.q4F.full,at.toString())}static initializeApp(at,te){return{ngModule:Oe,providers:[{provide:Re,useValue:at},{provide:de,useValue:te}]}}}return Oe.\u0275fac=function(at){return new(at||Oe)(h.LFG(h.Lbi))},Oe.\u0275mod=h.oAB({type:Oe}),Oe.\u0275inj=h.cJS({providers:[Y]}),Oe})();function Se(Oe,ht,at,te,ve){const[,X,Ce]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Oe)||[];if(X)return function Ze(Oe,ht){try{return Oe.toString()===ht.toString()}catch{return Oe===ht}}(ve,Ce)||(ze("error",`${ht} was already initialized on the ${at} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),ze("warn",{is:ve,was:Ce})),X;{const Pe=te();return globalThis.\u0275AngularfireInstanceCache.push([Oe,Pe,ve]),Pe}}const xe=!!ot.hot,ze=(Oe,...ht)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Oe](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(ot,De,P)=>{P.d(De,{q4:()=>lh,iC:()=>Xs,HU:()=>Wf,vb:()=>ru,JM:()=>xo,u3:()=>Gn});var h=P(5879),Q=P(3182),k=P(5861),J=P(534),ne=P(9058),he=P(4537),pe=P(7879);const Re=(E,b)=>b.some(A=>E instanceof A);let de,L;const Le=new WeakMap,Se=new WeakMap,Ze=new WeakMap,xe=new WeakMap,ze=new WeakMap;let at={get(E,b,A){if(E instanceof IDBTransaction){if("done"===b)return Se.get(E);if("objectStoreNames"===b)return E.objectStoreNames||Ze.get(E);if("store"===b)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Ce(E[b])},set:(E,b,A)=>(E[b]=A,!0),has:(E,b)=>E instanceof IDBTransaction&&("done"===b||"store"===b)||b in E};function X(E){return"function"==typeof E?function ve(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...b){return E.apply(Pe(this),b),Ce(Le.get(this))}:function(...b){return Ce(E.apply(Pe(this),b))}:function(b,...A){const O=E.call(Pe(this),b,...A);return Ze.set(O,b.sort?b.sort():[b]),Ce(O)}}(E):(E instanceof IDBTransaction&&function ht(E){if(Se.has(E))return;const b=new Promise((A,O)=>{const $=()=>{E.removeEventListener("complete",Z),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},Z=()=>{A(),$()},ce=()=>{O(E.error||new DOMException("AbortError","AbortError")),$()};E.addEventListener("complete",Z),E.addEventListener("error",ce),E.addEventListener("abort",ce)});Se.set(E,b)}(E),Re(E,function j(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,at):E)}function Ce(E){if(E instanceof IDBRequest)return function Oe(E){const b=new Promise((A,O)=>{const $=()=>{E.removeEventListener("success",Z),E.removeEventListener("error",ce)},Z=()=>{A(Ce(E.result)),$()},ce=()=>{O(E.error),$()};E.addEventListener("success",Z),E.addEventListener("error",ce)});return b.then(A=>{A instanceof IDBCursor&&Le.set(A,E)}).catch(()=>{}),ze.set(b,E),b}(E);if(xe.has(E))return xe.get(E);const b=X(E);return b!==E&&(xe.set(E,b),ze.set(b,E)),b}const Pe=E=>ze.get(E),yt=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],lr=new Map;function Zr(E,b){if(!(E instanceof IDBDatabase)||b in E||"string"!=typeof b)return;if(lr.get(b))return lr.get(b);const A=b.replace(/FromIndex$/,""),O=b!==A,$=Ut.includes(A);if(!(A in(O?IDBIndex:IDBObjectStore).prototype)||!$&&!yt.includes(A))return;const Z=function(){var ce=(0,k.Z)(function*(je,...$e){const st=this.transaction(je,$?"readwrite":"readonly");let Dt=st.store;return O&&(Dt=Dt.index($e.shift())),(yield Promise.all([Dt[A](...$e),$&&st.done]))[0]});return function($e){return ce.apply(this,arguments)}}();return lr.set(b,Z),Z}!function te(E){at=E(at)}(E=>({...E,get:(b,A,O)=>Zr(b,A)||E.get(b,A,O),has:(b,A)=>!!Zr(b,A)||E.has(b,A)}));const hs="@firebase/installations",Bn="0.6.4",Wo=1e4,fs=`w:${Bn}`,oe="FIS_v2",le="https://firebaseinstallations.googleapis.com/v1",_e=36e5,Xe=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function Nn({projectId:E}){return`${le}/projects/${E}/installations`}function ft(E){return{token:E.token,requestStatus:2,expiresIn:xr(E.expiresIn),creationTime:Date.now()}}function qt(E,b){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,k.Z)(function*(E,b){const O=(yield b.json()).error;return Xe.create("request-failed",{requestName:E,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function gn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function dr(E){return nn.apply(this,arguments)}function nn(){return(nn=(0,k.Z)(function*(E){const b=yield E();return b.status>=500&&b.status<600?E():b})).apply(this,arguments)}function xr(E){return Number(E.replace("s","000"))}function di(){return(di=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:b},{fid:A}){const O=Nn(E),$=gn(E),Z=b.getImmediate({optional:!0});if(Z){const st=yield Z.getHeartbeatsHeader();st&&$.append("x-firebase-client",st)}const je={method:"POST",headers:$,body:JSON.stringify({fid:A,authVersion:oe,appId:E.appId,sdkVersion:fs})},$e=yield dr(()=>fetch(O,je));if($e.ok){const st=yield $e.json();return{fid:st.fid||A,registrationStatus:2,refreshToken:st.refreshToken,authToken:ft(st.authToken)}}throw yield qt("Create Installation",$e)})).apply(this,arguments)}function hi(E){return new Promise(b=>{setTimeout(b,E)})}const Oa=/^[cdef][\w-]{21}$/,lt="";function Bt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function At(E){return function Bs(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Oa.test(A)?A:lt}catch{return lt}}function un(E){return`${E.appName}!${E.appId}`}const Dn=new Map;function Wr(E,b){const A=un(E);ka(A,b),function Kt(E,b){const A=function jt(){return!Kr&&"BroadcastChannel"in self&&(Kr=new BroadcastChannel("[Firebase] FID Change"),Kr.onmessage=E=>{ka(E.data.key,E.data.fid)}),Kr}();A&&A.postMessage({key:E,fid:b}),function ps(){0===Dn.size&&Kr&&(Kr.close(),Kr=null)}()}(A,b)}function ka(E,b){const A=Dn.get(E);if(A)for(const O of A)O(b)}let Kr=null;const so="firebase-installations-database",oo=1,Ei="firebase-installations-store";let js=null;function $i(){return js||(js=function Ge(E,b,{blocked:A,upgrade:O,blocking:$,terminated:Z}={}){const ce=indexedDB.open(E,b),je=Ce(ce);return O&&ce.addEventListener("upgradeneeded",$e=>{O(Ce(ce.result),$e.oldVersion,$e.newVersion,Ce(ce.transaction))}),A&&ce.addEventListener("blocked",()=>A()),je.then($e=>{Z&&$e.addEventListener("close",()=>Z()),$&&$e.addEventListener("versionchange",()=>$())}).catch(()=>{}),je}(so,oo,{upgrade:(E,b)=>{0===b&&E.createObjectStore(Ei)}})),js}function Jn(E,b){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,k.Z)(function*(E,b){const A=un(E),$=(yield $i()).transaction(Ei,"readwrite"),Z=$.objectStore(Ei),ce=yield Z.get(A);return yield Z.put(b,A),yield $.done,(!ce||ce.fid!==b.fid)&&Wr(E,b.fid),b})).apply(this,arguments)}function Yr(E){return jn.apply(this,arguments)}function jn(){return(jn=(0,k.Z)(function*(E){const b=un(E),O=(yield $i()).transaction(Ei,"readwrite");yield O.objectStore(Ei).delete(b),yield O.done})).apply(this,arguments)}function Di(E,b){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,k.Z)(function*(E,b){const A=un(E),$=(yield $i()).transaction(Ei,"readwrite"),Z=$.objectStore(Ei),ce=yield Z.get(A),je=b(ce);return void 0===je?yield Z.delete(A):yield Z.put(je,A),yield $.done,je&&(!ce||ce.fid!==je.fid)&&Wr(E,je.fid),je})).apply(this,arguments)}function U(E){return V.apply(this,arguments)}function V(){return V=(0,k.Z)(function*(E){let b;const A=yield Di(E.appConfig,O=>{const $=function G(E){return Mt(E||{fid:Bt(),registrationStatus:0})}(O),Z=function Ie(E,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(Xe.create("app-offline"))};const A={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},O=function ie(E,b){return Ke.apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:O}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:Ct(E)}:{installationEntry:b}}(E,$);return b=Z.registrationPromise,Z.installationEntry});return A.fid===lt?{installationEntry:yield b}:{installationEntry:A,registrationPromise:b}}),V.apply(this,arguments)}function Ke(){return Ke=(0,k.Z)(function*(E,b){try{const A=yield function io(E,b){return di.apply(this,arguments)}(E,b);return Jn(E.appConfig,A)}catch(A){throw He(A)&&409===A.customData.serverCode?yield Yr(E.appConfig):yield Jn(E.appConfig,{fid:b.fid,registrationStatus:0}),A}}),Ke.apply(this,arguments)}function Ct(E){return wt.apply(this,arguments)}function wt(){return(wt=(0,k.Z)(function*(E){let b=yield er(E.appConfig);for(;1===b.registrationStatus;)yield hi(100),b=yield er(E.appConfig);if(0===b.registrationStatus){const{installationEntry:A,registrationPromise:O}=yield U(E);return O||A}return b})).apply(this,arguments)}function er(E){return Di(E,b=>{if(!b)throw Xe.create("installation-not-found");return Mt(b)})}function Mt(E){return function Cn(E){return 1===E.registrationStatus&&E.registrationTime+Wo<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function qn(){return(qn=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:b},A){const O=function Qi(E,{fid:b}){return`${Nn(E)}/${b}/authTokens:generate`}(E,A),$=function En(E,{refreshToken:b}){const A=gn(E);return A.append("Authorization",function li(E){return`${oe} ${E}`}(b)),A}(E,A),Z=b.getImmediate({optional:!0});if(Z){const st=yield Z.getHeartbeatsHeader();st&&$.append("x-firebase-client",st)}const je={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:fs,appId:E.appId}})},$e=yield dr(()=>fetch(O,je));if($e.ok)return ft(yield $e.json());throw yield qt("Generate Auth Token",$e)})).apply(this,arguments)}function gs(E){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,k.Z)(function*(E,b=!1){let A;const O=yield Di(E.appConfig,Z=>{if(!Rt(Z))throw Xe.create("not-registered");const ce=Z.authToken;if(!b&&function Zt(E){return 2===E.requestStatus&&!function $n(E){const b=Date.now();return b<E.creationTime||E.creationTime+E.expiresIn<b+_e}(E)}(ce))return Z;if(1===ce.requestStatus)return A=function ue(E,b){return ee.apply(this,arguments)}(E,b),Z;{if(!navigator.onLine)throw Xe.create("app-offline");const je=function Hn(E){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:b})}(Z);return A=function nt(E,b){return qe.apply(this,arguments)}(E,je),je}});return A?yield A:O.authToken}),Fa.apply(this,arguments)}function ee(){return(ee=(0,k.Z)(function*(E,b){let A=yield Me(E.appConfig);for(;1===A.authToken.requestStatus;)yield hi(100),A=yield Me(E.appConfig);const O=A.authToken;return 0===O.requestStatus?gs(E,b):O})).apply(this,arguments)}function Me(E){return Di(E,b=>{if(!Rt(b))throw Xe.create("not-registered");return function fr(E){return 1===E.requestStatus&&E.requestTime+Wo<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function qe(){return qe=(0,k.Z)(function*(E,b){try{const A=yield function zt(E,b){return qn.apply(this,arguments)}(E,b),O=Object.assign(Object.assign({},b),{authToken:A});return yield Jn(E.appConfig,O),A}catch(A){if(!He(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const O=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield Jn(E.appConfig,O)}else yield Yr(E.appConfig);throw A}}),qe.apply(this,arguments)}function Rt(E){return void 0!==E&&2===E.registrationStatus}function Ko(){return(Ko=(0,k.Z)(function*(E){const b=E,{installationEntry:A,registrationPromise:O}=yield U(b);return O?O.catch(console.error):gs(b).catch(console.error),A.fid})).apply(this,arguments)}function Yo(){return Yo=(0,k.Z)(function*(E,b=!1){const A=E;return yield function Xc(E){return bi.apply(this,arguments)}(A),(yield gs(A,b)).token}),Yo.apply(this,arguments)}function bi(){return(bi=(0,k.Z)(function*(E){const{registrationPromise:b}=yield U(E);b&&(yield b)})).apply(this,arguments)}function Jo(E){return Xe.create("missing-app-config-values",{valueName:E})}const tl="installations",ym=E=>{const b=E.getProvider("app").getImmediate(),A=function Qr(E){if(!E||!E.options)throw Jo("App Configuration");if(!E.name)throw Jo("App Name");const b=["projectId","apiKey","appId"];for(const A of b)if(!E.options[A])throw Jo(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(b);return{app:b,appConfig:A,heartbeatServiceProvider:(0,J._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},uo=E=>{const b=E.getProvider("app").getImmediate(),A=(0,J._getProvider)(b,tl).getImmediate();return{getId:()=>function Ji(E){return Ko.apply(this,arguments)}(A),getToken:$=>function Jc(E){return Yo.apply(this,arguments)}(A,$)}};(function Af(){(0,J._registerComponent)(new he.wA(tl,ym,"PUBLIC")),(0,J._registerComponent)(new he.wA("installations-internal",uo,"PRIVATE"))})(),(0,J.registerVersion)(hs,Bn),(0,J.registerVersion)(hs,Bn,"esm2017");const La="@firebase/remote-config",Ir=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vt{constructor(b,A,O,$){this.client=b,this.storage=A,this.storageCache=O,this.logger=$}isCachedDataFresh(b,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-A,$=O<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${$}.`),$}fetch(b){var A=this;return(0,k.Z)(function*(){const[O,$]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if($&&A.isCachedDataFresh(b.cacheMaxAgeMillis,O))return $;b.eTag=$&&$.eTag;const Z=yield A.client.fetch(b),ce=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&ce.push(A.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(ce),Z})()}}function yn(E=navigator){return E.languages&&E.languages[0]||E.language}class Pr{constructor(b,A,O,$,Z,ce){this.firebaseInstallations=b,this.sdkVersion=A,this.namespace=O,this.projectId=$,this.apiKey=Z,this.appId=ce}fetch(b){var A=this;return(0,k.Z)(function*(){const[O,$]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},$e={sdk_version:A.sdkVersion,app_instance_id:O,app_instance_id_token:$,app_id:A.appId,language_code:yn()},st={method:"POST",headers:je,body:JSON.stringify($e)},Dt=fetch(ce,st),Tt=new Promise((pi,xs)=>{b.signal.addEventListener(()=>{const dc=new Error("The operation was aborted.");dc.name="AbortError",xs(dc)})});let cn;try{yield Promise.race([Dt,Tt]),cn=yield Dt}catch(pi){let xs="fetch-client-network";throw"AbortError"===pi?.name&&(xs="fetch-timeout"),Ir.create(xs,{originalErrorMessage:pi?.message})}let wn=cn.status;const As=cn.headers.get("ETag")||void 0;let va,Ms;if(200===cn.status){let pi;try{pi=yield cn.json()}catch(xs){throw Ir.create("fetch-client-parse",{originalErrorMessage:xs?.message})}va=pi.entries,Ms=pi.state}if("INSTANCE_STATE_UNSPECIFIED"===Ms?wn=500:"NO_CHANGE"===Ms?wn=304:("NO_TEMPLATE"===Ms||"EMPTY_CONFIG"===Ms)&&(va={}),304!==wn&&200!==wn)throw Ir.create("fetch-status",{httpStatus:wn});return{status:wn,eTag:As,config:va}})()}}class Ba{constructor(b,A){this.client=b,this.storage=A}fetch(b){var A=this;return(0,k.Z)(function*(){const O=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(b,O)})()}attemptFetch(b,{throttleEndTimeMillis:A,backoffCount:O}){var $=this;return(0,k.Z)(function*(){yield function co(E,b){return new Promise((A,O)=>{const $=Math.max(b-Date.now(),0),Z=setTimeout(A,$);E.addEventListener(()=>{clearTimeout(Z),O(Ir.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,A);try{const Z=yield $.client.fetch(b);return yield $.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function pr(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const b=Number(E.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Z))throw Z;const ce={throttleEndTimeMillis:Date.now()+(0,ne.$s)(O),backoffCount:O+1};return yield $.storage.setThrottleMetadata(ce),$.attemptFetch(b,ce)}})()}}class ea{constructor(b,A,O,$,Z){this.app=b,this._client=A,this._storageCache=O,this._storage=$,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Et(E,b){const A=E.target.error||void 0;return Ir.create(b,{originalErrorMessage:A&&A?.message})}const gr="app_namespace_store";class sl{constructor(b,A,O,$=function vn(){return new Promise((E,b)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=O=>{b(Et(O,"storage-open"))},A.onsuccess=O=>{E(O.target.result)},A.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(gr,{keyPath:"compositeKey"})}}catch(A){b(Ir.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=b,this.appName=A,this.namespace=O,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var A=this;return(0,k.Z)(function*(){const O=yield A.openDbPromise;return new Promise(($,Z)=>{const je=O.transaction([gr],"readonly").objectStore(gr),$e=A.createCompositeKey(b);try{const st=je.get($e);st.onerror=Dt=>{Z(Et(Dt,"storage-get"))},st.onsuccess=Dt=>{const Tt=Dt.target.result;$(Tt?Tt.value:void 0)}}catch(st){Z(Ir.create("storage-get",{originalErrorMessage:st?.message}))}})})()}set(b,A){var O=this;return(0,k.Z)(function*(){const $=yield O.openDbPromise;return new Promise((Z,ce)=>{const $e=$.transaction([gr],"readwrite").objectStore(gr),st=O.createCompositeKey(b);try{const Dt=$e.put({compositeKey:st,value:A});Dt.onerror=Tt=>{ce(Et(Tt,"storage-set"))},Dt.onsuccess=()=>{Z()}}catch(Dt){ce(Ir.create("storage-set",{originalErrorMessage:Dt?.message}))}})})()}delete(b){var A=this;return(0,k.Z)(function*(){const O=yield A.openDbPromise;return new Promise(($,Z)=>{const je=O.transaction([gr],"readwrite").objectStore(gr),$e=A.createCompositeKey(b);try{const st=je.delete($e);st.onerror=Dt=>{Z(Et(Dt,"storage-delete"))},st.onsuccess=()=>{$()}}catch(st){Z(Ir.create("storage-delete",{originalErrorMessage:st?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class lo{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,k.Z)(function*(){const A=b.storage.getLastFetchStatus(),O=b.storage.getLastSuccessfulFetchTimestampMillis(),$=b.storage.getActiveConfig(),Z=yield A;Z&&(b.lastFetchStatus=Z);const ce=yield O;ce&&(b.lastSuccessfulFetchTimestampMillis=ce);const je=yield $;je&&(b.activeConfig=je)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function zs(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,k.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function tr(){(0,J._registerComponent)(new he.wA("remote-config",function E(b,{instanceIdentifier:A}){const O=b.getProvider("app").getImmediate(),$=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ir.create("registration-window");if(!(0,ne.hl)())throw Ir.create("indexed-db-unavailable");const{projectId:Z,apiKey:ce,appId:je}=O.options;if(!Z)throw Ir.create("registration-project-id");if(!ce)throw Ir.create("registration-api-key");if(!je)throw Ir.create("registration-app-id");const $e=new sl(je,O.name,A=A||"firebase"),st=new lo($e),Dt=new pe.Yd(La);Dt.logLevel=pe.in.ERROR;const Tt=new Pr($,J.SDK_VERSION,A,Z,ce,je),cn=new Ba(Tt,$e),wn=new vt(cn,$e,st,Dt),As=new ea(O,wn,st,$e,Dt);return function Nr(E){const b=(0,ne.m9)(E);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(As),As},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(La,"0.4.4"),(0,J.registerVersion)(La,"0.4.4","esm2017")}();const Vu=(E,b)=>b.some(A=>E instanceof A);let ho,Lt;const Uu=new WeakMap,nr=new WeakMap,fo=new WeakMap,rr=new WeakMap,Gs=new WeakMap;let ir={get(E,b,A){if(E instanceof IDBTransaction){if("done"===b)return nr.get(E);if("objectStoreNames"===b)return E.objectStoreNames||fo.get(E);if("store"===b)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return fi(E[b])},set:(E,b,A)=>(E[b]=A,!0),has:(E,b)=>E instanceof IDBTransaction&&("done"===b||"store"===b)||b in E};function po(E){return"function"==typeof E?function Bu(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ta(){return Lt||(Lt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...b){return E.apply(Jr(this),b),fi(Uu.get(this))}:function(...b){return fi(E.apply(Jr(this),b))}:function(b,...A){const O=E.call(Jr(this),b,...A);return fo.set(O,b.sort?b.sort():[b]),fi(O)}}(E):(E instanceof IDBTransaction&&function Nf(E){if(nr.has(E))return;const b=new Promise((A,O)=>{const $=()=>{E.removeEventListener("complete",Z),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},Z=()=>{A(),$()},ce=()=>{O(E.error||new DOMException("AbortError","AbortError")),$()};E.addEventListener("complete",Z),E.addEventListener("error",ce),E.addEventListener("abort",ce)});nr.set(E,b)}(E),Vu(E,function vm(){return ho||(ho=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ir):E)}function fi(E){if(E instanceof IDBRequest)return function mr(E){const b=new Promise((A,O)=>{const $=()=>{E.removeEventListener("success",Z),E.removeEventListener("error",ce)},Z=()=>{A(fi(E.result)),$()},ce=()=>{O(E.error),$()};E.addEventListener("success",Z),E.addEventListener("error",ce)});return b.then(A=>{A instanceof IDBCursor&&Uu.set(A,E)}).catch(()=>{}),Gs.set(b,E),b}(E);if(rr.has(E))return rr.get(E);const b=po(E);return b!==E&&(rr.set(E,b),Gs.set(b,E)),b}const Jr=E=>Gs.get(E);function na(E,b,{blocked:A,upgrade:O,blocking:$,terminated:Z}={}){const ce=indexedDB.open(E,b),je=fi(ce);return O&&ce.addEventListener("upgradeneeded",$e=>{O(fi(ce.result),$e.oldVersion,$e.newVersion,fi(ce.transaction))}),A&&ce.addEventListener("blocked",()=>A()),je.then($e=>{Z&&$e.addEventListener("close",()=>Z()),$&&$e.addEventListener("versionchange",()=>$())}).catch(()=>{}),je}function ra(E,{blocked:b}={}){const A=indexedDB.deleteDatabase(E);return b&&A.addEventListener("blocked",()=>b()),fi(A).then(()=>{})}const ol=["get","getKey","getAll","getAllKeys","count"],_m=["put","add","delete","clear"],ju=new Map;function al(E,b){if(!(E instanceof IDBDatabase)||b in E||"string"!=typeof b)return;if(ju.get(b))return ju.get(b);const A=b.replace(/FromIndex$/,""),O=b!==A,$=_m.includes(A);if(!(A in(O?IDBIndex:IDBObjectStore).prototype)||!$&&!ol.includes(A))return;const Z=function(){var ce=(0,k.Z)(function*(je,...$e){const st=this.transaction(je,$?"readwrite":"readonly");let Dt=st.store;return O&&(Dt=Dt.index($e.shift())),(yield Promise.all([Dt[A](...$e),$&&st.done]))[0]});return function($e){return ce.apply(this,arguments)}}();return ju.set(b,Z),Z}!function Er(E){ir=E(ir)}(E=>({...E,get:(b,A,O)=>al(b,A)||E.get(b,A,O),has:(b,A)=>!!al(b,A)||E.has(b,A)}));const jd="/firebase-messaging-sw.js",ul="/firebase-cloud-messaging-push-scope",$d="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wm="https://fcmregistrations.googleapis.com/v1",_n="google.c.a.c_id",Im="google.c.a.c_l",Rf="google.c.a.ts";var Hd=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(Hd||{});function ws(E){const b=new Uint8Array(E);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cl(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(A),$=new Uint8Array(O.length);for(let Z=0;Z<O.length;++Z)$[Z]=O.charCodeAt(Z);return $}const ia="fcm_token_details_db",ll=5,ja="fcm_token_object_Store";function $a(){return $a=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Z=>Z.name).includes(ia))return null;let b=null;return(yield na(ia,ll,{upgrade:(O=(0,k.Z)(function*($,Z,ce,je){var $e;if(Z<2||!$.objectStoreNames.contains(ja))return;const st=je.objectStore(ja),Dt=yield st.index("fcmSenderId").get(E);if(yield st.clear(),Dt)if(2===Z){const Tt=Dt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;b={token:Tt.fcmToken,createTime:null!==($e=Tt.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:ws(Tt.vapidKey)}}}else if(3===Z){const Tt=Dt;b={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:ws(Tt.auth),p256dh:ws(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:ws(Tt.vapidKey)}}}else if(4===Z){const Tt=Dt;b={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:ws(Tt.auth),p256dh:ws(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:ws(Tt.vapidKey)}}}}),function(Z,ce,je,$e){return O.apply(this,arguments)})})).close(),yield ra(ia),yield ra("fcm_vapid_details_db"),yield ra("undefined"),function go(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:b}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}(b)?b:null;var O}),$a.apply(this,arguments)}const $u="firebase-messaging-database",zd=1,Or="firebase-messaging-store";let Hu=null;function zu(){return Hu||(Hu=na($u,zd,{upgrade:(E,b)=>{0===b&&E.createObjectStore(Or)}})),Hu}function dl(E){return sa.apply(this,arguments)}function sa(){return sa=(0,k.Z)(function*(E){const b=Pn(E),O=yield(yield zu()).transaction(Or).objectStore(Or).get(b);if(O)return O;{const $=yield function Wv(E){return $a.apply(this,arguments)}(E.appConfig.senderId);if($)return yield Of(E,$),$}}),sa.apply(this,arguments)}function Of(E,b){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,k.Z)(function*(E,b){const A=Pn(E),$=(yield zu()).transaction(Or,"readwrite");return yield $.objectStore(Or).put(b,A),yield $.done,b})).apply(this,arguments)}function mo(){return(mo=(0,k.Z)(function*(E){const b=Pn(E),O=(yield zu()).transaction(Or,"readwrite");yield O.objectStore(Or).delete(b),yield O.done})).apply(this,arguments)}function Pn({appConfig:E}){return E.appId}const kr=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qu(E,b){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,k.Z)(function*(E,b){const A=yield hl(E),O=Ff(b),$={method:"POST",headers:A,body:JSON.stringify(O)};let Z;try{Z=yield(yield fetch(oa(E.appConfig),$)).json()}catch(ce){throw kr.create("token-subscribe-failed",{errorInfo:ce?.toString()})}if(Z.error)throw kr.create("token-subscribe-failed",{errorInfo:Z.error.message});if(!Z.token)throw kr.create("token-subscribe-no-token");return Z.token})).apply(this,arguments)}function Gd(){return(Gd=(0,k.Z)(function*(E,b){const A=yield hl(E),O=Ff(b.subscriptionOptions),$={method:"PATCH",headers:A,body:JSON.stringify(O)};let Z;try{Z=yield(yield fetch(`${oa(E.appConfig)}/${b.token}`,$)).json()}catch(ce){throw kr.create("token-update-failed",{errorInfo:ce?.toString()})}if(Z.error)throw kr.create("token-update-failed",{errorInfo:Z.error.message});if(!Z.token)throw kr.create("token-update-no-token");return Z.token})).apply(this,arguments)}function qd(E,b){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,k.Z)(function*(E,b){const O={method:"DELETE",headers:yield hl(E)};try{const Z=yield(yield fetch(`${oa(E.appConfig)}/${b}`,O)).json();if(Z.error)throw kr.create("token-unsubscribe-failed",{errorInfo:Z.error.message})}catch($){throw kr.create("token-unsubscribe-failed",{errorInfo:$?.toString()})}})).apply(this,arguments)}function oa({projectId:E}){return`${wm}/projects/${E}/registrations`}function hl(E){return qs.apply(this,arguments)}function qs(){return(qs=(0,k.Z)(function*({appConfig:E,installations:b}){const A=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Ff({p256dh:E,auth:b,endpoint:A,vapidKey:O}){const $={web:{endpoint:A,auth:b,p256dh:E}};return O!==$d&&($.web.applicationPubKey=O),$}const Lf=6048e5;function Ku(){return Ku=(0,k.Z)(function*(E){const b=yield function za(E,b){return fl.apply(this,arguments)}(E.swRegistration,E.vapidKey),A={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:b.endpoint,auth:ws(b.getKey("auth")),p256dh:ws(b.getKey("p256dh"))},O=yield dl(E.firebaseDependencies);if(O){if(function Yd(E,b){return b.vapidKey===E.vapidKey&&b.endpoint===E.endpoint&&b.auth===E.auth&&b.p256dh===E.p256dh}(O.subscriptionOptions,A))return Date.now()>=O.createTime+Lf?function Vf(E,b){return aa.apply(this,arguments)}(E,{token:O.token,createTime:Date.now(),subscriptionOptions:A}):O.token;try{yield qd(E.firebaseDependencies,O.token)}catch($){console.warn($)}return Kd(E.firebaseDependencies,A)}return Kd(E.firebaseDependencies,A)}),Ku.apply(this,arguments)}function Wd(){return Wd=(0,k.Z)(function*(E){const b=yield dl(E.firebaseDependencies);b&&(yield qd(E.firebaseDependencies,b.token),yield function Xi(E){return mo.apply(this,arguments)}(E.firebaseDependencies));const A=yield E.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Wd.apply(this,arguments)}function aa(){return aa=(0,k.Z)(function*(E,b){try{const A=yield function Ha(E,b){return Gd.apply(this,arguments)}(E.firebaseDependencies,b),O=Object.assign(Object.assign({},b),{token:A,createTime:Date.now()});return yield Of(E.firebaseDependencies,O),A}catch(A){throw yield function Zd(E){return Wd.apply(this,arguments)}(E),A}}),aa.apply(this,arguments)}function Kd(E,b){return yo.apply(this,arguments)}function yo(){return(yo=(0,k.Z)(function*(E,b){const O={token:yield qu(E,b),createTime:Date.now(),subscriptionOptions:b};return yield Of(E,O),O.token})).apply(this,arguments)}function fl(){return(fl=(0,k.Z)(function*(E,b){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cl(b)})})).apply(this,arguments)}function Yu(E){const b={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function vo(E,b){if(!b.notification)return;E.notification={};const A=b.notification.title;A&&(E.notification.title=A);const O=b.notification.body;O&&(E.notification.body=O);const $=b.notification.image;$&&(E.notification.image=$);const Z=b.notification.icon;Z&&(E.notification.icon=Z)}(b,E),function Uf(E,b){b.data&&(E.data=b.data)}(b,E),function Mi(E,b){var A,O,$,Z,ce;if(!(b.fcmOptions||null!==(A=b.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const je=null!==($=null===(O=b.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==$?$:null===(Z=b.notification)||void 0===Z?void 0:Z.click_action;je&&(E.fcmOptions.link=je);const $e=null===(ce=b.fcmOptions)||void 0===ce?void 0:ce.analytics_label;$e&&(E.fcmOptions.analyticsLabel=$e)}(b,E),b}function pl(E,b){const A=[];for(let O=0;O<E.length;O++)A.push(E.charAt(O)),O<b.length&&A.push(b.charAt(O));return A.join("")}function ua(E){return kr.create("missing-app-config-values",{valueName:E})}pl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qu{constructor(b,A,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function dn(E){if(!E||!E.options)throw ua("App Configuration Object");if(!E.name)throw ua("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const O of b)if(!A[O])throw ua(O);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:$,installations:A,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Ju(){return(Ju=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(jd,{scope:ul}),E.swRegistration.update().catch(()=>{})}catch(b){throw kr.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function xi(){return(xi=(0,k.Z)(function*(E,b){if(!b&&!E.swRegistration&&(yield function Fr(E){return Ju.apply(this,arguments)}(E)),b||!E.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw kr.create("invalid-sw-registration");E.swRegistration=b}})).apply(this,arguments)}function ca(){return(ca=(0,k.Z)(function*(E,b){b?E.vapidKey=b:E.vapidKey||(E.vapidKey=$d)})).apply(this,arguments)}function gl(){return gl=(0,k.Z)(function*(E,b){if(!navigator)throw kr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kr.create("permission-blocked");return yield function On(E,b){return ca.apply(this,arguments)}(E,b?.vapidKey),yield function Qd(E,b){return xi.apply(this,arguments)}(E,b?.serviceWorkerRegistration),function Kv(E){return Ku.apply(this,arguments)}(E)}),gl.apply(this,arguments)}function ml(){return(ml=(0,k.Z)(function*(E,b,A){const O=function jf(E){switch(E){case Hd.NOTIFICATION_CLICKED:return"notification_open";case Hd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(b);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:A[_n],message_name:A[Im],message_time:A[Rf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _o(){return _o=(0,k.Z)(function*(E,b){const A=b.data;if(!A.isFirebaseMessaging)return;E.onMessageHandler&&A.messageType===Hd.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Yu(A)):E.onMessageHandler.next(Yu(A)));const O=A.data;(function Bf(E){return"object"==typeof E&&!!E&&_n in E})(O)&&"1"===O["google.c.a.e"]&&(yield function Zs(E,b,A){return ml.apply(this,arguments)}(E,A.messageType,O))}),_o.apply(this,arguments)}const la="@firebase/messaging",It=E=>{const b=new Qu(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Xd(E,b){return _o.apply(this,arguments)}(b,A)),b},eh=E=>{const b=E.getProvider("messaging").getImmediate();return{getToken:O=>function Jd(E,b){return gl.apply(this,arguments)}(b,O)}};function th(){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,k.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $f(){(0,J._registerComponent)(new he.wA("messaging",It,"PUBLIC")),(0,J._registerComponent)(new he.wA("messaging-internal",eh,"PRIVATE")),(0,J.registerVersion)(la,"0.12.4"),(0,J.registerVersion)(la,"0.12.4","esm2017")}();const fe="analytics",Wt="firebase_id",ec="origin",nh=6e4,Zn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qa="https://www.googletagmanager.com/gtag/js",bn=new pe.Yd("@firebase/analytics"),sr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Eo(E){if(!E.startsWith(qa)){const b=sr.create("invalid-gtag-resource",{gtagURL:E});return bn.warn(b.message),""}return E}function _l(E){return Promise.all(E.map(b=>b.catch(A=>A)))}function Do(){return(Do=(0,k.Z)(function*(E,b,A,O,$,Z){const ce=O[$];try{if(ce)yield b[ce];else{const $e=(yield _l(A)).find(st=>st.measurementId===$);$e&&(yield b[$e.appId])}}catch(je){bn.error(je)}E("config",$,Z)})).apply(this,arguments)}function or(){return(or=(0,k.Z)(function*(E,b,A,O,$){try{let Z=[];if($&&$.send_to){let ce=$.send_to;Array.isArray(ce)||(ce=[ce]);const je=yield _l(A);for(const $e of ce){const st=je.find(Tt=>Tt.measurementId===$e),Dt=st&&b[st.appId];if(!Dt){Z=[];break}Z.push(Dt)}}0===Z.length&&(Z=Object.values(b)),yield Promise.all(Z),E("event",O,$||{})}catch(Z){bn.error(Z)}})).apply(this,arguments)}const rh=30,ih=new class Co{constructor(b={},A=1e3){this.throttleMetadata=b,this.intervalMillis=A}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,A){this.throttleMetadata[b]=A}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function Cl(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function bl(){return(bl=(0,k.Z)(function*(E){var b;const{appId:A,apiKey:O}=E,$={method:"GET",headers:Cl(O)},Z=Zn.replace("{app-id}",A),ce=yield fetch(Z,$);if(200!==ce.status&&304!==ce.status){let je="";try{const $e=yield ce.json();null!==(b=$e.error)&&void 0!==b&&b.message&&(je=$e.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:ce.status,responseMessage:je})}return ce.json()})).apply(this,arguments)}function ha(){return(ha=(0,k.Z)(function*(E,b=ih,A){const{appId:O,apiKey:$,measurementId:Z}=E.options;if(!O)throw sr.create("no-app-id");if(!$){if(Z)return{measurementId:Z,appId:O};throw sr.create("no-api-key")}const ce=b.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new qf;return setTimeout((0,k.Z)(function*(){je.abort()}),void 0!==A?A:nh),oh({appId:O,apiKey:$,measurementId:Z},ce,je,b)})).apply(this,arguments)}function oh(E,b,A){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,k.Z)(function*(E,{throttleEndTimeMillis:b,backoffCount:A},O,$=ih){var Z;const{appId:ce,measurementId:je}=E;try{yield function Gf(E,b){return new Promise((A,O)=>{const $=Math.max(b-Date.now(),0),Z=setTimeout(A,$);E.addEventListener(()=>{clearTimeout(Z),O(sr.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(O,b)}catch($e){if(je)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:ce,measurementId:je};throw $e}try{const $e=yield function Dm(E){return bl.apply(this,arguments)}(E);return $.deleteThrottleMetadata(ce),$e}catch($e){const st=$e;if(!function tc(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const b=Number(E.customData.httpStatus);return 429===b||500===b||503===b||504===b}(st)){if($.deleteThrottleMetadata(ce),je)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:ce,measurementId:je};throw $e}const Dt=503===Number(null===(Z=st?.customData)||void 0===Z?void 0:Z.httpStatus)?(0,ne.$s)(A,$.intervalMillis,rh):(0,ne.$s)(A,$.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+Dt,backoffCount:A+1};return $.setThrottleMetadata(ce,Tt),bn.debug(`Calling attemptFetch again in ${Dt} millis`),oh(E,Tt,O,$)}}),Tl.apply(this,arguments)}class qf{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let nc,Dr;function Ws(){return(Ws=(0,k.Z)(function*(E,b,A,O,$){if($&&$.global)E("event",A,O);else{const Z=yield b;E("event",A,Object.assign(Object.assign({},O),{send_to:Z}))}})).apply(this,arguments)}function ic(){return(ic=(0,k.Z)(function*(){if(!(0,ne.hl)())return bn.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return bn.warn(sr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function To(){return To=(0,k.Z)(function*(E,b,A,O,$,Z,ce){var je;const $e=function sh(E){return ha.apply(this,arguments)}(E);$e.then(wn=>{A[wn.measurementId]=wn.appId,E.options.measurementId&&wn.measurementId!==E.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wn=>bn.error(wn)),b.push($e);const st=function Wa(){return ic.apply(this,arguments)}().then(wn=>{if(wn)return O.getId()}),[Dt,Tt]=yield Promise.all([$e,st]);(function Dl(E){const b=window.document.getElementsByTagName("script");for(const A of Object.values(b))if(A.src&&A.src.includes(qa)&&A.src.includes(E))return A;return null})(Z)||function Za(E,b){const A=function wl(E,b){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,b)),A}("firebase-js-sdk-policy",{createScriptURL:Eo}),O=document.createElement("script"),$=`${qa}?l=${E}&id=${b}`;O.src=A?A?.createScriptURL($):$,O.async=!0,document.head.appendChild(O)}(Z,Dt.measurementId),Dr&&($("consent","default",Dr),function bo(E){Dr=E}(void 0)),$("js",new Date);const cn=null!==(je=ce?.config)&&void 0!==je?je:{};return cn[ec]="firebase",cn.update=!0,null!=Tt&&(cn[Wt]=Tt),$("config",Dt.measurementId,cn),nc&&($("set",nc),function Ys(E){nc=E}(void 0)),Dt.measurementId}),To.apply(this,arguments)}class Lr{constructor(b){this.app=b}_delete(){return delete mt[this.app.options.appId],Promise.resolve()}}let mt={},ah=[];const Zf={};let sc,Sn,So="dataLayer",uh=!1;function Qs(E,b,A){!function Ml(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const b=E.map((O,$)=>`(${$+1}) ${O}`).join(" "),A=sr.create("invalid-analytics-context",{errorInfo:b});bn.warn(A.message)}}();const O=E.options.appId;if(!O)throw sr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw sr.create("no-api-key");bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mt[O])throw sr.create("already-exists",{id:O});if(!uh){!function Xr(E){let b=[];Array.isArray(window[E])?b=window[E]:window[E]=b}(So);const{wrappedGtag:Z,gtagCore:ce}=function El(E,b,A,O,$){let Z=function(...ce){window[O].push(arguments)};return window[$]&&"function"==typeof window[$]&&(Z=window[$]),window[$]=function Il(E,b,A,O){function Z(){return Z=(0,k.Z)(function*(ce,...je){try{if("event"===ce){const[$e,st]=je;yield function Is(E,b,A,O,$){return or.apply(this,arguments)}(E,b,A,$e,st)}else if("config"===ce){const[$e,st]=je;yield function zi(E,b,A,O,$,Z){return Do.apply(this,arguments)}(E,b,A,O,$e,st)}else if("consent"===ce){const[$e]=je;E("consent","update",$e)}else if("get"===ce){const[$e,st,Dt]=je;E("get",$e,st,Dt)}else if("set"===ce){const[$e]=je;E("set",$e)}else E(ce,...je)}catch($e){bn.error($e)}}),Z.apply(this,arguments)}return function $(ce){return Z.apply(this,arguments)}}(Z,E,b,A),{gtagCore:Z,wrappedGtag:window[$]}}(mt,ah,Zf,So,"gtag");Sn=Z,sc=ce,uh=!0}return mt[O]=function Ka(E,b,A,O,$,Z,ce){return To.apply(this,arguments)}(E,ah,Zf,b,sc,So,A),new Lr(E)}function Es(){return pa.apply(this,arguments)}function pa(){return(pa=(0,k.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Mo="@firebase/analytics";!function vr(){(0,J._registerComponent)(new he.wA(fe,(b,{options:A})=>Qs(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,J._registerComponent)(new he.wA("analytics-internal",function E(b){try{const A=b.getProvider(fe).getImmediate();return{logEvent:(O,$,Z)=>function yr(E,b,A,O){E=(0,ne.m9)(E),function ei(E,b,A,O,$){return Ws.apply(this,arguments)}(Sn,mt[E.app.options.appId],b,A,O).catch($=>bn.error($))}(A,O,$,Z)}}catch(A){throw sr.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,J.registerVersion)(Mo,"0.10.0"),(0,J.registerVersion)(Mo,"0.10.0","esm2017")}();var Cs=P(1954),Ri=P(2631);const uc=new class ar extends Ri.v{}(class Xa extends Cs.o{constructor(b,A){super(b,A),this.scheduler=b,this.work=A}schedule(b,A=0){return A>0?super.schedule(b,A):(this.delay=A,this.state=b,this.scheduler.flush(this),this)}execute(b,A){return A>0||this.closed?super.execute(b,A):this._execute(b,A)}requestAsyncId(b,A,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(b,A,O):(b.flush(this),0)}});var bs=P(6321),Ts=P(5592),Js=P(9397),kn=P(5137),ni=P(3093);const lh=new h.GfV("7.6.1"),An="__angularfire_symbol__analyticsIsSupportedValue",eu="__angularfire_symbol__analyticsIsSupported",tu="__angularfire_symbol__remoteConfigIsSupportedValue",ga="__angularfire_symbol__remoteConfigIsSupported",ma="__angularfire_symbol__messagingIsSupportedValue",lc="__angularfire_symbol__messagingIsSupported";function xo(E,b,A){if(b){if(1===b.length)return b[0];const Z=b.filter(ce=>ce.app===A);if(1===Z.length)return Z[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[eu]||(globalThis[eu]=Es().then(E=>globalThis[An]=E).catch(()=>globalThis[An]=!1)),globalThis[lc]||(globalThis[lc]=th().then(E=>globalThis[ma]=E).catch(()=>globalThis[ma]=!1)),globalThis[ga]||(globalThis[ga]=zs().then(E=>globalThis[tu]=E).catch(()=>globalThis[tu]=!1));const ru=(E,b)=>{const A=b?[b]:(0,Q.C6)(),O=[];return A.forEach($=>{$.container.getProvider(E).instances.forEach(ce=>{O.includes(ce)||O.push(ce)})}),O};function Gi(){}class ts{constructor(b,A=uc){this.zone=b,this.delegate=A}now(){return this.delegate.now()}schedule(b,A,O){const $=this.zone;return this.delegate.schedule(function(ce){$.runGuarded(()=>{b.apply(this,[ce])})},A,O)}}class xl{constructor(b){this.zone=b,this.task=null}call(b,A){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gi,{},Gi,Gi)),A.pipe((0,Js.b)({next:O,complete:O,error:O})).subscribe(b).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wf=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new ts(Zone.current)),this.insideAngular=A.run(()=>new ts(Zone.current,bs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(h.LFG(h.R0b))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Cr(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function No(E){return Cr().ngZone.run(()=>E())}function Xs(E){return Cr(),function Kf(E){return function(A){return(A=A.lift(new xl(E.ngZone))).pipe((0,kn.R)(E.outsideAngular),(0,ni.Q)(E.insideAngular))}}(Cr())(E)}const dh=(E,b)=>function(){const O=arguments;return b&&setTimeout(()=>{"scheduled"===b.state&&b.invoke()},10),No(()=>E.apply(void 0,O))},Gn=(E,b)=>function(){let A;const O=arguments;for(let Z=0;Z<arguments.length;Z++)"function"==typeof O[Z]&&(b&&(A||(A=No(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gi,{},Gi,Gi)))),O[Z]=dh(O[Z],A));const $=function Sm(E){return Cr().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,O));if(!b){if($ instanceof Ts.y){const Z=Cr();return $.pipe((0,kn.R)(Z.outsideAngular),(0,ni.Q)(Z.insideAngular))}return No(()=>$)}return $ instanceof Ts.y?$.pipe(Xs):$ instanceof Promise?No(()=>new Promise((Z,ce)=>$.then(je=>No(()=>Z(je)),je=>No(()=>ce(je))))):"function"==typeof $&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),$.apply(this,arguments)}:No(()=>$)}},9058:(ot,De,P)=>{P.d(De,{$s:()=>Yr,BH:()=>X,G6:()=>fs,L:()=>de,LL:()=>be,Pz:()=>ve,Sg:()=>Ce,UG:()=>se,US:()=>he,ZB:()=>Y,ZR:()=>Ee,aH:()=>te,b$:()=>lr,eu:()=>le,hl:()=>oe,jU:()=>yt,m9:()=>Ci,ne:()=>un,pd:()=>Bt,r3:()=>nn,ru:()=>Ut,tV:()=>L,uI:()=>Ge,vZ:()=>di,w1:()=>hs,xO:()=>Oa,xb:()=>li,z$:()=>Pe,zI:()=>_e,zd:()=>lt});const J=function(U){const V=[];let G=0;for(let Ie=0;Ie<U.length;Ie++){let ie=U.charCodeAt(Ie);ie<128?V[G++]=ie:ie<2048?(V[G++]=ie>>6|192,V[G++]=63&ie|128):55296==(64512&ie)&&Ie+1<U.length&&56320==(64512&U.charCodeAt(Ie+1))?(ie=65536+((1023&ie)<<10)+(1023&U.charCodeAt(++Ie)),V[G++]=ie>>18|240,V[G++]=ie>>12&63|128,V[G++]=ie>>6&63|128,V[G++]=63&ie|128):(V[G++]=ie>>12|224,V[G++]=ie>>6&63|128,V[G++]=63&ie|128)}return V},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let ie=0;ie<U.length;ie+=3){const Ke=U[ie],Ct=ie+1<U.length,wt=Ct?U[ie+1]:0,er=ie+2<U.length,Mt=er?U[ie+2]:0;let qn=(15&wt)<<2|Mt>>6,Qi=63&Mt;er||(Qi=64,Ct||(qn=64)),Ie.push(G[Ke>>2],G[(3&Ke)<<4|wt>>4],G[qn],G[Qi])}return Ie.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(J(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let G=0,Ie=0;for(;G<U.length;){const ie=U[G++];if(ie<128)V[Ie++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Ke=U[G++];V[Ie++]=String.fromCharCode((31&ie)<<6|63&Ke)}else if(ie>239&&ie<365){const er=((7&ie)<<18|(63&U[G++])<<12|(63&U[G++])<<6|63&U[G++])-65536;V[Ie++]=String.fromCharCode(55296+(er>>10)),V[Ie++]=String.fromCharCode(56320+(1023&er))}else{const Ke=U[G++],Ct=U[G++];V[Ie++]=String.fromCharCode((15&ie)<<12|(63&Ke)<<6|63&Ct)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let ie=0;ie<U.length;){const Ke=G[U.charAt(ie++)],wt=ie<U.length?G[U.charAt(ie)]:0;++ie;const Mt=ie<U.length?G[U.charAt(ie)]:64;++ie;const zt=ie<U.length?G[U.charAt(ie)]:64;if(++ie,null==Ke||null==wt||null==Mt||null==zt)throw new pe;Ie.push(Ke<<2|wt>>4),64!==Mt&&(Ie.push(wt<<4&240|Mt>>2),64!==zt&&Ie.push(Mt<<6&192|zt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(U){return function(U){const V=J(U);return he.encodeByteArray(V,!0)}(U).replace(/\./g,"")},L=function(U){try{return he.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Y(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const G in V)!V.hasOwnProperty(G)||!Le(G)||(U[G]=Y(U[G],V[G]));return U}function Le(U){return"__proto__"!==U}const Oe=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&L(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},te=()=>{var U;return null===(U=Oe())||void 0===U?void 0:U.config},ve=U=>{var V;return null===(V=Oe())||void 0===V?void 0:V[`_${U}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,Ie)=>{G?this.reject(G):this.resolve(Ie),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,Ie))}}}function Ce(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=V||"demo-project",ie=U.iat||0,Ke=U.sub||U.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:ie,exp:ie+3600,auth_time:ie,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},U);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ct)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function se(){var U;const V=null===(U=Oe())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yt(){return"object"==typeof self&&self.self===self}function Ut(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function lr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hs(){const U=Pe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function fs(){return!se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((U,V)=>{try{let G=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(Ie);ie.onsuccess=()=>{ie.result.close(),G||self.indexedDB.deleteDatabase(Ie),U(!0)},ie.onupgradeneeded=()=>{G=!1},ie.onerror=()=>{var Ke;V((null===(Ke=ie.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(G){V(G)}})}function _e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ee extends Error{constructor(V,G,Ie){super(G),this.code=V,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(V,G,Ie){this.service=V,this.serviceName=G,this.errors=Ie}create(V,...G){const Ie=G[0]||{},ie=`${this.service}/${V}`,Ke=this.errors[V],Ct=Ke?function Xe(U,V){return U.replace(He,(G,Ie)=>{const ie=V[Ie];return null!=ie?String(ie):`<${Ie}?>`})}(Ke,Ie):"Error";return new Ee(ie,`${this.serviceName}: ${Ct} (${ie}).`,Ie)}}const He=/\{\$([^}]+)}/g;function nn(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function li(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function di(U,V){if(U===V)return!0;const G=Object.keys(U),Ie=Object.keys(V);for(const ie of G){if(!Ie.includes(ie))return!1;const Ke=U[ie],Ct=V[ie];if(hi(Ke)&&hi(Ct)){if(!di(Ke,Ct))return!1}else if(Ke!==Ct)return!1}for(const ie of Ie)if(!G.includes(ie))return!1;return!0}function hi(U){return null!==U&&"object"==typeof U}function Oa(U){const V=[];for(const[G,Ie]of Object.entries(U))Array.isArray(Ie)?Ie.forEach(ie=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent(ie))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(Ie));return V.length?"&"+V.join("&"):""}function lt(U){const V={};return U.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[ie,Ke]=Ie.split("=");V[decodeURIComponent(ie)]=decodeURIComponent(Ke)}}),V}function Bt(U){const V=U.indexOf("?");if(!V)return"";const G=U.indexOf("#",V);return U.substring(V,G>0?G:void 0)}function un(U,V){const G=new Dn(U,V);return G.subscribe.bind(G)}class Dn{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(Ie=>{this.error(Ie)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,Ie){let ie;if(void 0===V&&void 0===G&&void 0===Ie)throw new Error("Missing Observer.");ie=function Qt(U,V){if("object"!=typeof U||null===U)return!1;for(const G of V)if(G in U&&"function"==typeof U[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:Ie},void 0===ie.next&&(ie.next=hr),void 0===ie.error&&(ie.error=hr),void 0===ie.complete&&(ie.complete=hr);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),Ke}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}const js=1e3,$i=2,Jn=144e5,Xn=.5;function Yr(U,V=js,G=$i){const Ie=V*Math.pow(G,U),ie=Math.round(Xn*Ie*(Math.random()-.5)*2);return Math.min(Jn,Ie+ie)}function Ci(U){return U&&U._delegate?U._delegate:U}},1635:(ot,De,P)=>{var h=P(5879);let Q=null;function k(){return Q}class ne{}const he=new h.OlP("DocumentToken");let pe=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(de)},providedIn:"platform"}),e})();const Re=new h.OlP("Location Initialized");let de=(()=>{var t;class e extends pe{constructor(){super(),this._doc=(0,h.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(r){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,s,u){this._history.pushState(r,s,u)}replaceState(r,s,u){this._history.replaceState(r,s,u)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function L(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function j(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Y(t){return t&&"?"!==t[0]?"?"+t:t}let Le=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(Ze)},providedIn:"root"}),e})();const Se=new h.OlP("appBaseHref");let Ze=(()=>{var t;class e extends Le{constructor(r,s){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return L(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+Y(this._platformLocation.search),u=this._platformLocation.hash;return u&&r?`${s}${u}`:s}pushState(r,s,u,l){const m=this.prepareExternalUrl(u+Y(l));this._platformLocation.pushState(r,s,m)}replaceState(r,s,u,l){const m=this.prepareExternalUrl(u+Y(l));this._platformLocation.replaceState(r,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(pe),h.LFG(Se,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),xe=(()=>{var t;class e extends Le{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=L(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,u,l){let m=this.prepareExternalUrl(u+Y(l));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,s,m)}replaceState(r,s,u,l){let m=this.prepareExternalUrl(u+Y(l));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(pe),h.LFG(Se,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})(),ze=(()=>{var t;class e{constructor(r){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const s=this._locationStrategy.getBaseHref();this._basePath=function te(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(j(at(s))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+Y(s))}normalize(r){return e.stripTrailingSlash(function ht(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,at(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,s="",u=null){this._locationStrategy.pushState(u,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Y(s)),u)}replaceState(r,s="",u=null){this._locationStrategy.replaceState(u,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Y(s)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(u=>u(r,s))}subscribe(r,s,u){return this._subject.subscribe({next:r,error:s,complete:u})}}return(t=e).normalizeQueryParams=Y,t.joinWithSlash=L,t.stripTrailingSlash=j,t.\u0275fac=function(r){return new(r||t)(h.LFG(Le))},t.\u0275prov=h.Yz7({token:t,factory:function(){return function Oe(){return new ze((0,h.LFG)(Le))}()},providedIn:"root"}),e})();function at(t){return t.replace(/\/index.html$/,"")}const Ko=/\s+/,Jc=[];let Yo=(()=>{var t;class e{constructor(r,s,u,l){this._iterableDiffers=r,this._keyValueDiffers=s,this._ngEl=u,this._renderer=l,this.initialClasses=Jc,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Ko):Jc}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Ko):r}ngDoCheck(){for(const s of this.initialClasses)this._updateState(s,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const s of r)this._updateState(s,!0);else if(null!=r)for(const s of Object.keys(r))this._updateState(s,!!r[s]);this._applyStateDiff()}_updateState(r,s){const u=this.stateMap.get(r);void 0!==u?(u.enabled!==s&&(u.changed=!0,u.enabled=s),u.touched=!0):this.stateMap.set(r,{enabled:s,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const s=r[0],u=r[1];u.changed?(this._toggleClass(s,u.enabled),u.changed=!1):u.touched||(u.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),u.touched=!1}}_toggleClass(r,s){(r=r.trim()).length>0&&r.split(Ko).forEach(u=>{s?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class ao{constructor(e,n,r,s){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qo=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,s,u){this._viewContainer=r,this._template=s,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const s=this._viewContainer;r.forEachOperation((u,l,m)=>{if(null==u.previousIndex)s.createEmbeddedView(this._template,new ao(u.item,this._ngForOf,-1,-1),null===m?void 0:m);else if(null==m)s.remove(null===l?void 0:l);else if(null!==l){const I=s.get(l);s.move(I,m),el(I,u)}});for(let u=0,l=s.length;u<l;u++){const I=s.get(u).context;I.index=u,I.count=l,I.ngForOf=this._ngForOf}r.forEachIdentityChange(u=>{el(s.get(u.currentIndex),u)})}static ngTemplateContextGuard(r,s){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function el(t,e){t.context.$implicit=e.item}let $s=(()=>{var t;class e{constructor(r,s){this._viewContainer=r,this._context=new mm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Sf("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Sf("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,s){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.s_b),h.Y36(h.Rgc))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class mm{constructor(){this.$implicit=null,this.ngIf=null}}function Sf(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let ln=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();function ys(t){return"server"===t}let tr=(()=>{var t;class e{}return(t=e).\u0275prov=(0,h.Yz7)({token:t,providedIn:"root",factory:()=>new vs((0,h.LFG)(he),window)}),e})();class vs{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function _s(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Yd extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yu extends Yd{static makeCurrent(){!function J(t){Q||(Q=t)}(new Yu)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Uf(){return vo=vo||document.querySelector("base"),vo?vo.getAttribute("href"):null}();return null==n?null:function Bf(t){Mi=Mi||document.createElement("a"),Mi.setAttribute("href",t);const e=Mi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ji(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[s,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Mi,vo=null,dn=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const ua=new h.OlP("EventManagerPlugins");let Qu=(()=>{var t;class e{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(u=>{u.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,s,u){return this._findPluginFor(s).addEventListener(r,s,u)}getZone(){return this._zone}_findPluginFor(r){let s=this._eventNameToPlugin.get(r);if(s)return s;if(s=this._plugins.find(l=>l.supports(r)),!s)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(r,s),s}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(ua),h.LFG(h.R0b))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();class Fr{constructor(e){this._doc=e}}const Ju="ng-app-id";let Qd=(()=>{var t;class e{constructor(r,s,u,l={}){this.doc=r,this.appId=s,this.nonce=u,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ys(l),this.resetHostNodes()}addStyles(r){for(const s of r)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(r){for(const s of r)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(s=>s.remove()),r.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const s of this.getAllStyles())this.addStyleToHost(r,s)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const s of this.hostNodes)this.addStyleToHost(s,r)}onStyleRemoved(r){const s=this.styleRef;s.get(r)?.elements?.forEach(u=>u.remove()),s.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Ju}="${this.appId}"]`);if(r?.length){const s=new Map;return r.forEach(u=>{null!=u.textContent&&s.set(u.textContent,u)}),s}return null}changeUsageCount(r,s){const u=this.styleRef;if(u.has(r)){const l=u.get(r);return l.usage+=s,l.usage}return u.set(r,{usage:s,elements:[]}),s}getStyleElement(r,s){const u=this.styleNodesInDOM,l=u?.get(s);if(l?.parentNode===r)return u.delete(s),l.removeAttribute(Ju),l;{const m=this.doc.createElement("style");return this.nonce&&m.setAttribute("nonce",this.nonce),m.textContent=s,this.platformIsServer&&m.setAttribute(Ju,this.appId),m}}addStyleToHost(r,s){const u=this.getStyleElement(r,s);r.appendChild(u);const l=this.styleRef,m=l.get(s)?.elements;m?m.push(u):l.set(s,{elements:[u],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(he),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const xi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},On=/%COMP%/g,ml=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _o(t,e){return e.map(n=>n.replace(On,t))}let la=(()=>{var t;class e{constructor(r,s,u,l,m,I,C,M=null){this.eventManager=r,this.sharedStylesHost=s,this.appId=u,this.removeStylesOnCompDestroy=l,this.doc=m,this.platformId=I,this.ngZone=C,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=ys(I),this.defaultRenderer=new Xu(r,m,C,this.platformIsServer)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===h.ifc.ShadowDom&&(s={...s,encapsulation:h.ifc.Emulated});const u=this.getOrCreateRenderer(r,s);return u instanceof Hf?u.applyToHost(r):u instanceof Ga&&u.applyStyles(),u}getOrCreateRenderer(r,s){const u=this.rendererByCompId;let l=u.get(s.id);if(!l){const m=this.doc,I=this.ngZone,C=this.eventManager,M=this.sharedStylesHost,R=this.removeStylesOnCompDestroy,H=this.platformIsServer;switch(s.encapsulation){case h.ifc.Emulated:l=new Hf(C,M,s,this.appId,R,m,I,H);break;case h.ifc.ShadowDom:return new th(C,M,r,s,m,I,this.nonce,H);default:l=new Ga(C,M,s,R,m,I,H)}u.set(s.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Qu),h.LFG(Qd),h.LFG(h.AFp),h.LFG(ml),h.LFG(he),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();class Xu{constructor(e,n,r,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xi[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($f(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($f(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,s){if(s){n=s+":"+n;const u=xi[s];u?e.setAttributeNS(u,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const s=xi[r];s?e.removeAttributeNS(s,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(n,r,s&h.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&h.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=k().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function $f(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class th extends Xu{constructor(e,n,r,s,u,l,m,I){super(e,u,l,I),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=_o(s.id,s.styles);for(const M of C){const R=document.createElement("style");m&&R.setAttribute("nonce",m),R.textContent=M,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ga extends Xu{constructor(e,n,r,s,u,l,m,I){super(e,u,l,m),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s,this.styles=I?_o(I,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Hf extends Ga{constructor(e,n,r,s,u,l,m,I){const C=s+"-"+r.id;super(e,n,r,u,l,m,I,C),this.contentAttr=function jf(t){return"_ngcontent-%COMP%".replace(On,t)}(C),this.hostAttr=function Xd(t){return"_nghost-%COMP%".replace(On,t)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let wo=(()=>{var t;class e extends Fr{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,u){return r.addEventListener(s,u,!1),()=>this.removeEventListener(r,s,u)}removeEventListener(r,s,u){return r.removeEventListener(s,u)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(he))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const da=["alt","control","meta","shift"],Io={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Em={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yl=(()=>{var t;class e extends Fr{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,s,u){const l=e.parseEventName(s),m=e.eventCallback(l.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(r,l.domEventName,m))}static parseEventName(r){const s=r.toLowerCase().split("."),u=s.shift();if(0===s.length||"keydown"!==u&&"keyup"!==u)return null;const l=e._normalizeKey(s.pop());let m="",I=s.indexOf("code");if(I>-1&&(s.splice(I,1),m="code."),da.forEach(M=>{const R=s.indexOf(M);R>-1&&(s.splice(R,1),m+=M+".")}),m+=l,0!=s.length||0===l.length)return null;const C={};return C.domEventName=u,C.fullKey=m,C}static matchEventFullKeyCode(r,s){let u=Io[r.key]||r.key,l="";return s.indexOf("code.")>-1&&(u=r.code,l="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),da.forEach(m=>{m!==u&&(0,Em[m])(r)&&(l+=m+".")}),l+=u,l===s)}static eventCallback(r,s,u){return l=>{e.matchEventFullKeyCode(l,r)&&u.runGuarded(()=>s(l))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(he))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const bn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function ec(){Yu.makeCurrent()},multi:!0},{provide:he,useFactory:function Zn(){return(0,h.RDi)(document),document},deps:[]}]),Hi=new h.OlP(""),sr=[{provide:h.rWj,useClass:class pl{addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new h.vHH(5103,!1);return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const m=function(I){l=l||I,u--,0==u&&r(l)};s.forEach(I=>{I.whenStable(m)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?k().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Eo=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function nh(){return new h.qLn},deps:[]},{provide:ua,useClass:wo,multi:!0,deps:[he,h.R0b,h.Lbi]},{provide:ua,useClass:yl,multi:!0,deps:[he]},la,Qd,Qu,{provide:h.FYo,useExisting:la},{provide:class Ai{},useClass:dn,deps:[]},[]];let _l=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:h.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Hi,12))},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[...Eo,...sr],imports:[ln,h.hGG]}),e})(),Do=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(he))},t.\u0275prov=h.Yz7({token:t,factory:function(r){let s=null;return s=r?new r:function zi(){return new Do((0,h.LFG)(he))}(),s},providedIn:"root"}),e})();typeof window<"u"&&window;var ti=P(5592),fa=P(4674),rn=P(2459),pt=P(2096),Dr=P(5619);const{isArray:bo}=Array,{getPrototypeOf:Ys,prototype:Wa,keys:ic}=Object;function Ka(t){if(1===t.length){const e=t[0];if(bo(e))return{args:e,keys:null};if(function To(t){return t&&"object"==typeof t&&Ys(t)===Wa}(e)){const n=ic(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}var Lr=P(2737),mt=P(7398);const{isArray:ah}=Array;function So(t){return(0,mt.U)(e=>function Zf(t,e){return ah(e)?t(...e):t(e)}(t,e))}var Ao=P(4564);function sc(t,e){return t.reduce((n,r,s)=>(n[r]=e[s],n),{})}var Sn=P(8251),uh=P(7103);function Al(...t){const e=(0,Ao.yG)(t),n=(0,Ao.jO)(t),{args:r,keys:s}=Ka(t);if(0===r.length)return(0,rn.D)([],e);const u=new ti.y(function Ml(t,e,n=Lr.y){return r=>{Qs(e,()=>{const{length:s}=t,u=new Array(s);let l=s,m=s;for(let I=0;I<s;I++)Qs(e,()=>{const C=(0,rn.D)(t[I],e);let M=!1;C.subscribe((0,Sn.x)(r,R=>{u[I]=R,M||(M=!0,m--),m||r.next(n(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>sc(s,l):Lr.y));return n?u.pipe(So(n)):u}function Qs(t,e,n){t?(0,uh.f)(n,t,e):e()}const es=(0,P(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Es=P(7537);function Ya(...t){return function pa(){return(0,Es.J)(1)}()((0,rn.D)(t,(0,Ao.yG)(t)))}var oc=P(4829);function Qa(t){return new ti.y(e=>{(0,oc.Xf)(t()).subscribe(e)})}var ch=P(8407);function Vr(t,e){const n=(0,fa.m)(t)?t:()=>t,r=s=>s.error(n());return new ti.y(e?s=>e.schedule(r,0,s):r)}var Ds=P(6232),Ja=P(7394),yr=P(9360);function ac(){return(0,yr.e)((t,e)=>{let n=null;t._refCount++;const r=(0,Sn.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const s=t._connection,u=n;n=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Mo extends ti.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,yr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ja.w0;const n=this.getSubject();e.add(this.source.subscribe((0,Sn.x)(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ja.w0.EMPTY)}return e}refCount(){return ac()(this)}}var Ni=P(8645),vr=P(4664);function Cs(t){return t<=0?()=>Ds.E:(0,yr.e)((e,n)=>{let r=0;e.subscribe((0,Sn.x)(n,s=>{++r<=t&&(n.next(s),t<=r&&n.complete())}))})}function Xa(...t){const e=(0,Ao.yG)(t);return(0,yr.e)((n,r)=>{(e?Ya(t,n,e):Ya(t,n)).subscribe(r)})}function Ri(t,e){return(0,yr.e)((n,r)=>{let s=0;n.subscribe((0,Sn.x)(r,u=>t.call(e,u,s++)&&r.next(u)))})}var ar=P(1631);function uc(t){return(0,yr.e)((e,n)=>{let r=!1;e.subscribe((0,Sn.x)(n,s=>{r=!0,n.next(s)},()=>{r||n.next(t),n.complete()}))})}function cc(t=bs){return(0,yr.e)((e,n)=>{let r=!1;e.subscribe((0,Sn.x)(n,s=>{r=!0,n.next(s)},()=>r?n.complete():n.error(t())))})}function bs(){return new es}function Ts(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ri((s,u)=>t(s,u,r)):Lr.y,Cs(1),n?uc(e):cc(()=>new es))}function Js(t,e){return(0,fa.m)(e)?(0,ar.z)(t,e,1):(0,ar.z)(t,1)}var kn=P(9397);function ni(t){return(0,yr.e)((e,n)=>{let u,r=null,s=!1;r=e.subscribe((0,Sn.x)(n,void 0,void 0,l=>{u=(0,oc.Xf)(t(l,ni(t)(e))),r?(r.unsubscribe(),r=null,u.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(n))})}function An(t,e){return(0,yr.e)(function lh(t,e,n,r,s){return(u,l)=>{let m=n,I=e,C=0;u.subscribe((0,Sn.x)(l,M=>{const R=C++;I=m?t(I,M,R):(m=!0,M),r&&l.next(I)},s&&(()=>{m&&l.next(I),l.complete()})))}}(t,e,arguments.length>=2,!0))}function eu(t){return t<=0?()=>Ds.E:(0,yr.e)((e,n)=>{let r=[];e.subscribe((0,Sn.x)(n,s=>{r.push(s),t<r.length&&r.shift()},()=>{for(const s of r)n.next(s);n.complete()},void 0,()=>{r=null}))})}function ma(t){return(0,yr.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var lc=P(2420);const bt="primary",Ss=Symbol("RouteTitle");class nu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function xo(t){return new nu(t)}function ru(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],m=t[u];if(l.startsWith(":"))s[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:t.slice(0,r.length),posParams:s}}function ts(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let u=0;u<n.length;u++)if(s=n[u],!xl(t[s],e[s]))return!1;return!0}function xl(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((s,u)=>r[u]===s)}return t===e}function Wf(t){return t.length>0?t[t.length-1]:null}function Cr(t){return function Ks(t){return!!t&&(t instanceof ti.y||(0,fa.m)(t.lift)&&(0,fa.m)(t.subscribe))}(t)?t:(0,h.QGY)(t)?(0,rn.D)(Promise.resolve(t)):(0,pt.of)(t)}const Sm={exact:function Xs(t,e,n){if(!Z(t.segments,e.segments)||!E(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Xs(t.children[r],e.children[r],n))return!1;return!0},subset:dh},No={exact:function Qv(t,e){return ts(t,e)},subset:function Kf(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xl(t[n],e[n]))},ignored:()=>!0};function Am(t,e,n){return Sm[n.paths](t.root,e.root,n.matrixParams)&&No[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function dh(t,e,n){return Gn(t,e,e.segments,n)}function Gn(t,e,n,r){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!(!Z(s,n)||e.hasChildren()||!E(s,n,r))}if(t.segments.length===n.length){if(!Z(t.segments,n)||!E(t.segments,n,r))return!1;for(const s in e.children)if(!t.children[s]||!dh(t.children[s],e.children[s],r))return!1;return!0}{const s=n.slice(0,t.segments.length),u=n.slice(t.segments.length);return!!(Z(t.segments,s)&&E(t.segments,s,r)&&t.children[bt])&&Gn(t.children[bt],e,u,r)}}function E(t,e,n){return e.every((r,s)=>No[n](t[s].parameters,r.parameters))}class b{constructor(e=new A([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xo(this.queryParams)),this._queryParamMap}toString(){return st.serialize(this)}}class A{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dt(this)}}class O{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=xo(this.parameters)),this._parameterMap}toString(){return xs(this)}}function Z(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let je=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return new $e},providedIn:"root"}),e})();class $e{parse(e){const n=new e_(e);return new b(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Tt(e.root,!0)}`,r=function Jv(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(s=>`${wn(n)}=${wn(s)}`).join("&"):`${wn(n)}=${wn(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function As(t){return encodeURI(t)}(e.fragment)}`:""}`}}const st=new $e;function Dt(t){return t.segments.map(e=>xs(e)).join("/")}function Tt(t,e){if(!t.hasChildren())return Dt(t);if(e){const n=t.children[bt]?Tt(t.children[bt],!1):"",r=[];return Object.entries(t.children).forEach(([s,u])=>{s!==bt&&r.push(`${s}:${Tt(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function ce(t,e){let n=[];return Object.entries(t.children).forEach(([r,s])=>{r===bt&&(n=n.concat(e(s,r)))}),Object.entries(t.children).forEach(([r,s])=>{r!==bt&&(n=n.concat(e(s,r)))}),n}(t,(r,s)=>s===bt?[Tt(t.children[bt],!1)]:[`${s}:${Tt(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[bt]?`${Dt(t)}/${n[0]}`:`${Dt(t)}/(${n.join("//")})`}}function cn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(t){return cn(t).replace(/%3B/gi,";")}function va(t){return cn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ms(t){return decodeURIComponent(t)}function pi(t){return Ms(t.replace(/\+/g,"%20"))}function xs(t){return`${va(t.path)}${function dc(t){return Object.keys(t).map(e=>`;${va(e)}=${va(t[e])}`).join("")}(t.parameters)}`}const WI=/^[^\/()?;#]+/;function Nl(t){const e=t.match(WI);return e?e[0]:""}const hh=/^[^\/()?;=#]+/,Mm=/^[^=?&#]+/,Xv=/^[^&#]+/;class e_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new A([],{}):new A([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[bt]=new A(e,n)),r}parseSegment(){const e=Nl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new O(Ms(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function iu(t){const e=t.match(hh);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=Nl(this.remaining);s&&(r=s,this.capture(r))}e[Ms(n)]=Ms(r)}parseQueryParam(e){const n=function Rl(t){const e=t.match(Mm);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const l=function fh(t){const e=t.match(Xv);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=pi(n),u=pi(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Nl(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=bt);const l=this.parseChildren();n[u]=1===Object.keys(l).length?l[bt]:new A([],l),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function Yf(t){return t.segments.length>0?new A([],{[bt]:t}):t}function ph(t){const e={};for(const r of Object.keys(t.children)){const u=ph(t.children[r]);if(r===bt&&0===u.segments.length&&u.hasChildren())for(const[l,m]of Object.entries(u.children))e[l]=m;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Pl(t){if(1===t.numberOfChildren&&t.children[bt]){const e=t.children[bt];return new A(t.segments.concat(e.segments),e.children)}return t}(new A(t.segments,e))}function _a(t){return t instanceof b}function wa(t){let e;const s=Yf(function n(u){const l={};for(const I of u.children){const C=n(I);l[I.outlet]=C}const m=new A(u.url,l);return u===t&&(e=m),m}(t.root));return e??s}function su(t,e,n,r){let s=t;for(;s.parent;)s=s.parent;if(0===e.length)return xm(s,s,s,n,r);const u=function YI(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Nm(!0,0,t);let e=0,n=!1;const r=t.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Object.entries(u.outlets).forEach(([I,C])=>{m[I]="string"==typeof C?C.split("/"):C}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((m,I)=>{0==I&&"."===m||(0==I&&""===m?n=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new Nm(n,e,r)}(e);if(u.toRoot())return xm(s,s,new A([],{}),n,r);const l=function t_(t,e,n){if(t.isAbsolute)return new hc(e,!0,0);if(!n)return new hc(e,!1,NaN);if(null===n.parent)return new hc(n,!0,0);const r=Ia(t.commands[0])?0:1;return function n_(t,e,n){let r=t,s=e,u=n;for(;u>s;){if(u-=s,r=r.parent,!r)throw new h.vHH(4005,!1);s=r.segments.length}return new hc(r,!1,s-u)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(u,s,t),m=l.processChildren?kl(l.segmentGroup,l.index,u.commands):Qf(l.segmentGroup,l.index,u.commands);return xm(s,l.segmentGroup,m,n,r)}function Ia(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ou(t){return"object"==typeof t&&null!=t&&t.outlets}function xm(t,e,n,r,s){let l,u={};r&&Object.entries(r).forEach(([I,C])=>{u[I]=Array.isArray(C)?C.map(M=>`${M}`):`${C}`}),l=t===e?n:Ol(t,e,n);const m=Yf(ph(l));return new b(m,u,s)}function Ol(t,e,n){const r={};return Object.entries(t.children).forEach(([s,u])=>{r[s]=u===e?n:Ol(u,e,n)}),new A(t.segments,r)}class Nm{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ia(r[0]))throw new h.vHH(4003,!1);const s=r.find(ou);if(s&&s!==Wf(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hc{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Qf(t,e,n){if(t||(t=new A([],{})),0===t.segments.length&&t.hasChildren())return kl(t,e,n);const r=function Rm(t,e,n){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(r>=n.length)return u;const l=t.segments[s],m=n[r];if(ou(m))break;const I=`${m}`,C=r<n.length-1?n[r+1]:null;if(s>0&&void 0===I)break;if(I&&C&&"object"==typeof C&&void 0===C.outlets){if(!gh(I,C,l))return u;r+=2}else{if(!gh(I,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(t,e,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const u=new A(t.segments.slice(0,r.pathIndex),{});return u.children[bt]=new A(t.segments.slice(r.pathIndex),t.children),kl(u,0,s)}return r.match&&0===s.length?new A(t.segments,{}):r.match&&!t.hasChildren()?Pm(t,e,n):r.match?kl(t,0,s):Pm(t,e,n)}function kl(t,e,n){if(0===n.length)return new A(t.segments,{});{const r=function fc(t){return ou(t[0])?t[0].outlets:{[bt]:t}}(n),s={};if(Object.keys(r).some(u=>u!==bt)&&t.children[bt]&&1===t.numberOfChildren&&0===t.children[bt].segments.length){const u=kl(t.children[bt],e,n);return new A(t.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(s[u]=Qf(t.children[u],e,l))}),Object.entries(t.children).forEach(([u,l])=>{void 0===r[u]&&(s[u]=l)}),new A(t.segments,s)}}function Pm(t,e,n){const r=t.segments.slice(0,e);let s=0;for(;s<n.length;){const u=n[s];if(ou(u)){const I=Om(u.outlets);return new A(r,I)}if(0===s&&Ia(n[0])){r.push(new O(t.segments[e].path,km(n[0]))),s++;continue}const l=ou(u)?u.outlets[bt]:`${u}`,m=s<n.length-1?n[s+1]:null;l&&m&&Ia(m)?(r.push(new O(l,km(m))),s+=2):(r.push(new O(l,{})),s++)}return new A(r,{})}function Om(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Pm(new A([],{}),0,r))}),e}function km(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function gh(t,e,n){return t==n.path&&ts(e,n.parameters)}const Fl="imperative";class ns{constructor(e,n){this.id=e,this.url=n}}class Ll extends ns{constructor(e,n,r="imperative",s=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ro extends ns{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class au extends ns{constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vl extends ns{constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s,this.type=16}}class pc extends ns{constructor(e,n,r,s){super(e,n),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class r_ extends ns{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QI extends ns{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JI extends ns{constructor(e,n,r,s,u){super(e,n),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fm extends ns{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mh extends ns{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yh{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lm{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gc{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mc{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jf{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xf{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yc{}class vc{constructor(e){this.url=e}}class Um{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uu,this.attachRef=null}}let uu=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,s){const u=this.getOrCreateContext(r);u.outlet=s,this.contexts.set(r,u)}onChildOutletDestroyed(r){const s=this.getContext(r);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let s=this.getContext(r);return s||(s=new Um,this.contexts.set(r,s)),s}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class vh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Ul(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Ul(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Bl(e,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Bl(e,this._root).map(n=>n.value)}}function Ul(t,e){if(t===e.value)return e;for(const n of e.children){const r=Ul(t,n);if(r)return r}return null}function Bl(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Bl(t,n);if(r.length)return r.unshift(e),r}return[]}class Ns{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function _c(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Pi extends vh{constructor(e,n){super(e),this.snapshot=n,br(this,e)}toString(){return this.snapshot.toString()}}function cu(t,e){const n=function Bm(t,e){const l=new $l([],{},{},"",{},bt,e,null,{});return new Hl("",new Ns(l,[]))}(0,e),r=new Dr.X([new O("",{})]),s=new Dr.X({}),u=new Dr.X({}),l=new Dr.X({}),m=new Dr.X(""),I=new wc(r,s,l,m,u,bt,e,n.root);return I.snapshot=n.root,new Pi(new Ns(I,[]),n)}class wc{constructor(e,n,r,s,u,l,m,I){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=u,this.outlet=l,this.component=m,this._futureSnapshot=I,this.title=this.dataSubject?.pipe((0,mt.U)(C=>C[Ss]))??(0,pt.of)(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>xo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>xo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ur(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const s=n[r],u=n[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function jl(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $l{get title(){return this.data?.[Ss]}constructor(e,n,r,s,u,l,m,I,C){this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.routeConfig=I,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hl extends vh{constructor(e,n){super(n),this.url=e,br(this,n)}toString(){return qi(this._root)}}function br(t,e){e.value._routerState=t,e.children.forEach(n=>br(t,n))}function qi(t){const e=t.children.length>0?` { ${t.children.map(qi).join(", ")} } `:"";return`${t.value}${e}`}function zl(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ts(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ts(e.params,n.params)||t.paramsSubject.next(n.params),function Gi(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ts(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ts(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _h(t,e){const n=ts(t.params,e.params)&&function $(t,e){return Z(t,e)&&t.every((n,r)=>ts(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||_h(t.parent,e.parent))}let tp=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(uu),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Gl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:s,previousValue:u}=r.name;if(s)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=r;const u=this.location,m=r.snapshot.component,I=this.parentContexts.getOrCreateContext(this.name).children,C=new jm(r,I,u.injector);this.activated=u.createComponent(m,{index:u.length,injector:C,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=h.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),e})();class jm{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===wc?this.route:e===uu?this.childContexts:this.parent.get(e,n)}}const Gl=new h.OlP("");let ri=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:s}=r,u=Al([s.queryParams,s.params,s.data]).pipe((0,vr.w)(([l,m,I],C)=>(I={...l,...m,...I},0===C?(0,pt.of)(I):Promise.resolve(I)))).subscribe(l=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(r);const m=(0,h.qFp)(s.component);if(m)for(const{templateName:I}of m.inputs)r.activatedComponentRef.setInput(I,l[I]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,u)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();function Ea(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const s=function i_(t,e,n){return e.children.map(r=>{for(const s of n.children)if(t.shouldReuseRoute(r.value,s.value.snapshot))return Ea(t,r,s);return Ea(t,r)})}(t,e,n);return new Ns(r,s)}{if(t.shouldAttach(e.value)){const u=t.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>Ea(t,m)),l}}const r=function Po(t){return new wc(new Dr.X(t.url),new Dr.X(t.params),new Dr.X(t.queryParams),new Dr.X(t.fragment),new Dr.X(t.data),t.outlet,t.component,t)}(e.value),s=e.children.map(u=>Ea(t,u));return new Ns(r,s)}}const Oo="ngNavigationCancelingError";function ql(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=_a(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=rp(!1,0,e);return s.url=n,s.navigationBehaviorOptions=r,s}function rp(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Oo]=!0,r.cancellationCode=e,n&&(r.url=n),r}function wh(t){return t&&t[Oo]}let $m=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},dependencies:[tp],encapsulation:2}),e})();function B(t){const e=t.children&&t.children.map(B),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==bt&&(n.component=$m),n}function W(t){return t.outlet||bt}function Ue(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class In{constructor(e,n,r,s,u){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=u}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zl(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const s=_c(n);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),Object.values(s).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,n,r){const s=e.value,u=n?n.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,n,l.children)}else this.deactivateChildRoutes(e,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,u=_c(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,u=_c(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const s=_c(n);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new Jf(u.value.snapshot))}),e.children.length&&this.forwardEvent(new gc(e.value.snapshot))}activateRoutes(e,n,r){const s=e.value,u=n?n.value:null;if(zl(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,n,l.children)}else this.activateChildRoutes(e,n,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),zl(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Ue(s.snapshot);l.attachRef=null,l.route=s,l.injector=m,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Oi{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ko{constructor(e,n){this.component=e,this.route=n}}function zm(t,e,n){const r=t._root;return lu(r,e?e._root:null,n,[r.value])}function Fo(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||(0,h.Z0I)(t)?e.get(t):t:r}function lu(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=_c(e);return t.children.forEach(l=>{(function Lo(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,l=e?e.value:null,m=n?n.getContext(t.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const I=function sp(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Z(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Z(t.url,e.url)||!ts(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(t,e)||!ts(t.queryParams,e.queryParams);default:return!_h(t,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);I?s.canActivateChecks.push(new Oi(r)):(u.data=l.data,u._resolvedData=l._resolvedData),lu(t,e,u.component?m?m.children:null:n,r,s),I&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new ko(m.outlet.component,l))}else l&&du(e,m,s),s.canActivateChecks.push(new Oi(r)),lu(t,null,u.component?m?m.children:null:n,r,s)})(l,u[l.value.outlet],n,r.concat([l.value]),s),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,m])=>du(m,n.getContext(l),s)),s}function du(t,e,n){const r=_c(t),s=t.value;Object.entries(r).forEach(([u,l])=>{du(l,s.component?e?e.children.getContext(u):null:e,n)}),n.canDeactivateChecks.push(new ko(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function hu(t){return"function"==typeof t}function ap(t){return t instanceof es||"EmptyError"===t?.name}const Ic=Symbol("INITIAL_VALUE");function Wl(){return(0,vr.w)(t=>Al(t.map(e=>e.pipe(Cs(1),Xa(Ic)))).pipe((0,mt.U)(e=>{for(const n of e)if(!0!==n){if(n===Ic)return Ic;if(!1===n||n instanceof b)return n}return!0}),Ri(e=>e!==Ic),Cs(1)))}function sE(t){return(0,ch.z)((0,kn.b)(e=>{if(_a(e))throw ql(0,e)}),(0,mt.U)(e=>!0===e))}class cp{constructor(e){this.segmentGroup=e||null}}class lp{constructor(e){this.urlTree=e}}function Ec(t){return Vr(new cp(t))}function Kl(t){return Vr(new lp(t))}class uM{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,n){let r=[],s=n.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,pt.of)(r);if(s.numberOfChildren>1||!s.children[bt])return Vr(new h.vHH(4e3,!1));s=s.children[bt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,s){const u=this.createSegmentGroup(e,n.root,r,s);return new b(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([s,u])=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);r[s]=n[m]}else r[s]=u}),r}createSegmentGroup(e,n,r,s){const u=this.createSegments(e,n.segments,r,s);let l={};return Object.entries(n.children).forEach(([m,I])=>{l[m]=this.createSegmentGroup(e,I,r,s)}),new A(u,l)}createSegments(e,n,r,s){return n.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,n,r){const s=r[n.path.substring(1)];if(!s)throw new h.vHH(4001,!1);return s}findOrReturn(e,n){let r=0;for(const s of n){if(s.path===e.path)return n.splice(r),s;r++}return e}}const l_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d_(t,e,n,r,s){const u=h_(t,e,n);return u.matched?(r=function Hm(t,e){return t.providers&&!t._injector&&(t._injector=(0,h.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function oE(t,e,n,r){const s=e.canMatch;if(!s||0===s.length)return(0,pt.of)(!0);const u=s.map(l=>{const m=Fo(l,t);return Cr(function eE(t){return t&&hu(t.canMatch)}(m)?m.canMatch(e,n):t.runInContext(()=>m(e,n)))});return(0,pt.of)(u).pipe(Wl(),sE())}(r,e,n).pipe((0,mt.U)(l=>!0===l?u:{...l_}))):(0,pt.of)(u)}function h_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...l_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||ru)(n,t,e);if(!s)return{...l_};const u={};Object.entries(s.posParams??{}).forEach(([m,I])=>{u[m]=I.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function Yl(t,e,n,r){return n.length>0&&function aE(t,e,n){return n.some(r=>dp(t,e,r)&&W(r)!==bt)}(t,n,r)?{segmentGroup:new A(e,f_(r,new A(n,t.children))),slicedSegments:[]}:0===n.length&&function uE(t,e,n){return n.some(r=>dp(t,e,r))}(t,n,r)?{segmentGroup:new A(t.segments,Zm(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new A(t.segments,t.children),slicedSegments:n}}function Zm(t,e,n,r,s){const u={};for(const l of r)if(dp(t,n,l)&&!s[W(l)]){const m=new A([],{});u[W(l)]=m}return{...s,...u}}function f_(t,e){const n={};n[bt]=e;for(const r of t)if(""===r.path&&W(r)!==bt){const s=new A([],{});n[W(r)]=s}return n}function dp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class MT{constructor(e,n,r,s,u,l,m){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=s,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new uM(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=Yl(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,bt).pipe(ni(n=>{if(n instanceof lp)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof cp?this.noMatchError(n):n}),(0,mt.U)(n=>{const r=new $l([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bt,this.rootComponentType,null,{}),s=new Ns(r,n),u=new Hl("",s),l=function KI(t,e,n=null,r=null){return su(wa(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,bt).pipe(ni(r=>{throw r instanceof cp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=Ur(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,s,!0)}processChildren(e,n,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,rn.D)(s).pipe(Js(u=>{const l=r.children[u],m=function Ne(t,e){const n=t.filter(r=>W(r)===e);return n.push(...t.filter(r=>W(r)!==e)),n}(n,u);return this.processSegmentGroup(e,m,l,u)}),An((u,l)=>(u.push(...l),u)),uc(null),function tu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ri((s,u)=>t(s,u,r)):Lr.y,eu(1),n?uc(e):cc(()=>new es))}(),(0,ar.z)(u=>{if(null===u)return Ec(r);const l=fu(u);return function xT(t){t.sort((e,n)=>e.value.outlet===bt?-1:n.value.outlet===bt?1:e.value.outlet.localeCompare(n.value.outlet))}(l),(0,pt.of)(l)}))}processSegment(e,n,r,s,u,l){return(0,rn.D)(n).pipe(Js(m=>this.processSegmentAgainstRoute(m._injector??e,n,m,r,s,u,l).pipe(ni(I=>{if(I instanceof cp)return(0,pt.of)(null);throw I}))),Ts(m=>!!m),ni(m=>{if(ap(m))return function ST(t,e,n){return 0===e.length&&!t.children[n]}(r,s,u)?(0,pt.of)([]):Ec(r);throw m}))}processSegmentAgainstRoute(e,n,r,s,u,l,m){return function cE(t,e,n,r){return!!(W(t)===r||r!==bt&&dp(e,n,t))&&("**"===t.path||h_(e,t,n).matched)}(r,s,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,u,l,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,n,r,u,l):Ec(s):Ec(s)}expandSegmentAgainstRouteUsingRedirect(e,n,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Kl(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,ar.z)(l=>{const m=new A(l,{});return this.processSegment(e,n,m,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,u,l){const{matched:m,consumedSegments:I,remainingSegments:C,positionalParamSegments:M}=h_(n,s,u);if(!m)return Ec(n);const R=this.applyRedirects.applyRedirectCommands(I,s.redirectTo,M);return s.redirectTo.startsWith("/")?Kl(R):this.applyRedirects.lineralizeSegments(s,R).pipe((0,ar.z)(H=>this.processSegment(e,r,n,H.concat(C),l,!1)))}matchSegmentAgainstRoute(e,n,r,s,u,l){let m;if("**"===r.path){const I=s.length>0?Wf(s).parameters:{},C=new $l(s,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lE(r),W(r),r.component??r._loadedComponent??null,r,RT(r));m=(0,pt.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),n.children={}}else m=d_(n,r,s,e).pipe((0,mt.U)(({matched:I,consumedSegments:C,remainingSegments:M,parameters:R})=>I?{snapshot:new $l(C,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lE(r),W(r),r.component??r._loadedComponent??null,r,RT(r)),consumedSegments:C,remainingSegments:M}:null));return m.pipe((0,vr.w)(I=>null===I?Ec(n):this.getChildConfig(e=r._injector??e,r,s).pipe((0,vr.w)(({routes:C})=>{const M=r._loadedInjector??e,{snapshot:R,consumedSegments:H,remainingSegments:q}=I,{segmentGroup:ye,slicedSegments:Ve}=Yl(n,H,q,C);if(0===Ve.length&&ye.hasChildren())return this.processChildren(M,C,ye).pipe((0,mt.U)(ct=>null===ct?null:[new Ns(R,ct)]));if(0===C.length&&0===Ve.length)return(0,pt.of)([new Ns(R,[])]);const Be=W(r)===u;return this.processSegment(M,C,ye,Ve,Be?bt:u,!0).pipe((0,mt.U)(ct=>[new Ns(R,ct)]))}))))}getChildConfig(e,n,r){return n.children?(0,pt.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,pt.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function CT(t,e,n,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,pt.of)(!0);const u=s.map(l=>{const m=Fo(l,t);return Cr(function Ih(t){return t&&hu(t.canLoad)}(m)?m.canLoad(e,n):t.runInContext(()=>m(e,n)))});return(0,pt.of)(u).pipe(Wl(),sE())}(e,n,r).pipe((0,ar.z)(s=>s?this.configLoader.loadChildren(e,n).pipe((0,kn.b)(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):function TT(t){return Vr(rp(!1,3))}())):(0,pt.of)({routes:[],injector:e})}}function NT(t){const e=t.value.routeConfig;return e&&""===e.path}function fu(t){const e=[],n=new Set;for(const r of t){if(!NT(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),n.add(s)):e.push(r)}for(const r of n){const s=fu(r.children);e.push(new Ns(r.value,s))}return e.filter(r=>!n.has(r))}function lE(t){return t.data||{}}function RT(t){return t.resolve||{}}function hE(t){return"string"==typeof t.title||null===t.title}function p_(t){return(0,vr.w)(e=>{const n=t(e);return n?(0,rn.D)(n).pipe((0,mt.U)(()=>e)):(0,pt.of)(e)})}const Eh=new h.OlP("ROUTES");let hp=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,pt.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const s=Cr(r.loadComponent()).pipe((0,mt.U)(Dh),(0,kn.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=l}),ma(()=>{this.componentLoaders.delete(r)})),u=new Mo(s,()=>new Ni.x).pipe(ac());return this.componentLoaders.set(r,u),u}loadChildren(r,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return(0,pt.of)({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const l=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,mt.U)(I=>{this.onLoadEndListener&&this.onLoadEndListener(s);let C,M;return Array.isArray(I)?M=I:(C=I.create(r).injector,M=C.get(Eh,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:M.map(B),injector:C}}),ma(()=>{this.childrenLoaders.delete(s)})),m=new Mo(l,()=>new Ni.x).pipe(ac());return this.childrenLoaders.set(s,m),m}loadModuleFactoryOrRoutes(r){return Cr(r()).pipe((0,mt.U)(Dh),(0,ar.z)(s=>s instanceof h.YKP||Array.isArray(s)?(0,pt.of)(s):(0,rn.D)(this.compiler.compileModuleAsync(s))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Dh(t){return function pu(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let fp=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ni.x,this.transitionAbortSubject=new Ni.x,this.configLoader=(0,h.f3M)(hp),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(je),this.rootContexts=(0,h.f3M)(uu),this.inputBindingEnabled=null!==(0,h.f3M)(Gl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new Lm(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new yh(u))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:s})}setupNavigations(r,s,u){return this.transitions=new Dr.X({id:0,currentUrlTree:s,currentRawUrl:s,currentBrowserUrl:s,extractedUrl:r.urlHandlingStrategy.extract(s),urlAfterRedirects:r.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fl,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ri(l=>0!==l.id),(0,mt.U)(l=>({...l,extractedUrl:r.urlHandlingStrategy.extract(l.rawUrl)})),(0,vr.w)(l=>{this.currentTransition=l;let m=!1,I=!1;return(0,pt.of)(l).pipe((0,kn.b)(C=>{this.currentNavigation={id:C.id,initialUrl:C.rawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,vr.w)(C=>{const M=C.currentBrowserUrl.toString(),R=!r.navigated||C.extractedUrl.toString()!==M||M!==C.currentUrlTree.toString();if(!R&&"reload"!==(C.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const q="";return this.events.next(new Vl(C.id,this.urlSerializer.serialize(C.rawUrl),q,0)),C.resolve(null),Ds.E}if(r.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return(0,pt.of)(C).pipe((0,vr.w)(q=>{const ye=this.transitions?.getValue();return this.events.next(new Ll(q.id,this.urlSerializer.serialize(q.extractedUrl),q.source,q.restoredState)),ye!==this.transitions?.getValue()?Ds.E:Promise.resolve(q)}),function cM(t,e,n,r,s,u){return(0,ar.z)(l=>function AT(t,e,n,r,s,u,l="emptyOnly"){return new MT(t,e,n,r,s,l,u).recognize()}(t,e,n,r,l.extractedUrl,s,u).pipe((0,mt.U)(({state:m,tree:I})=>({...l,targetSnapshot:m,urlAfterRedirects:I}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,kn.b)(q=>{l.targetSnapshot=q.targetSnapshot,l.urlAfterRedirects=q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects};const ye=new r_(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(ye)}));if(R&&r.urlHandlingStrategy.shouldProcessUrl(C.currentRawUrl)){const{id:q,extractedUrl:ye,source:Ve,restoredState:Be,extras:ct}=C,St=new Ll(q,this.urlSerializer.serialize(ye),Ve,Be);this.events.next(St);const _t=cu(0,this.rootComponentType).snapshot;return this.currentTransition=l={...C,targetSnapshot:_t,urlAfterRedirects:ye,extras:{...ct,skipLocationChange:!1,replaceUrl:!1}},(0,pt.of)(l)}{const q="";return this.events.next(new Vl(C.id,this.urlSerializer.serialize(C.extractedUrl),q,1)),C.resolve(null),Ds.E}}),(0,kn.b)(C=>{const M=new QI(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}),(0,mt.U)(C=>(this.currentTransition=l={...C,guards:zm(C.targetSnapshot,C.currentSnapshot,this.rootContexts)},l)),function u_(t,e){return(0,ar.z)(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=n;return 0===l.length&&0===u.length?(0,pt.of)({...n,guardsResult:!0}):function qm(t,e,n,r){return(0,rn.D)(t).pipe((0,ar.z)(s=>function DT(t,e,n,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,pt.of)(!0);const l=u.map(m=>{const I=Ue(e)??s,C=Fo(m,I);return Cr(function XI(t){return t&&hu(t.canDeactivate)}(C)?C.canDeactivate(t,e,n,r):I.runInContext(()=>C(t,e,n,r))).pipe(Ts())});return(0,pt.of)(l).pipe(Wl())}(s.component,s.route,n,e,r)),Ts(s=>!0!==s,!0))}(l,r,s,t).pipe((0,ar.z)(m=>m&&function a_(t){return"boolean"==typeof t}(m)?function rE(t,e,n,r){return(0,rn.D)(e).pipe(Js(s=>Ya(function up(t,e){return null!==t&&e&&e(new Vm(t)),(0,pt.of)(!0)}(s.route.parent,r),function c_(t,e){return null!==t&&e&&e(new mc(t)),(0,pt.of)(!0)}(s.route,r),function iE(t,e,n){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function ip(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Qa(()=>{const m=l.guards.map(I=>{const C=Ue(l.node)??n,M=Fo(I,C);return Cr(function Gm(t){return t&&hu(t.canActivateChild)}(M)?M.canActivateChild(r,t):C.runInContext(()=>M(r,t))).pipe(Ts())});return(0,pt.of)(m).pipe(Wl())}));return(0,pt.of)(u).pipe(Wl())}(t,s.path,n),function ET(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,pt.of)(!0);const s=r.map(u=>Qa(()=>{const l=Ue(e)??n,m=Fo(u,l);return Cr(function op(t){return t&&hu(t.canActivate)}(m)?m.canActivate(e,t):l.runInContext(()=>m(e,t))).pipe(Ts())}));return(0,pt.of)(s).pipe(Wl())}(t,s.route,n))),Ts(s=>!0!==s,!0))}(r,u,t,e):(0,pt.of)(m)),(0,mt.U)(m=>({...n,guardsResult:m})))})}(this.environmentInjector,C=>this.events.next(C)),(0,kn.b)(C=>{if(l.guardsResult=C.guardsResult,_a(C.guardsResult))throw ql(0,C.guardsResult);const M=new JI(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.events.next(M)}),Ri(C=>!!C.guardsResult||(this.cancelNavigationTransition(C,"",3),!1)),p_(C=>{if(C.guards.canActivateChecks.length)return(0,pt.of)(C).pipe((0,kn.b)(M=>{const R=new Fm(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(R)}),(0,vr.w)(M=>{let R=!1;return(0,pt.of)(M).pipe(function lM(t,e){return(0,ar.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=n;if(!s.length)return(0,pt.of)(n);let u=0;return(0,rn.D)(s).pipe(Js(l=>function dM(t,e,n,r){const s=t.routeConfig,u=t._resolve;return void 0!==s?.title&&!hE(s)&&(u[Ss]=s.title),function hM(t,e,n,r){const s=function dE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===s.length)return(0,pt.of)({});const u={};return(0,rn.D)(s).pipe((0,ar.z)(l=>function PT(t,e,n,r){const s=Ue(e)??r,u=Fo(t,s);return Cr(u.resolve?u.resolve(e,n):s.runInContext(()=>u(e,n)))}(t[l],e,n,r).pipe(Ts(),(0,kn.b)(m=>{u[l]=m}))),eu(1),function ga(t){return(0,mt.U)(()=>t)}(u),ni(l=>ap(l)?Ds.E:Vr(l)))}(u,t,e,r).pipe((0,mt.U)(l=>(t._resolvedData=l,t.data=Ur(t,n).resolve,s&&hE(s)&&(t.data[Ss]=s.title),null)))}(l.route,r,t,e)),(0,kn.b)(()=>u++),eu(1),(0,ar.z)(l=>u===s.length?(0,pt.of)(n):Ds.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,kn.b)({next:()=>R=!0,complete:()=>{R||this.cancelNavigationTransition(M,"",2)}}))}),(0,kn.b)(M=>{const R=new mh(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(R)}))}),p_(C=>{const M=R=>{const H=[];R.routeConfig?.loadComponent&&!R.routeConfig._loadedComponent&&H.push(this.configLoader.loadComponent(R.routeConfig).pipe((0,kn.b)(q=>{R.component=q}),(0,mt.U)(()=>{})));for(const q of R.children)H.push(...M(q));return H};return Al(M(C.targetSnapshot.root)).pipe(uc(),Cs(1))}),p_(()=>this.afterPreactivation()),(0,mt.U)(C=>{const M=function np(t,e,n){const r=Ea(t,e._root,n?n._root:void 0);return new Pi(r,e)}(r.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return this.currentTransition=l={...C,targetRouterState:M},l}),(0,kn.b)(()=>{this.events.next(new yc)}),((t,e,n,r)=>(0,mt.U)(s=>(new In(e,s.targetRouterState,s.currentRouterState,n,r).activate(t),s)))(this.rootContexts,r.routeReuseStrategy,C=>this.events.next(C),this.inputBindingEnabled),Cs(1),(0,kn.b)({next:C=>{m=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ro(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects))),r.titleStrategy?.updateTitle(C.targetRouterState.snapshot),C.resolve(!0)},complete:()=>{m=!0}}),function ya(t){return(0,yr.e)((e,n)=>{(0,oc.Xf)(t).subscribe((0,Sn.x)(n,()=>n.complete(),lc.Z)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe((0,kn.b)(C=>{throw C}))),ma(()=>{m||I||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),ni(C=>{if(I=!0,wh(C))this.events.next(new au(l.id,this.urlSerializer.serialize(l.extractedUrl),C.message,C.cancellationCode)),function Zl(t){return wh(t)&&_a(t.url)}(C)?this.events.next(new vc(C.url)):l.resolve(!1);else{this.events.next(new pc(l.id,this.urlSerializer.serialize(l.extractedUrl),C,l.targetSnapshot??void 0));try{l.resolve(r.errorHandler(C))}catch(M){l.reject(M)}}return Ds.E}))}))}cancelNavigationTransition(r,s,u){const l=new au(r.id,this.urlSerializer.serialize(r.extractedUrl),s,u);this.events.next(l),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function g_(t){return t!==Fl}let m_=(()=>{var t;class e{buildTitle(r){let s,u=r.root;for(;void 0!==u;)s=this.getResolvedTitleForRoute(u)??s,u=u.children.find(l=>l.outlet===bt);return s}getResolvedTitleForRoute(r){return r.data[Ss]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(fM)},providedIn:"root"}),e})(),fM=(()=>{var t;class e extends m_{constructor(r){super(),this.title=r}updateTitle(r){const s=this.buildTitle(r);void 0!==s&&this.title.setTitle(s)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Do))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),pM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(y_)},providedIn:"root"}),e})();class gM{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let y_=(()=>{var t;class e extends gM{}return(t=e).\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(t)))(s||t)}}(),t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ch=new h.OlP("",{providedIn:"root",factory:()=>({})});let mM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(yM)},providedIn:"root"}),e})(),yM=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,s){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var bh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bh||{});function fE(t,e){t.events.pipe(Ri(n=>n instanceof Ro||n instanceof au||n instanceof pc||n instanceof Vl),(0,mt.U)(n=>n instanceof Ro||n instanceof Vl?bh.COMPLETE:n instanceof au&&(0===n.code||1===n.code)?bh.REDIRECTING:bh.FAILED),Ri(n=>n!==bh.REDIRECTING),Cs(1)).subscribe(()=>{e()})}function OT(t){throw t}function kT(t,e,n){return e.parse("/")}const FT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ki=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new Ni.x,this.options=(0,h.f3M)(Ch,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||OT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(mM),this.routeReuseStrategy=(0,h.f3M)(pM),this.titleStrategy=(0,h.f3M)(m_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(Eh,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(fp),this.urlSerializer=(0,h.f3M)(je),this.location=(0,h.f3M)(ze),this.componentInputBindingEnabled=!!(0,h.f3M)(Gl,{optional:!0}),this.eventsSubscription=new Ja.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new b,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cu(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(s=>{try{const{currentTransition:u}=this.navigationTransitions;if(null===u)return void(Km(s)&&this._events.next(s));if(s instanceof Ll)g_(u.source)&&(this.browserUrlTree=u.extractedUrl);else if(s instanceof Vl)this.rawUrlTree=u.rawUrl;else if(s instanceof r_){if("eager"===this.urlUpdateStrategy){if(!u.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);this.setBrowserUrl(l,u)}this.browserUrlTree=u.urlAfterRedirects}}else if(s instanceof yc)this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects);else if(s instanceof au)0!==s.code&&1!==s.code&&(this.navigated=!0),(3===s.code||2===s.code)&&this.restoreHistory(u);else if(s instanceof vc){const l=this.urlHandlingStrategy.merge(s.url,u.currentRawUrl),m={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||g_(u.source)};this.scheduleNavigation(l,Fl,null,m,{resolve:u.resolve,reject:u.reject,promise:u.promise})}s instanceof pc&&this.restoreHistory(u,!0),s instanceof Ro&&(this.navigated=!0),Km(s)&&this._events.next(s)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fl,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const s="popstate"===r.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,s,r.state)},0)}))}navigateToSyncWithBrowser(r,s,u){const l={replaceUrl:!0},m=u?.navigationId?u:null;if(u){const C={...u};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(l.state=C)}const I=this.parseUrl(r);this.scheduleNavigation(I,s,m,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(B),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,s={}){const{relativeTo:u,queryParams:l,fragment:m,queryParamsHandling:I,preserveFragment:C}=s,M=C?this.currentUrlTree.fragment:m;let H,R=null;switch(I){case"merge":R={...this.currentUrlTree.queryParams,...l};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=l||null}null!==R&&(R=this.removeEmptyProps(R));try{H=wa(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),H=this.currentUrlTree.root}return su(H,r,R,M??null)}navigateByUrl(r,s={skipLocationChange:!1}){const u=_a(r)?r:this.parseUrl(r),l=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(l,Fl,null,s)}navigate(r,s={skipLocationChange:!1}){return function LT(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new h.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let s;try{s=this.urlSerializer.parse(r)}catch(u){s=this.malformedUriErrorHandler(u,this.urlSerializer,r)}return s}isActive(r,s){let u;if(u=!0===s?{...FT}:!1===s?{...pE}:s,_a(r))return Am(this.currentUrlTree,r,u);const l=this.parseUrl(r);return Am(this.currentUrlTree,l,u)}removeEmptyProps(r){return Object.keys(r).reduce((s,u)=>{const l=r[u];return null!=l&&(s[u]=l),s},{})}scheduleNavigation(r,s,u,l,m){if(this.disposed)return Promise.resolve(!1);let I,C,M;m?(I=m.resolve,C=m.reject,M=m.promise):M=new Promise((H,q)=>{I=H,C=q});const R=this.pendingTasks.add();return fE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(R))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:l,resolve:I,reject:C,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(H=>Promise.reject(H))}setBrowserUrl(r,s){const u=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(u)||s.extras.replaceUrl){const m={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(u,"",m)}else{const l={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(u,"",l)}}restoreHistory(r,s=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Km(t){return!(t instanceof yc||t instanceof vc)}let Ym=(()=>{var t;class e{constructor(r,s,u,l,m,I){this.router=r,this.route=s,this.tabIndexAttribute=u,this.renderer=l,this.el=m,this.locationStrategy=I,this.href=null,this.commands=null,this.onChanges=new Ni.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const C=m.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===C||"area"===C,this.isAnchorElement?this.subscription=r.events.subscribe(M=>{M instanceof Ro&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,s,u,l,m){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||s||u||l||m||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,s){const u=this.renderer,l=this.el.nativeElement;null!==s?u.setAttribute(l,r,s):u.removeAttribute(l,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(ki),h.Y36(wc),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Le))},t.\u0275dir=h.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){1&r&&h.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&h.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]}),e})();class mE{}let UT=(()=>{var t;class e{constructor(r,s,u,l,m){this.router=r,this.injector=u,this.preloadingStrategy=l,this.loader=m}setUpPreloading(){this.subscription=this.router.events.pipe(Ri(r=>r instanceof Ro),Js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const u=[];for(const l of s){l.providers&&!l._injector&&(l._injector=(0,h.MMx)(l.providers,r,`Route: ${l.path}`));const m=l._injector??r,I=l._loadedInjector??m;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&u.push(this.preloadConfig(m,l)),(l.children||l._loadedRoutes)&&u.push(this.processRoutes(I,l.children??l._loadedRoutes))}return(0,rn.D)(u).pipe((0,Es.J)())}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>{let u;u=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(r,s):(0,pt.of)(null);const l=u.pipe((0,ar.z)(m=>null===m?(0,pt.of)(void 0):(s._loadedRoutes=m.routes,s._loadedInjector=m.injector,this.processRoutes(m.injector??r,m.routes))));if(s.loadComponent&&!s._loadedComponent){const m=this.loader.loadComponent(s);return(0,rn.D)([l,m]).pipe((0,Es.J)())}return l})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(ki),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(mE),h.LFG(hp))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const v_=new h.OlP("");let vE=(()=>{var t;class e{constructor(r,s,u,l,m={}){this.urlSerializer=r,this.transitions=s,this.viewportScroller=u,this.zone=l,this.options=m,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},m.scrollPositionRestoration=m.scrollPositionRestoration||"disabled",m.anchorScrolling=m.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ll?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ro?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Vl&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Xf&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xf(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){h.$Z()},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();function Dc(t,e){return{\u0275kind:t,\u0275providers:e}}function w_(){const t=(0,h.f3M)(h.zs3);return e=>{const n=t.get(h.z2F);if(e!==n.components[0])return;const r=t.get(ki),s=t.get(I_);1===t.get(pp)&&r.initialNavigation(),t.get(E_,null,h.XFs.Optional)?.setUpPreloading(),t.get(v_,null,h.XFs.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const I_=new h.OlP("",{factory:()=>new Ni.x}),pp=new h.OlP("",{providedIn:"root",factory:()=>1}),E_=new h.OlP("");function Xm(t){return Dc(0,[{provide:E_,useExisting:UT},{provide:mE,useExisting:t}])}const C_=new h.OlP("ROUTER_FORROOT_GUARD"),Ql=[ze,{provide:je,useClass:$e},ki,uu,{provide:wc,useFactory:function __(t){return t.routerState.root},deps:[ki]},hp,[]];function HT(){return new h.PXZ("Router",ki)}let Sh=(()=>{var t;class e{constructor(r){}static forRoot(r,s){return{ngModule:e,providers:[Ql,[],{provide:Eh,multi:!0,useValue:r},{provide:C_,useFactory:ty,deps:[[ki,new h.FiY,new h.tp0]]},{provide:Ch,useValue:s||{}},s?.useHash?{provide:Le,useClass:xe}:{provide:Le,useClass:Ze},{provide:v_,useFactory:()=>{const t=(0,h.f3M)(tr),e=(0,h.f3M)(h.R0b),n=(0,h.f3M)(Ch),r=(0,h.f3M)(fp),s=(0,h.f3M)(je);return n.scrollOffset&&t.setOffset(n.scrollOffset),new vE(s,r,t,e,n)}},s?.preloadingStrategy?Xm(s.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:HT},s?.initialNavigation?Da(s):[],s?.bindToComponentInputs?Dc(8,[ri,{provide:Gl,useExisting:ri}]).\u0275providers:[],[{provide:gp,useFactory:w_},{provide:h.tb,multi:!0,useExisting:gp}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Eh,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(C_,8))},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();function ty(t){return"guarded"}function Da(t){return["disabled"===t.initialNavigation?Dc(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(ki);return()=>{e.setUpLocationChangeListener()}}},{provide:pp,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Dc(2,[{provide:pp,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const n=e.get(Re,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const s=e.get(ki),u=e.get(I_);fE(s,()=>{r(!0)}),e.get(fp).afterPreactivation=()=>(r(!0),u.closed?(0,pt.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const gp=new h.OlP("");let IE=(()=>{var t;class e{constructor(){this.themes=["retro","synthwave","pastel","halloween","cyberpunk","luxury","garden","dracula"];let r=Number(localStorage.getItem("themeIndex"));r||(r=0),this.currThemeIndex=r}initDefaultTheme(){document.body.setAttribute("data-theme",this.themes[this.currThemeIndex])}toggleThemes(){this.currThemeIndex=(this.currThemeIndex+1)%this.themes.length,document.body.setAttribute("data-theme",this.themes[this.currThemeIndex]),localStorage.setItem("themeIndex",`${this.currThemeIndex}`)}get getCurrentThemeText(){return`Current Theme: ${this.themes[this.currThemeIndex]}`}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const S_=["*"];let EE=(()=>{var t;class e{constructor(r,s,u,l){this._router=r,this.location=s,this.titleService=u,this.themesService=l}ngOnInit(){this.links=["/education","/experience","","/projects","/contact"],this.pageTitles=["MohammedK's Education","MohammedK's Experience","MohammedK's Portfolio","MohammedK's Projects","MohammedK's Contact"];let r=this.links.indexOf(this.location.path());this.currStepNumber=-1==r?2:r,this.titleService.setTitle(this.pageTitles[this.currStepNumber]),this.maxStepNumber=this.links.length-1,this.themesService.initDefaultTheme()}handleKeyboardEvent(r){if("ArrowLeft"===r.key)this.currStepNumber>0&&(this.currStepNumber-=1),this._router.navigateByUrl(this.links[this.currStepNumber]),this.titleService.setTitle(this.pageTitles[this.currStepNumber]);else if("ArrowRight"==r.key)this.currStepNumber<this.maxStepNumber&&(this.currStepNumber+=1),this._router.navigateByUrl(this.links[this.currStepNumber]),this.titleService.setTitle(this.pageTitles[this.currStepNumber]);else if(4!=this.currStepNumber&&("F"==r.key||"f"==r.key)){const u=Date.now()+7e3,l={startVelocity:30,spread:360,ticks:60,zIndex:0},m=(C,M)=>Math.random()*(M-C)+C,I=setInterval(function(){const C=u-Date.now();if(C<=0)return clearInterval(I);const M=C/7e3*50;confetti(Object.assign({},l,{particleCount:M,origin:{x:m(.1,.3),y:Math.random()-.2}})),confetti(Object.assign({},l,{particleCount:M,origin:{x:m(.7,.9),y:Math.random()-.2}}))},250)}}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(ki),h.Y36(ze),h.Y36(Do),h.Y36(IE))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-bottom-nav"]],hostBindings:function(r,s){1&r&&h.NdJ("keyup",function(l){return s.handleKeyboardEvent(l)},!1,h.Jf7)},ngContentSelectors:S_,decls:24,vars:5,consts:[[1,"flex","flex-col","w-full","bg-base-200","min-h-screen"],[1,"btm-nav","btm-nav-sm",2,"z-index","99"],["routerLink","/education",3,"ngClass","click"],["data-tip","Education",1,"tooltip"],[1,"bi","bi-mortarboard-fill"],["routerLink","/experience",3,"ngClass","click"],["data-tip","Experience",1,"tooltip"],[1,"bi","bi-cup-hot-fill"],["routerLink","/",3,"ngClass","click"],["data-tip","\u{1f3b5} Never gonna give you up \u{1f3b5}",1,"tooltip","tooltip-warning"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","stroke","currentColor",1,"h-5","w-5"],["id","SVGRepo_bgCarrier","stroke-width","2"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["opacity","0.5","d","M8.7838 21.9999C7.0986 21.2478 5.70665 20.0758 4.79175 18.5068","stroke","#1C274C","stroke-width","1.5","stroke-linecap","round"],["opacity","0.5","d","M14.8252 2.18595C16.5021 1.70882 18.2333 2.16305 19.4417 3.39724","stroke","#1C274C","stroke-width","1.5","stroke-linecap","round"],["d","M4.0106 8.36655L3.63846 7.71539L4.0106 8.36655ZM6.50218 8.86743L7.15007 8.48962L6.50218 8.86743ZM3.2028 10.7531L2.55491 11.1309H2.55491L3.2028 10.7531ZM7.69685 3.37253L8.34474 2.99472V2.99472L7.69685 3.37253ZM8.53873 4.81624L7.89085 5.19405L8.53873 4.81624ZM10.4165 9.52517C10.6252 9.88299 11.0844 10.0039 11.4422 9.79524C11.8 9.58659 11.9209 9.12736 11.7123 8.76955L10.4165 9.52517ZM7.53806 12.1327C7.74672 12.4905 8.20594 12.6114 8.56376 12.4027C8.92158 12.1941 9.0425 11.7349 8.83384 11.377L7.53806 12.1327ZM4.39747 5.25817L3.74958 5.63598L4.39747 5.25817ZM11.8381 2.9306L12.486 2.55279V2.55279L11.8381 2.9306ZM14.3638 7.26172L15.0117 6.88391L14.3638 7.26172ZM16.0475 10.1491L16.4197 10.8003C16.5934 10.701 16.7202 10.5365 16.772 10.3433C16.8238 10.15 16.7962 9.94413 16.6954 9.77132L16.0475 10.1491ZM17.6632 5.37608L17.0153 5.75389L17.6632 5.37608ZM20.1888 9.7072L20.8367 9.32939V9.32939L20.1888 9.7072ZM6.99128 17.2497L7.63917 16.8719L6.99128 17.2497ZM16.9576 19.2533L16.5854 18.6021L16.9576 19.2533ZM13.784 15.3C13.9927 15.6578 14.4519 15.7787 14.8097 15.5701C15.1676 15.3614 15.2885 14.9022 15.0798 14.5444L13.784 15.3ZM4.38275 9.0177C5.01642 8.65555 5.64023 8.87817 5.85429 9.24524L7.15007 8.48962C6.4342 7.26202 4.82698 7.03613 3.63846 7.71539L4.38275 9.0177ZM3.63846 7.71539C2.44761 8.39597 1.83532 9.8969 2.55491 11.1309L3.85068 10.3753C3.64035 10.0146 3.75139 9.37853 4.38275 9.0177L3.63846 7.71539ZM7.04896 3.75034L7.89085 5.19405L9.18662 4.43843L8.34474 2.99472L7.04896 3.75034ZM7.89085 5.19405L10.4165 9.52517L11.7123 8.76955L9.18662 4.43843L7.89085 5.19405ZM8.83384 11.377L7.15007 8.48962L5.85429 9.24524L7.53806 12.1327L8.83384 11.377ZM7.15007 8.48962L5.04535 4.88036L3.74958 5.63598L5.85429 9.24524L7.15007 8.48962ZM5.57742 3.5228C6.21109 3.16065 6.8349 3.38327 7.04896 3.75034L8.34474 2.99472C7.62887 1.76712 6.02165 1.54123 4.83313 2.22048L5.57742 3.5228ZM4.83313 2.22048C3.64228 2.90107 3.02999 4.40199 3.74958 5.63598L5.04535 4.88036C4.83502 4.51967 4.94606 3.88363 5.57742 3.5228L4.83313 2.22048ZM11.1902 3.30841L13.7159 7.63953L15.0117 6.88391L12.486 2.55279L11.1902 3.30841ZM13.7159 7.63953L15.3997 10.5269L16.6954 9.77132L15.0117 6.88391L13.7159 7.63953ZM9.71869 3.08087C10.3524 2.71872 10.9762 2.94134 11.1902 3.30841L12.486 2.55279C11.7701 1.32519 10.1629 1.0993 8.9744 1.77855L9.71869 3.08087ZM8.9744 1.77855C7.78355 2.45914 7.17126 3.96006 7.89085 5.19405L9.18662 4.43843C8.97629 4.07774 9.08733 3.4417 9.71869 3.08087L8.9744 1.77855ZM17.0153 5.75389L19.5409 10.085L20.8367 9.32939L18.311 4.99827L17.0153 5.75389ZM15.5437 5.52635C16.1774 5.1642 16.8012 5.38682 17.0153 5.75389L18.311 4.99827C17.5952 3.77068 15.988 3.54478 14.7994 4.22404L15.5437 5.52635ZM14.7994 4.22404C13.6086 4.90462 12.9963 6.40555 13.7159 7.63953L15.0117 6.88391C14.8013 6.52322 14.9124 5.88718 15.5437 5.52635L14.7994 4.22404ZM2.55491 11.1309L6.34339 17.6276L7.63917 16.8719L3.85068 10.3753L2.55491 11.1309ZM16.5854 18.6021C13.2185 20.5264 9.24811 19.631 7.63917 16.8719L6.34339 17.6276C8.45414 21.2472 13.4079 22.1458 17.3297 19.9045L16.5854 18.6021ZM19.5409 10.085C21.1461 12.8377 19.9501 16.6792 16.5854 18.6021L17.3297 19.9045C21.2539 17.6618 22.9512 12.9554 20.8367 9.32939L19.5409 10.085ZM15.0798 14.5444C14.4045 13.3863 14.8772 11.6818 16.4197 10.8003L15.6754 9.49797C13.5735 10.6993 12.5995 13.2687 13.784 15.3L15.0798 14.5444Z","fill","#1C274C"],["routerLink","/projects",3,"ngClass","click"],["data-tip","Projects",1,"tooltip"],[1,"bi","bi-terminal-fill"],["routerLink","/contact",3,"ngClass","click"],["data-tip","Say hi!!",1,"tooltip"],[1,"bi","bi-chat-left-heart-fill"]],template:function(r,s){1&r&&(h.F$t(),h.TgZ(0,"div",0),h.Hsn(1),h.qZA(),h.TgZ(2,"div",1)(3,"button",2),h.NdJ("click",function(){return s.currStepNumber=0}),h.TgZ(4,"div",3),h._UZ(5,"i",4),h.qZA()(),h.TgZ(6,"button",5),h.NdJ("click",function(){return s.currStepNumber=1}),h.TgZ(7,"div",6),h._UZ(8,"i",7),h.qZA()(),h.TgZ(9,"button",8),h.NdJ("click",function(){return s.currStepNumber=2}),h.TgZ(10,"div",9),h.O4$(),h.TgZ(11,"svg",10),h._UZ(12,"g",11)(13,"g",12),h.TgZ(14,"g",13),h._UZ(15,"path",14)(16,"path",15)(17,"path",16),h.qZA()()()(),h.kcU(),h.TgZ(18,"button",17),h.NdJ("click",function(){return s.currStepNumber=3}),h.TgZ(19,"div",18),h._UZ(20,"i",19),h.qZA()(),h.TgZ(21,"button",20),h.NdJ("click",function(){return s.currStepNumber=4}),h.TgZ(22,"div",21),h._UZ(23,"i",22),h.qZA()()()),2&r&&(h.xp6(3),h.Q6J("ngClass",0==s.currStepNumber?"active":""),h.xp6(3),h.Q6J("ngClass",1==s.currStepNumber?"active":""),h.xp6(3),h.Q6J("ngClass",2===s.currStepNumber?"active":""),h.xp6(9),h.Q6J("ngClass",3==s.currStepNumber?"active":""),h.xp6(3),h.Q6J("ngClass",4==s.currStepNumber?"active":""))},dependencies:[Yo,Ym]}),e})(),qT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"app-bottom-nav"),h._UZ(1,"router-outlet"),h.qZA())},dependencies:[tp,EE]}),e})();const DE=[];let A_=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[Sh.forRoot(DE),Sh]}),e})();const bM=[ln];let ZT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[bM,ln]}),e})(),CE=(()=>{var t;class e{constructor(r){this.themesService=r}ngOnInit(){this.themesService.initDefaultTheme()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(IE))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-home-page"]],decls:47,vars:1,consts:[[1,"grid","place-items-center","h-screen"],[1,"grid","place-items-center"],[1,"w-36","rounded-lg","shadow-2xl","mask","mask-circle","mt-10"],["src","https://avatars.githubusercontent.com/u/19955265?v=4"],[1,"text-5xl","font-bold","text-center"],[1,"swap","swap-flip","text-5xl"],["emoji",""],["type","checkbox"],[1,"swap-on"],[1,"swap-off"],[1,"py-10","flex","flex-row","items-center","justify-center","space-x-4"],["data-tip","@mohammedabkhan",1,"tooltip","tooltip-open","tooltip-top"],["href","https://www.linkedin.com/in/mohammedabkhan/","target","_blank",1,"btn","btn-sm","badge","badge-lg","badge-accent"],[1,"bi","bi-linkedin"],["data-tip","@sleepytaco",1,"tooltip","tooltip-open","tooltip-bottom"],["href","https://github.com/sleepytaco","target","_blank",1,"btn","btn-sm","badge","badge-lg","badge-neutral"],[1,"bi","bi-github"],["href","https://drive.google.com/file/d/16C_OJaY7O5eBTxBNM07P58WdggaePCc-/view?usp=sharing","target","_blank",1,"btn","btn-sm","badge","badge-lg","badge-primary"],[1,"bi","bi-file-earmark-fill"],["data-tip","abukhan363@gmail.com",1,"tooltip","tooltip-open","tooltip-bottom"],[1,"btn","btn-sm","badge","badge-lg","badge-secondary"],[1,"bi","bi-envelope-at-fill"],[1,"btn","btn-sm","badge","badge-lg",3,"click"],[1,"bi","bi-arrow-left-right"],[1,"flex","flex-col","items-center","justify-center","mt-3"],[1,"kbd","kbd-sm"],[1,"flex","flex-row","items-center","justify-center","w-full","gap-2","mt-20"],[1,"flex","justify-center","gap-3"],[1,"kbd"]],template:function(r,s){if(1&r){const u=h.EpF();h.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2),h._UZ(4,"img",3),h.qZA()(),h.TgZ(5,"h1",4),h._uU(6,"Hi, I'm Mohammed! "),h.TgZ(7,"label",5,6),h._UZ(9,"input",7),h.TgZ(10,"div",8),h._uU(11,"\u2728"),h.qZA(),h.TgZ(12,"div",9),h._uU(13,"\u{1f917}"),h.qZA()()(),h.TgZ(14,"div",10)(15,"div",11)(16,"a",12),h._UZ(17,"i",13),h._uU(18," linkedin "),h.qZA()(),h.TgZ(19,"div",14)(20,"a",15),h._UZ(21,"i",16),h._uU(22," github "),h.qZA()(),h.TgZ(23,"a",17),h._UZ(24,"i",18),h._uU(25," resume "),h.qZA(),h.TgZ(26,"div",19)(27,"a",20),h._UZ(28,"i",21),h._uU(29," email "),h.qZA()(),h.TgZ(30,"a",22),h.NdJ("click",function(){h.CHM(u);const m=h.MAs(8);return s.themesService.toggleThemes(),h.KtG(m.click())}),h._UZ(31,"i",23),h._uU(32),h.qZA()(),h.TgZ(33,"div",24)(34,"p"),h._uU(35,"Press "),h.TgZ(36,"kbd",25),h._uU(37,"F"),h.qZA(),h._uU(38," for fireworks."),h.qZA()(),h.TgZ(39,"div",26)(40,"p"),h._uU(41,"Move around with"),h.qZA(),h.TgZ(42,"div",27)(43,"kbd",28),h._uU(44,"\u25c0\ufe0e"),h.qZA(),h.TgZ(45,"kbd",28),h._uU(46,"\u25b6\ufe0e"),h.qZA()()()()()}2&r&&(h.xp6(32),h.hij(" ",s.themesService.getCurrentThemeText," "))}}),e})(),TM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-education-page"]],decls:47,vars:0,consts:[[1,"text-5xl","font-bold","text-center","pt-20"],[1,"grid","grid-cols-2","p-10","mb-16","gap-10"],[1,"flex","flex-col","h-auto","card","gap-4","glass","rounded-box","place-items-center","py-10"],[1,"w-36","rounded-lg","shadow-2xl","mask","mask-circle"],["src","https://kgo.googleusercontent.com/profile_vrt_raw_bytes_1587515319_10192.png"],[1,"text-xl","font-bold","text-center"],[1,"text-sm","italic","text-center"],[1,"text-sm","text-center"],[1,"flex","flex-col","items-center","justify-center","mt-3","px-10","gap-3"],[1,"font-semibold"],[1,"grid","flex-grow","h-auto","card","gap-4","glass","rounded-box","place-items-center","py-10"],["src","https://brand.psu.edu/images/backgrounds/penn-state-shield.jpg"]],template:function(r,s){1&r&&(h.TgZ(0,"h1",0),h._uU(1,"Education"),h.qZA(),h.TgZ(2,"div",1)(3,"div",2)(4,"div",3),h._UZ(5,"img",4),h.qZA(),h.TgZ(6,"div")(7,"h1",5),h._uU(8,"Brown University"),h.qZA(),h.TgZ(9,"h1",6),h._uU(10,"MS in Computer Science (Aug 2022 - May 2024)"),h.qZA(),h.TgZ(11,"h1",7),h._uU(12,"GPA: 4.00"),h.qZA()(),h.TgZ(13,"div",8)(14,"ul")(15,"li"),h._uU(16,"\u2022 CS Master's student concentrating in AI and computer graphics"),h.qZA(),h.TgZ(17,"li"),h._uU(18,"\u2022 TA for CS1410: Artificial Intelligence (Fall 2023)"),h.qZA(),h.TgZ(19,"li"),h._uU(20,"\u2022 TA for CS1470/2470: Deep Learning (Spring 2024)"),h.qZA()(),h.TgZ(21,"p")(22,"span",9),h._uU(23,"Relevant Coursework:"),h.qZA(),h._uU(24," Computer Graphics, Machine Learning, Deep Learning, Reinforcement Learning, Computer Vision, Computational Linguistics"),h.qZA()()(),h.TgZ(25,"div",10)(26,"div",3),h._UZ(27,"img",11),h.qZA(),h.TgZ(28,"div")(29,"h1",5),h._uU(30,"Penn State University - Main Campus"),h.qZA(),h.TgZ(31,"h1",6),h._uU(32,"BS in Computer Engineering (Aug 2018 - May 2022)"),h.qZA(),h.TgZ(33,"h1",7),h._uU(34,"GPA: 3.66"),h.qZA()(),h.TgZ(35,"div",8)(36,"ul")(37,"li"),h._uU(38,"\u2022 Mentor for the Engineering Orientation Network club during Fall 2020"),h.qZA(),h.TgZ(39,"li"),h._uU(40,"\u2022 Grader for CMPSC465: Data Structures and Algorithms course during Fall 2021"),h.qZA(),h.TgZ(41,"li"),h._uU(42,"\u2022 Dean\u2019s List: Fall 2019, Spring 2020, Fall 2020, Spring 2021, Fall 2021, Spring 2022"),h.qZA()(),h.TgZ(43,"p")(44,"span",9),h._uU(45,"Relevant Coursework:"),h.qZA(),h._uU(46," Data Structures and Algorithms, Software Design Methods, Operating Systems, Database Management Systems, Intro to Probability and Stochastic Processes for Engineering"),h.qZA()()()())}}),e})();var ge=P(5861),ny=P(6321),Tr=P(8186);function yp(){return(0,yr.e)((t,e)=>{let n,r=!1;t.subscribe((0,Sn.x)(e,s=>{const u=n;n=s,r&&e.next([u,s]),r=!0}))})}var et,M_=P(3997),Fi=P(6304),x_=(P(5967),P(3106)),Vo=P(534),Jl=P(4537),Rs=P(7879),Xt=P(9058),N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rs={},vp=vp||{},xt=N_||self;function ry(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ah(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var R_="closure_uid_"+(1e9*Math.random()>>>0),P_=0;function TE(t,e,n){return t.call.apply(t.bind,arguments)}function KT(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Li(t,e,n){return(Li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?TE:KT).apply(null,arguments)}function O_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ii(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[s].apply(r,l)}}function Uo(){this.s=this.s,this.o=this.o}Uo.prototype.s=!1,Uo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function WT(t){Object.prototype.hasOwnProperty.call(t,R_)&&t[R_]||(t[R_]=++P_)}(this)},Uo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function iy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ry(r)){const s=t.length||0,u=r.length||0;t.length=s+u;for(let l=0;l<u;l++)t[s+l]=r[l]}else t.push(r)}}function Br(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Br.prototype.h=function(){this.defaultPrevented=!0};var YT=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xt.addEventListener("test",()=>{},e),xt.removeEventListener("test",()=>{},e)}catch{}return t}();function Mh(t){return/^[\s\xa0]*$/.test(t)}function oy(){var t=xt.navigator;return t&&(t=t.userAgent)?t:""}function Bo(t){return-1!=oy().indexOf(t)}function AE(t){return AE[" "](t),t}AE[" "]=function(){};var F_,t,ay=Bo("Opera"),xh=Bo("Trident")||Bo("MSIE"),Xl=Bo("Edge"),ed=Xl||xh,ME=Bo("Gecko")&&!(-1!=oy().toLowerCase().indexOf("webkit")&&!Bo("Edge"))&&!(Bo("Trident")||Bo("MSIE"))&&!Bo("Edge"),xE=-1!=oy().toLowerCase().indexOf("webkit")&&!Bo("Edge");function NE(){var t=xt.document;return t?t.documentMode:void 0}e:{var L_="",uy=(t=oy(),ME?/rv:([^\);]+)(\)|;)/.exec(t):Xl?/Edge\/([\d\.]+)/.exec(t):xh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):xE?/WebKit\/(\S+)/.exec(t):ay?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(uy&&(L_=uy?uy[1]:""),xh){var cy=NE();if(null!=cy&&cy>parseFloat(L_)){F_=String(cy);break e}}F_=L_}var V_=xt.document&&xh&&(NE()||parseInt(F_,10))||void 0;function Nh(t,e){if(Br.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ME){e:{try{AE(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:XT[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Nh.$.h.call(this)}}ii(Nh,Br);var XT={2:"touch",3:"pen",4:"mouse"};Nh.prototype.h=function(){Nh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var wp="closure_listenable_"+(1e6*Math.random()|0),RE=0;function eS(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++RE,this.fa=this.ia=!1}function Ip(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function U_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nS(t){const e={};for(const n in t)e[n]=t[n];return e}const B_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j_(t,e){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)t[n]=r[n];for(let u=0;u<B_.length;u++)n=B_[u],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function is(t){this.src=t,this.g={},this.h=0}function Ep(t,e){var n=e.type;if(n in t.g){var u,r=t.g[n],s=SE(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Ip(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function $_(t,e,n,r){for(var s=0;s<t.length;++s){var u=t[s];if(!u.fa&&u.listener==e&&u.capture==!!n&&u.la==r)return s}return-1}is.prototype.add=function(t,e,n,r,s){var u=t.toString();(t=this.g[u])||(t=this.g[u]=[],this.h++);var l=$_(t,e,r,s);return-1<l?(e=t[l],n||(e.ia=!1)):((e=new eS(e,this.src,u,!!r,s)).ia=n,t.push(e)),e};var PE="closure_lm_"+(1e6*Math.random()|0),H_={};function ly(t,e,n,r,s){if(r&&r.once)return kE(t,e,n,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)ly(t,e[u],n,r,s);return null}return n=Dp(n),t&&t[wp]?t.O(e,n,Ah(r)?!!r.capture:!!r,s):jo(t,e,n,!1,r,s)}function jo(t,e,n,r,s,u){if(!e)throw Error("Invalid event type");var l=Ah(s)?!!s.capture:!!s,m=G_(t);if(m||(t[PE]=m=new is(t)),(n=m.add(e,n,r,l,u)).proxy)return n;if(r=function OE(){const e=z_;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)YT||(s=l),void 0===s&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(FE(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function kE(t,e,n,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)kE(t,e[u],n,r,s);return null}return n=Dp(n),t&&t[wp]?t.P(e,n,Ah(r)?!!r.capture:!!r,s):jo(t,e,n,!0,r,s)}function rS(t,e,n,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)rS(t,e[u],n,r,s);else r=Ah(r)?!!r.capture:!!r,n=Dp(n),t&&t[wp]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=$_(u=t.g[e],n,r,s))&&(Ip(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete t.g[e],t.h--))):t&&(t=G_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$_(e,n,r,s)),(n=-1<t?e[t]:null)&&Sr(n))}function Sr(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[wp])Ep(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=G_(e))?(Ep(n,t),0==n.h&&(n.src=null,e[PE]=null)):Ip(t)}}}function FE(t){return t in H_?H_[t]:H_[t]="on"+t}function z_(t,e){if(t.fa)t=!0;else{e=new Nh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Sr(t),t=n.call(r,e)}return t}function G_(t){return(t=t[PE])instanceof is?t:null}var q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dp(t){return"function"==typeof t?t:(t[q_]||(t[q_]=function(e){return t.handleEvent(e)}),t[q_])}function jr(){Uo.call(this),this.i=new is(this),this.S=this,this.J=null}function si(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Br(e,t);else if(e instanceof Br)e.target=e.target||t;else{var s=e;j_(e=new Br(r,t),s)}if(s=!0,n)for(var u=n.length-1;0<=u;u--){var l=e.g=n[u];s=dy(l,r,!0,e)&&s}if(s=dy(l=e.g=t,r,!0,e)&&s,s=dy(l,r,!1,e)&&s,n)for(u=0;u<n.length;u++)s=dy(l=e.g=n[u],r,!1,e)&&s}function dy(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==n){var m=l.listener,I=l.la||l.src;l.ia&&Ep(t.i,l),s=!1!==m.call(I,r)&&s}}return s&&!r.defaultPrevented}ii(jr,Uo),jr.prototype[wp]=!0,jr.prototype.removeEventListener=function(t,e,n,r){rS(this,t,e,n,r)},jr.prototype.N=function(){if(jr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ip(n[r]);delete t.g[e],t.h--}}this.J=null},jr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},jr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var hy=xt.JSON.stringify;function VE(){var t=fy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Z_=new class LE{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Rh,t=>t.reset());class Rh{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gu(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ph(t){xt.setTimeout(()=>{throw t},0)}let Cp,bp=!1,fy=new class iS{constructor(){this.h=this.g=null}add(e,n){const r=Z_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},py=()=>{const t=xt.Promise.resolve(void 0);Cp=()=>{t.then(Tp)}};var Tp=()=>{for(var t;t=VE();){try{t.h.call(t.g)}catch(n){Ph(n)}var e=Z_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bp=!1};function Sp(t,e){jr.call(this),this.h=t||1,this.g=e||xt,this.j=Li(this.qb,this),this.l=Date.now()}function UE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Ap(t,e,n){if("function"==typeof t)n&&(t=Li(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Li(t.handleEvent,t)}return 2147483647<Number(e)?-1:xt.setTimeout(t,e||0)}function td(t){t.g=Ap(()=>{t.g=null,t.i&&(t.i=!1,td(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ii(Sp,jr),(et=Sp.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),si(this,"tick"),this.ga&&(UE(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){Sp.$.N.call(this),UE(this),delete this.g};class gy extends Uo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:td(this)}N(){super.N(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oh(t){Uo.call(this),this.h=t,this.g={}}ii(Oh,Uo);var W_=[];function BE(t,e,n,r){Array.isArray(n)||(n&&(W_[0]=n.toString()),n=W_);for(var s=0;s<n.length;s++){var u=ly(e,n[s],r||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function jE(t){U_(t.g,function(e,n){this.g.hasOwnProperty(n)&&Sr(e)},t),t.g={}}function my(){this.g=!0}function Mp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function SM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return hy(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Oh.prototype.N=function(){Oh.$.N.call(this),jE(this)},Oh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},my.prototype.Ea=function(){this.g=!1},my.prototype.info=function(){};var kh={},K_=null;function xp(){return K_=K_||new jr}function aS(t){Br.call(this,kh.Ta,t)}function Fh(t){const e=xp();si(e,new aS(e))}function Np(t,e){Br.call(this,kh.STAT_EVENT,t),this.stat=e}function Vi(t){const e=xp();si(e,new Np(e,t))}function Y_(t,e){Br.call(this,kh.Ua,t),this.size=e}function Lh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){t()},e)}kh.Ta="serverreachability",ii(aS,Br),kh.STAT_EVENT="statevent",ii(Np,Br),kh.Ua="timingevent",ii(Y_,Br);var kt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Q_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yy(){}function J_(){}yy.prototype.h=null;var Pp,Rp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vh(){Br.call(this,"d")}function Cc(){Br.call(this,"c")}function bc(){}function Uh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oh(this),this.P=X_,this.V=new Sp(t=ed?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vy}function vy(){this.i=null,this.g="",this.h=!1}ii(Vh,Br),ii(Cc,Br),ii(bc,yy),bc.prototype.g=function(){return new XMLHttpRequest},bc.prototype.i=function(){return{}},Pp=new bc;var X_=45e3,Op={},kp={};function Fp(t,e,n){t.L=1,t.v=Bp($o(e)),t.s=n,t.S=!0,HE(t,null)}function HE(t,e){t.G=Date.now(),Lp(t),t.A=$o(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),JE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new vy,t.g=IS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new gy(Li(t.Pa,t,t.g),t.O)),BE(t.U,t.g,"readystatechange",t.nb),e=t.I?nS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fh(),function sS(t,e,n,r,s,u){t.info(function(){if(t.g)if(u)for(var l="",m=u.split("&"),I=0;I<m.length;I++){var C=m[I].split("=");if(1<C.length){var M=C[0];C=C[1];var R=M.split("_");l=2<=R.length&&"type"==R[1]?l+(M+"=")+C+"&":l+(M+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+n+"\n"+l})}(t.j,t.u,t.A,t.m,t.W,t.s)}function zE(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function GE(t,e,n){let s,r=!0;for(;!t.J&&t.C<n.length;){if(s=qE(t,n),s==kp){4==e&&(t.o=4,Vi(14),r=!1),Mp(t.j,t.m,null,"[Incomplete Response]");break}if(s==Op){t.o=4,Vi(15),Mp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Mp(t.j,t.m,s,null),wy(t,s)}zE(t)&&s!=kp&&s!=Op&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Vi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),f0(e),e.M=!0,Vi(11))):(Mp(t.j,t.m,n,"[Invalid Chunked Response]"),Tc(t),Vp(t))}function qE(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?kp:(n=Number(e.substring(n,r)),isNaN(n)?Op:(r+=1)+n>e.length?kp:(e=e.slice(r,r+n),t.C=r+n,e))}function Lp(t){t.Y=Date.now()+t.P,ZE(t,t.P)}function ZE(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Lh(Li(t.lb,t),e)}function _y(t){t.B&&(xt.clearTimeout(t.B),t.B=null)}function Vp(t){0==t.l.H||t.J||cD(t.l,t)}function Tc(t){_y(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,UE(t.V),jE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function wy(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Cy(n.i,t)))if(!t.K&&Cy(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Ny(n),Ay(n)}h0(n),Vi(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=Lh(Li(n.ib,n),6e3));if(1>=r0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ac(n,11)}else if((t.K||n.g==t)&&Ny(n),!Mh(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(n.V=C[0],C=C[1],2==n.H)if("c"==C[0]){n.K=C[1],n.pa=C[2];const M=C[3];null!=M&&(n.ra=M,n.l.info("VER="+n.ra));const R=C[4];null!=R&&(n.Ga=R,n.l.info("SVER="+n.Ga));const H=C[5];null!=H&&"number"==typeof H&&0<H&&(n.L=r=1.5*H,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const q=t.g;if(q){const ye=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var u=r.i;u.g||-1==ye.indexOf("spdy")&&-1==ye.indexOf("quic")&&-1==ye.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(by(u,u.h),u.h=null))}if(r.F){const Ve=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Ve&&(r.Da=Ve,Fn(r.I,r.F,Ve))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var l=t;if((r=n).wa=dD(r,r.J?r.pa:null,r.Y),l.K){Ty(r.i,l);var m=l,I=r.L;I&&m.setTimeout(I),m.B&&(_y(m),Lp(m)),r.g=l}else aD(r);0<n.j.length&&My(n)}else"stop"!=C[0]&&"close"!=C[0]||Ac(n,7);else 3==n.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Ac(n,7):d0(n):"noop"!=C[0]&&n.h&&n.h.Aa(C),n.A=0)}Fh()}catch{}}function ss(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ry(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function cS(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ry(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function uS(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ry(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],n&&n[u],t)}(et=Uh.prototype).setTimeout=function(t){this.P=t},et.nb=function(t){t=t.target;const e=this.M;e&&3==Ta(t)?e.l():this.Pa(t)},et.Pa=function(t){try{if(t==this.g)e:{const M=Ta(this.g);var e=this.g.Ia();if(this.g.da(),!(3>M)&&(3!=M||ed||this.g&&(this.h.h||this.g.ja()||nD(this.g)))){this.J||4!=M||7==e||Fh(),_y(this);var n=this.g.da();this.ca=n;t:if(zE(this)){var r=nD(this.g);t="";var s=r.length,u=4==Ta(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Tc(this),Vp(this);var l="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==n,function $E(t,e,n,r,s,u,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,M,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,I=this.g;if((m=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mh(m)){var C=m;break t}}C=null}if(!(n=C)){this.i=!1,this.o=3,Vi(12),Tc(this),Vp(this);break e}Mp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wy(this,n)}this.S?(GE(this,M,l),ed&&this.i&&3==M&&(BE(this.U,this.V,"tick",this.mb),this.V.start())):(Mp(this.j,this.m,l,null),wy(this,l)),4==M&&Tc(this),this.i&&!this.J&&(4==M?cD(this.l,this):(this.i=!1,Lp(this)))}else(function qp(t){const e={};t=(t.g&&2<=Ta(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Mh(t[r]))continue;var n=gu(t[r]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const u=e[s]||[];e[s]=u,u.push(n)}!function tS(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<l.indexOf("Unknown SID")?(this.o=3,Vi(12)):(this.o=0,Vi(13)),Tc(this),Vp(this)}}}catch{}},et.mb=function(){if(this.g){var t=Ta(this.g),e=this.g.ja();this.C<e.length&&(_y(this),GE(this,t,e),this.i&&4!=t&&Lp(this))}},et.cancel=function(){this.J=!0,Tc(this)},et.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function oS(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fh(),Vi(17)),Tc(this),this.o=2,Vp(this)):ZE(this,this.Y-t)};var WE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bh(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Bh){this.h=t.h,Up(this,t.j),this.s=t.s,this.g=t.g,Iy(this,t.m),this.l=t.l;var e=t.i,n=new os;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),KE(this,n),this.o=t.o}else t&&(e=String(t).match(WE))?(this.h=!1,Up(this,e[1]||"",!0),this.s=jp(e[2]||""),this.g=jp(e[3]||"",!0),Iy(this,e[4]),this.l=jp(e[5]||"",!0),KE(this,e[6]||"",!0),this.o=jp(e[7]||"")):(this.h=!1,this.i=new os(null,this.h))}function $o(t){return new Bh(t)}function Up(t,e,n){t.j=n?jp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Iy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KE(t,e,n){e instanceof os?(t.i=e,function XE(t,e){e&&!t.j&&(Ca(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(QE(this,r),JE(this,s,n))},t)),t.j=e}(t.i,t.h)):(n||(e=$p(e,fS)),t.i=new os(e,t.h))}function Fn(t,e,n){t.i.set(e,n)}function Bp(t){return Fn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $p(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,e0),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function e0(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Bh.prototype.toString=function(){var t=[],e=this.j;e&&t.push($p(e,YE,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push($p(e,YE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push($p(n,"/"==n.charAt(0)?hS:dS,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$p(n,pS)),t.join("")};var YE=/[#\/\?@]/g,dS=/[#\?:]/g,hS=/[#\?]/g,fS=/[#\?@]/g,pS=/#/g;function os(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ca(t){t.g||(t.g=new Map,t.h=0,t.i&&function lS(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var u=t[n].substring(0,r);s=t[n].substring(r+1)}else u=t[n];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function QE(t,e){Ca(t),e=rd(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function t0(t,e){return Ca(t),e=rd(t,e),t.g.has(e)}function JE(t,e,n){QE(t,e),0<n.length&&(t.i=null,t.g.set(rd(t,e),iy(n)),t.h+=n.length)}function rd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Dy(t){this.l=t||AM,t=xt.PerformanceNavigationTiming?0<(t=xt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(xt.g&&xt.g.Ka&&xt.g.Ka()&&xt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=os.prototype).add=function(t,e){Ca(this),this.i=null,t=rd(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},et.forEach=function(t,e){Ca(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)},et.ta=function(){Ca(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let u=0;u<s.length;u++)n.push(e[r])}return n},et.Z=function(t){Ca(this);let e=[];if("string"==typeof t)t0(this,t)&&(e=e.concat(this.g.get(rd(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},et.set=function(t,e){return Ca(this),this.i=null,t0(this,t=rd(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},et.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),t.push(s)}}return this.i=t.join("&")};var AM=10;function n0(t){return!!t.h||!!t.g&&t.g.size>=t.j}function r0(t){return t.h?1:t.g?t.g.size:0}function Cy(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function by(t,e){t.g?t.g.add(e):t.h=e}function Ty(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ba(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return iy(t.i)}Dy.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var gS=class{stringify(t){return xt.JSON.stringify(t,void 0)}parse(t){return xt.JSON.parse(t,void 0)}};function mS(){this.g=new gS}function s0(t,e,n){const r=n||"";try{ss(t,function(s,u){let l=s;Ah(s)&&(l=hy(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Hp(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function zp(t){this.l=t.fc||null,this.j=t.ob||!1}function id(t,e){jr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=sd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ii(zp,yy),zp.prototype.g=function(){return new id(this.l,this.j)},zp.prototype.i=function(t){return function(){return t}}({}),ii(id,jr);var sd=0;function o0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Sc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sy(t)}function Sy(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(et=id.prototype).open=function(t,e){if(this.readyState!=sd)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sy(this)},et.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||xt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sc(this)),this.readyState=sd},et.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sy(this)),this.g&&(this.readyState=3,Sy(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof xt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;o0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sc(this):Sy(this),3==this.readyState&&o0(this)}},et.Za=function(t){this.g&&(this.response=this.responseText=t,Sc(this))},et.Ya=function(t){this.g&&(this.response=t,Sc(this))},et.ka=function(){this.g&&Sc(this)},et.setRequestHeader=function(t,e){this.v.append(t,e)},et.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(id.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var vS=xt.JSON.parse;function Wn(t){jr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=a0,this.L=this.M=!1}ii(Wn,jr);var a0="",_S=/^https?$/i,wS=["POST","PUT"];function u0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jh(t),Gp(t)}function jh(t){t.F||(t.F=!0,si(t,"complete"),si(t,"error"))}function tD(t){if(t.h&&typeof vp<"u"&&(!t.C[1]||4!=Ta(t)||2!=t.da()))if(t.v&&4==Ta(t))Ap(t.La,0,t);else if(si(t,"readystatechange"),4==Ta(t)){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===l){var s=String(t.I).match(WE)[1]||null;!s&&xt.self&&xt.self.location&&(s=xt.self.location.protocol.slice(0,-1)),r=!_S.test(s?s.toLowerCase():"")}n=r}if(n)si(t,"complete"),si(t,"success");else{t.m=6;try{var u=2<Ta(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.da()+"]",jh(t)}}finally{Gp(t)}}}function Gp(t,e){if(t.g){c0(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||si(t,"ready");try{n.onreadystatechange=r}catch{}}}function c0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(xt.clearTimeout(t.A),t.A=null)}function Ta(t){return t.g?t.g.readyState:0}function nD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case a0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rD(t){let e="";return U_(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function l0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rD(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fn(t,e,n))}function Zp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iD(t){this.Ga=0,this.j=[],this.l=new my,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zp("baseRetryDelayMs",5e3,t),this.hb=Zp("retryDelaySeedMs",1e4,t),this.eb=Zp("forwardChannelMaxRetries",2,t),this.xa=Zp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Dy(t&&t.concurrentRequestLimit),this.Ja=new mS,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function d0(t){if(sD(t),3==t.H){var e=t.W++,n=$o(t.I);if(Fn(n,"SID",t.K),Fn(n,"RID",e),Fn(n,"TYPE","terminate"),Wp(t,n),(e=new Uh(t,t.l,e)).L=2,e.v=Bp($o(n)),n=!1,xt.navigator&&xt.navigator.sendBeacon)try{n=xt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&xt.Image&&((new Image).src=e.v,n=!0),n||(e.g=IS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Lp(e)}p0(t)}function Ay(t){t.g&&(f0(t),t.g.cancel(),t.g=null)}function sD(t){Ay(t),t.u&&(xt.clearTimeout(t.u),t.u=null),Ny(t),t.i.cancel(),t.m&&("number"==typeof t.m&&xt.clearTimeout(t.m),t.m=null)}function My(t){if(!n0(t.i)&&!t.m){t.m=!0;var e=t.Na;Cp||py(),bp||(Cp(),bp=!0),fy.add(e,t),t.C=0}}function xy(t,e){var n;n=e?e.m:t.W++;const r=$o(t.I);Fn(r,"SID",t.K),Fn(r,"RID",n),Fn(r,"AID",t.V),Wp(t,r),t.o&&t.s&&l0(r,t.o,t.s),n=new Uh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Kp(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),by(t.i,n),Fp(n,r,e)}function Wp(t,e){t.na&&U_(t.na,function(n,r){Fn(e,r,n)}),t.h&&ss({},function(n,r){Fn(e,r,n)})}function Kp(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Li(t.h.Va,t.h,t):null;e:{var s=t.j;let u=-1;for(;;){const l=["count="+n];-1==u?0<n?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let I=0;I<n;I++){let C=s[I].g;const M=s[I].map;if(C-=u,0>C)u=Math.max(0,s[I].g-100),m=!1;else try{s0(M,l,"req"+C+"_")}catch{r&&r(M)}}if(m){r=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function aD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Cp||py(),bp||(Cp(),bp=!0),fy.add(e,t),t.A=0}}function h0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Lh(Li(t.Ma,t),lD(t,t.A)),t.A++,0))}function f0(t){null!=t.B&&(xt.clearTimeout(t.B),t.B=null)}function uD(t){t.g=new Uh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=$o(t.wa);Fn(e,"RID","rpc"),Fn(e,"SID",t.K),Fn(e,"AID",t.V),Fn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Fn(e,"TO",t.qa),Fn(e,"TYPE","xmlhttp"),Wp(t,e),t.o&&t.s&&l0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Bp($o(e)),n.s=null,n.S=!0,HE(n,t)}function Ny(t){null!=t.v&&(xt.clearTimeout(t.v),t.v=null)}function cD(t,e){var n=null;if(t.g==e){Ny(t),f0(t),t.g=null;var r=2}else{if(!Cy(t.i,e))return;n=e.F,Ty(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;si(r=xp(),new Y_(r,n)),My(t)}else aD(t);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function oD(t,e){return!(r0(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Lh(Li(t.Na,t,e),lD(t,t.C)),t.C++,0)))}(t,e)||2==r&&h0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ac(t,5);break;case 4:Ac(t,10);break;case 3:Ac(t,6);break;default:Ac(t,2)}}function lD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ac(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Li(t.pb,t);n||(n=new Bh("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||Up(n,"https"),Bp(n)),function yS(t,e){const n=new my;if(xt.Image){const r=new Image;r.onload=O_(Hp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=O_(Hp,n,r,"TestLoadImage: error",!1,e),r.onabort=O_(Hp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=O_(Hp,n,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Vi(2);t.H=0,t.h&&t.h.za(e),p0(t),sD(t)}function p0(t){if(t.H=0,t.ma=[],t.h){const e=ba(t.i);(0!=e.length||0!=t.j.length)&&(sy(t.ma,e),sy(t.ma,t.j),t.i.i.length=0,iy(t.j),t.j.length=0),t.h.ya()}}function dD(t,e,n){var r=n instanceof Bh?$o(n):new Bh(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Iy(r,r.m);else{var s=xt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new Bh(null);r&&Up(u,r),e&&(u.g=e),s&&Iy(u,s),n&&(u.l=n),r=u}return e=t.Da,(n=t.F)&&e&&Fn(r,n,e),Fn(r,"VER",t.ra),Wp(t,r),r}function IS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wn(n&&t.Ha&&!t.va?new zp({ob:!0}):t.va)).Oa(t.J),e}function g0(){}function Yp(){if(xh&&!(10<=Number(V_)))throw Error("Environmental error: no available transport.")}function eo(t,e){jr.call(this),this.g=new iD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Mh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $h(this)}function Qp(t){Vh.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function hD(){Cc.call(this),this.status=1}function $h(t){this.g=t}function Ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function to(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var u=t.g[3],l=(e=t.g[0])+(u^(n=t.g[1])&((s=t.g[2])^u))+r[0]+3614090360&4294967295;l=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=(n=(s=(u=(e=n+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(n^u&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^n&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(n^u&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^n&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(n^u&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^n&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(n^u&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^s&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^n&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^s&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^n&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^s&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^n&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^s&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^n&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(n^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=n+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=n+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=n+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^n)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=n+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(n|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~n))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=n+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(n|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~n))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=n+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(n|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~n))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=n+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=n+((l=e+(s^(n|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~n))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+u&4294967295}function sn(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var u=0|t[s];r&&u==e||(n[s]=u,r=!1)}this.g=n}(et=Wn.prototype).Oa=function(t){this.M=t},et.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pp.g(),this.C=function nd(t){return t.h||(t.h=t.i())}(this.u?this.u:Pp),this.g.onreadystatechange=Li(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(u){return void u0(this,u)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())n.set(u,r.get(u))}r=Array.from(n.keys()).find(u=>"content-type"==u.toLowerCase()),s=xt.FormData&&t instanceof xt.FormData,!(0<=SE(wS,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of n)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{c0(this),0<this.B&&((this.L=function eD(t){return xh&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Li(this.ua,this)):this.A=Ap(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){u0(this,u)}},et.ua=function(){typeof vp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},et.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,si(this,"complete"),si(this,"abort"),Gp(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gp(this,!0)),Wn.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?tD(this):this.kb())},et.kb=function(){tD(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<Ta(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vS(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=iD.prototype).ra=8,et.H=1,et.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Uh(this,this.l,t);let u=this.s;if(this.U&&(u?(u=nS(u),j_(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Kp(this,s,e),Fn(n=$o(this.I),"RID",t),Fn(n,"CVER",22),this.F&&Fn(n,"X-HTTP-Session-Id",this.F),Wp(this,n),u&&(this.O?e="headers="+encodeURIComponent(String(rD(u)))+"&"+e:this.o&&l0(n,this.o,u)),by(this.i,s),this.bb&&Fn(n,"TYPE","init"),this.P?(Fn(n,"$req",e),Fn(n,"SID","null"),s.aa=!0,Fp(s,n,null)):Fp(s,n,e),this.H=2}}else 3==this.H&&(t?xy(this,t):0==this.j.length||n0(this.i)||xy(this))},et.Ma=function(){if(this.u=null,uD(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Lh(Li(this.jb,this),t)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vi(10),Ay(this),uD(this))},et.ib=function(){null!=this.v&&(this.v=null,Ay(this),h0(this),Vi(19))},et.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Vi(2)):(this.l.info("Failed to ping google.com"),Vi(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=g0.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},Yp.prototype.g=function(t,e){return new eo(t,e)},ii(eo,jr),eo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Vi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dD(t,null,t.Y),My(t)},eo.prototype.close=function(){d0(this.g)},eo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=hy(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&My(e)},eo.prototype.N=function(){this.g.h=null,delete this.j,d0(this.g),delete this.g,eo.$.N.call(this)},ii(Qp,Vh),ii(hD,Cc),ii($h,g0),$h.prototype.Ba=function(){si(this.g,"a")},$h.prototype.Aa=function(t){si(this.g,new Qp(t))},$h.prototype.za=function(t){si(this.g,new hD)},$h.prototype.ya=function(){si(this.g,"b")},ii(Ho,function m0(){this.blockSize=-1}),Ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ho.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=n;)to(this,t,u),u+=this.blockSize;if("string"==typeof t){for(;u<e;)if(r[s++]=t.charCodeAt(u++),s==this.blockSize){to(this,r),s=0;break}}else for(;u<e;)if(r[s++]=t[u++],s==this.blockSize){to(this,r),s=0;break}}this.h=s,this.i+=e},Ho.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Ui={};function mu(t){return-128<=t&&128>t?function QT(t,e){var n=Ui;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new sn([0|e],0>e?-1:0)}):new sn([0|t],0>t?-1:0)}function Ps(t){if(isNaN(t)||!isFinite(t))return zo;if(0>t)return ur(Ps(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Jp;return new sn(e,0)}var Jp=4294967296,zo=mu(0),Mc=mu(1),od=mu(16777216);function as(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function gi(t){return-1==t.h}function ur(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new sn(n,~t.h).add(Mc)}function yu(t,e){return t.add(ur(e))}function vu(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sa(t,e){this.g=t,this.h=e}function Xp(t,e){if(as(e))throw Error("division by zero");if(as(t))return new Sa(zo,zo);if(gi(t))return e=Xp(ur(t),e),new Sa(ur(e.g),ur(e.h));if(gi(e))return e=Xp(t,ur(e)),new Sa(ur(e.g),e.h);if(30<t.g.length){if(gi(t)||gi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Mc,r=e;0>=r.X(t);)n=y0(n),r=y0(r);var s=ad(n,1),u=ad(r,1);for(r=ad(r,2),n=ad(n,2);!as(r);){var l=u.add(r);0>=l.X(t)&&(s=s.add(n),u=l),r=ad(r,1),n=ad(n,1)}return e=yu(t,s.R(e)),new Sa(s,e)}for(s=zo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Ps(n)).R(e);gi(l)||0<l.X(t);)l=(u=Ps(n-=r)).R(e);as(u)&&(u=Mc),s=s.add(u),t=yu(t,l)}return new Sa(s,t)}function y0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new sn(n,t.h)}function ad(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],u=0;u<r;u++)s[u]=0<e?t.D(u+n)>>>e|t.D(u+n+1)<<32-e:t.D(u+n);return new sn(s,t.h)}(et=sn.prototype).ea=function(){if(gi(this))return-ur(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Jp+r)*e,e*=Jp}return t},et.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(as(this))return"0";if(gi(this))return"-"+ur(this).toString(t);for(var e=Ps(Math.pow(t,6)),n=this,r="";;){var s=Xp(n,e).g,u=((0<(n=yu(n,s.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(as(n=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},et.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},et.X=function(t){return gi(t=yu(this,t))?-1:as(t)?0:1},et.abs=function(){return gi(this)?ur(this):this},et.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&t.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=l>>>16,n[s]=(l&=65535)<<16|(u&=65535)}return new sn(n,-2147483648&n[n.length-1]?-1:0)},et.R=function(t){if(as(this)||as(t))return zo;if(gi(this))return gi(t)?ur(this).R(ur(t)):ur(ur(this).R(t));if(gi(t))return ur(this.R(ur(t)));if(0>this.X(od)&&0>t.X(od))return Ps(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),m=t.D(s)>>>16,I=65535&t.D(s);n[2*r+2*s]+=l*I,vu(n,2*r+2*s),n[2*r+2*s+1]+=u*I,vu(n,2*r+2*s+1),n[2*r+2*s+1]+=l*m,vu(n,2*r+2*s+1),n[2*r+2*s+2]+=u*m,vu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new sn(n,0)},et.gb=function(t){return Xp(this,t).h},et.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new sn(n,this.h&t.h)},et.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new sn(n,this.h|t.h)},et.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new sn(n,this.h^t.h)},Yp.prototype.createWebChannel=Yp.prototype.g,eo.prototype.send=eo.prototype.u,eo.prototype.open=eo.prototype.m,eo.prototype.close=eo.prototype.close,kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,Q_.COMPLETE="complete",J_.EventType=Rp,Rp.OPEN="a",Rp.CLOSE="b",Rp.ERROR="c",Rp.MESSAGE="d",jr.prototype.listen=jr.prototype.O,Wn.prototype.listenOnce=Wn.prototype.P,Wn.prototype.getLastError=Wn.prototype.Sa,Wn.prototype.getLastErrorCode=Wn.prototype.Ia,Wn.prototype.getStatus=Wn.prototype.da,Wn.prototype.getResponseJson=Wn.prototype.Wa,Wn.prototype.getResponseText=Wn.prototype.ja,Wn.prototype.send=Wn.prototype.ha,Wn.prototype.setWithCredentials=Wn.prototype.Oa,Ho.prototype.digest=Ho.prototype.l,Ho.prototype.reset=Ho.prototype.reset,Ho.prototype.update=Ho.prototype.j,sn.prototype.add=sn.prototype.add,sn.prototype.multiply=sn.prototype.R,sn.prototype.modulo=sn.prototype.gb,sn.prototype.compare=sn.prototype.X,sn.prototype.toNumber=sn.prototype.ea,sn.prototype.toString=sn.prototype.toString,sn.prototype.getBits=sn.prototype.D,sn.fromNumber=Ps,sn.fromString=function Os(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return ur(Os(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ps(Math.pow(e,8)),r=zo,s=0;s<t.length;s+=8){var u=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+u),e);8>u?(u=Ps(Math.pow(e,u)),r=r.R(u).add(Ps(l))):r=(r=r.R(n)).add(Ps(l))}return r};var fD=rs.createWebChannelTransport=function(){return new Yp},pD=rs.getStatEventTarget=function(){return xp()},Ry=rs.ErrorCode=kt,gD=rs.EventType=Q_,mD=rs.Event=kh,v0=rs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_0=rs.FetchXmlHttpFactory=zp,Py=rs.WebChannel=J_,MM=rs.XhrIo=Wn,xM=rs.Md5=Ho,Hh=rs.Integer=sn;const yD="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let zh="9.23.0";const ud=new Rs.Yd("@firebase/firestore");function w0(){return ud.logLevel}function ke(t,...e){if(ud.logLevel<=Rs.in.DEBUG){const n=e.map(eg);ud.debug(`Firestore (${zh}): ${t}`,...n)}}function Kn(t,...e){if(ud.logLevel<=Rs.in.ERROR){const n=e.map(eg);ud.error(`Firestore (${zh}): ${t}`,...n)}}function Bi(t,...e){if(ud.logLevel<=Rs.in.WARN){const n=e.map(eg);ud.warn(`Firestore (${zh}): ${t}`,...n)}}function eg(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function tt(t="Unexpected state"){const e=`FIRESTORE (${zh}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function ut(t,e){t||tt()}function Qe(t,e){return t}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Xt.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mi.UNAUTHENTICATED))}shutdown(){}}class CS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I0{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let s=this.i;const u=C=>this.i!==s?(s=this.i,n(C)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=l;e.enqueueRetryable((0,ge.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},I=C=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>I(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?I(C):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}},0),m()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut("string"==typeof r.accessToken),new vD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new mi(e)}}class Oy{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ky{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Oy(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=u=>{null!=u.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut("string"==typeof n.token),this.T=n.token,new bS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function E0(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class _D{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=E0(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function Ft(t,e){return t<e?-1:t>e?1:0}function Gh(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function wD(t){return t+"\0"}class Ln{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ln(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dt(e)}static min(){return new dt(new Ln(0,0))}static max(){return new dt(new Ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qh{constructor(e,n,r){void 0===n?n=0:n>e.length&&tt(),void 0===r?r=e.length-n:r>e.length-n&&tt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===qh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const u=e.get(s),l=n.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class en extends qh{construct(e,n,r){return new en(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new en(n)}static emptyPath(){return new en([])}}const SS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends qh{construct(e,n,r){return new cr(e,n,r)}static isValidIdentifier(e){return SS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cr(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Te(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[s+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Te(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=I,s+=2}else"`"===m?(l=!l,s++):"."!==m||l?(r+=m,s++):(u(),s++)}if(u(),l)throw new Te(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(n)}static emptyPath(){return new cr([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(en.fromString(e))}static fromName(e){return new We(en.fromString(e).popFirst(5))}static empty(){return new We(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return en.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new en(e.slice()))}}class Zh{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function ng(t){return t.fields.find(e=>2===e.kind)}function cd(t){return t.fields.filter(e=>2!==e.kind)}Zh.UNKNOWN_ID=-1;class ld{constructor(e,n){this.fieldPath=e,this.kind=n}}class Wh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Wh(0,ks.min())}}function ID(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=dt.fromTimestamp(1e9===r?new Ln(n+1,0):new Ln(n,r));return new ks(s,We.empty(),e)}function ED(t){return new ks(t.readTime,t.key,-1)}class ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ks(dt.min(),We.empty(),-1)}static max(){return new ks(dt.max(),We.empty(),-1)}}function rg(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=We.comparator(t.documentKey,e.documentKey),0!==n?n:Ft(t.largestBatchId,e.largestBatchId))}const Ly="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _u(t){return b0.apply(this,arguments)}function b0(){return b0=(0,ge.Z)(function*(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==Ly)throw t;ke("LocalStore","Unexpectedly lost primary lease")}),b0.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let s=0,u=0,l=!1;e.forEach(m=>{++s,m.next(()=>{++u,l&&u===s&&n()},I=>r(I))}),l=!0,u===s&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(s=>s?re.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,u)=>{r.push(n.call(this,s,u))}),this.waitFor(r)}static mapArray(e,n){return new re((r,s)=>{const u=e.length,l=new Array(u);let m=0;for(let I=0;I<u;I++){const C=I;n(e[C]).next(M=>{l[C]=M,++m,m===u&&r(l)},M=>s(M))}})}static doWhile(e,n){return new re((r,s)=>{const u=()=>{!0===e()?n().next(()=>{u()},s):r()};u()})}}class ig{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new $r,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new dd(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=Vy(r.target.error);this.v.reject(new dd(e,s))}}static open(e,n,r,s){try{return new ig(n,e.transaction(s,r))}catch(u){throw new dd(n,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new AS(n)}}class Fs{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===Fs.S((0,Xt.z$)())&&Kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),xc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Xt.hl)())return!1;if(Fs.C())return!0;const e=(0,Xt.z$)(),n=Fs.S(e),r=0<n&&n<10,s=Fs.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,ge.Z)(function*(){return n.db||(ke("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,s)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{s(new dd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;s("VersionError"===m.name?new Te(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Te(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new dd(e,m))},u.onupgradeneeded=l=>{ke("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',l.oldVersion),n.V.O(l.target.result,u.transaction,l.oldVersion,n.version).next(()=>{ke("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,s){var u=this;return(0,ge.Z)(function*(){const l="readonly"===n;let m=0;for(;;){++m;try{u.db=yield u.$(e);const I=ig.open(u.db,e,l?"readonly":"readwrite",r),C=s(I).next(M=>(I.P(),M)).catch(M=>(I.abort(M),re.reject(M))).toPromise();return C.catch(()=>{}),yield I.R,C}catch(I){const C=I,M="FirebaseError"!==C.name&&m<3;if(ke("SimpleDb","Transaction failed with error:",C.message,"Retrying:",M),u.close(),!M)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class DD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return xc(this.L.delete())}}class dd extends Te{constructor(e,n){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function wu(t){return"IndexedDbTransactionError"===t.name}class AS{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(ke("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xc(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),xc(this.store.add(e))}get(e){return xc(this.store.get(e)).next(n=>(void 0===n&&(n=null),ke("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),xc(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),xc(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(l,m)=>{u.push(m)}).next(()=>u)}{const s=this.store.getAll(r.range);return new re((u,l)=>{s.onerror=m=>{l(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new re((s,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{s(l.target.result)}})}J(e,n){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,l,m)=>m.delete())}X(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.W(s,n)}Z(e){const n=this.cursor({});return new re((r,s)=>{n.onerror=u=>{const l=Vy(u.target.error);s(l)},n.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}W(e,n){const r=[];return new re((s,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void s();const I=new DD(m),C=n(m.primaryKey,m.value,I);if(C instanceof re){const M=C.catch(R=>(I.done(),re.reject(R)));r.push(M)}I.isDone?s():null===I.K?m.continue():m.continue(I.K)}}).next(()=>re.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function xc(t){return new re((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const s=Vy(r.target.error);n(s)}})}let T0=!1;function Vy(t){const e=Fs.S((0,Xt.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return T0||(T0=!0,setTimeout(()=>{throw r},0)),r}}return t}class CD{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){n.task=null;try{ke("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){wu(r)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield _u(r)}yield n.et(6e4)}))}}class MS{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,ge.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let s=n,u=!0;return re.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return ke("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,s).next(m=>{s-=m,r.add(l)});u=!1})).next(()=>n-s)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(s,u)).next(m=>(ke("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,n,m))).next(()=>l.size)}))}rt(e,n){let r=e;return n.changes.forEach((s,u)=>{const l=ED(u);rg(l,r)>0&&(r=l)}),new ks(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let us=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Kh(t){return null==t}function hd(t){return 0===t&&1/t==-1/0}function sg(t){return"number"==typeof t&&Number.isInteger(t)&&!hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function yi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S0(e)),e=bD(t.get(n),e);return S0(e)}function bD(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const u=t.charAt(s);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function S0(t){return t+"\x01\x01"}function Go(t){const e=t.length;if(ut(e>=2),2===e)return ut("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),en.emptyPath();const n=e-2,r=[];let s="";for(let u=0;u<e;){const l=t.indexOf("\x01",u);switch((l<0||l>n)&&tt(),t.charAt(l+1)){case"\x01":const m=t.substring(u,l);let I;0===s.length?I=m:(s+=m,I=s,s=""),r.push(I);break;case"\x10":s+=t.substring(u,l),s+="\0";break;case"\x11":s+=t.substring(u,l+1);break;default:tt()}u=l+2}return new en(r)}const A0=["userId","batchId"];function og(t,e){return[t,yi(e)]}function M0(t,e,n){return[t,yi(e),n]}const TD={},Uy=["prefixPath","collectionGroup","readTime","documentId"],Nc=["prefixPath","collectionGroup","documentId"],xS=["collectionGroup","readTime","prefixPath","documentId"],NS=["canonicalId","targetId"],x0=["targetId","path"],fd=["path","targetId"],N0=["collectionId","parent"],RS=["indexId","uid"],R0=["uid","sequenceNumber"],RM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],PM=["indexId","uid","orderedDocumentKey"],PS=["userId","collectionPath","documentId"],OS=["userId","collectionPath","largestBatchId"],SD=["userId","collectionGroup","largestBatchId"],AD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hr=[...AD,"documentOverlays"],P0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MD=P0,kS=[...MD,"indexConfiguration","indexState","indexEntries"];class By extends C0{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function oi(t,e){const n=Qe(t);return Fs.M(n.ht,e)}function O0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Iu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Mn{constructor(e,n){this.comparator=e,this.root=n||ai.EMPTY}insert(e,n){return new Mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jy(this.root,e,this.comparator,!1)}getReverseIterator(){return new jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jy(this.root,e,this.comparator,!0)}}class jy{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,n,r,s,u){this.key=e,this.value=n,this.color=r??ai.RED,this.left=s??ai.EMPTY,this.right=u??ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,u){return new ai(e??this.key,n??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,n,r),null):0===u?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===n(e,s.key)){if(s.right.isEmpty())return ai.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1,ai.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(t,e,n,r,s){return this}insert(t,e,n){return new ai(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ag(t){return t.hasNext()?t.getNext():void 0}class Zi{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new Zi([])}unionWith(e){let n=new Vn(cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class $y extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $y("Invalid base64 string: "+s):s}}(e);return new zr(n)}static fromUint8Array(e){const n=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new zr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zr.EMPTY_BYTE_STRING=new zr("");const FS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(ut(!!t),"string"==typeof t){let e=0;const n=FS.exec(t);if(ut(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gr(t){return"string"==typeof t?zr.fromBase64String(t):zr.fromUint8Array(t)}function ug(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cg(t){const e=t.mapValue.fields.__previous_value__;return ug(e)?cg(e):e}function lg(t){const e=vi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ln(e.seconds,e.nanos)}class LS{constructor(e,n,r,s,u,l,m,I,C){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=I,this.useFetchStreams=C}}class Rc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yh={nullValue:"NULL_VALUE"};function no(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ug(t)?4:dg(t)?9007199254740991:10:tt()}function Ma(t,e){if(t===e)return!0;const n=no(t);if(n!==no(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lg(t).isEqual(lg(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=vi(r.timestampValue),l=vi(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Gr(t.bytesValue).isEqual(Gr(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return an(r.geoPointValue.latitude)===an(s.geoPointValue.latitude)&&an(r.geoPointValue.longitude)===an(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return an(r.integerValue)===an(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=an(r.doubleValue),l=an(s.doubleValue);return u===l?hd(u)===hd(l):isNaN(u)&&isNaN(l)}return!1}(t,e);case 9:return Gh(t.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(O0(u)!==O0(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Ma(u[m],l[m])))return!1;return!0}(t,e);default:return tt()}var s}function Qh(t,e){return void 0!==(t.values||[]).find(n=>Ma(n,e))}function Oc(t,e){if(t===e)return 0;const n=no(t),r=no(e);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(t.booleanValue,e.booleanValue);case 2:return function(s,u){const l=an(s.integerValue||s.doubleValue),m=an(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(t,e);case 3:return xD(t.timestampValue,e.timestampValue);case 4:return xD(lg(t),lg(e));case 5:return Ft(t.stringValue,e.stringValue);case 6:return function(s,u){const l=Gr(s),m=Gr(u);return l.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),m=u.split("/");for(let I=0;I<l.length&&I<m.length;I++){const C=Ft(l[I],m[I]);if(0!==C)return C}return Ft(l.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,u){const l=Ft(an(s.latitude),an(u.latitude));return 0!==l?l:Ft(an(s.longitude),an(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],m=u.values||[];for(let I=0;I<l.length&&I<m.length;++I){const C=Oc(l[I],m[I]);if(C)return C}return Ft(l.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Pc.mapValue&&u===Pc.mapValue)return 0;if(s===Pc.mapValue)return 1;if(u===Pc.mapValue)return-1;const l=s.fields||{},m=Object.keys(l),I=u.fields||{},C=Object.keys(I);m.sort(),C.sort();for(let M=0;M<m.length&&M<C.length;++M){const R=Ft(m[M],C[M]);if(0!==R)return R;const H=Oc(l[m[M]],I[C[M]]);if(0!==H)return H}return Ft(m.length,C.length)}(t.mapValue,e.mapValue);default:throw tt()}}function xD(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ft(t,e);const n=vi(t),r=vi(e),s=Ft(n.seconds,r.seconds);return 0!==s?s:Ft(n.nanos,r.nanos)}function gd(t){return Hy(t)}function Hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=vi(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gr(t.bytesValue).toBase64():"referenceValue"in t?We.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=Hy(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of s)l?l=!1:u+=",",u+=`${m}:${Hy(r.fields[m])}`;return u+"}"}(t.mapValue):tt();var e}function yd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zy(t){return!!t&&"integerValue"in t}function Jh(t){return!!t&&"arrayValue"in t}function F0(t){return!!t&&"nullValue"in t}function ND(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gy(t){return!!t&&"mapValue"in t}function vd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Iu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dg(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function RD(t){return"nullValue"in t?Yh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yd(Rc.empty(),We.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:tt()}function PD(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yd(Rc.empty(),We.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Pc:tt()}function L0(t,e){const n=Oc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function V0(t,e){const n=Oc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vd(n)}setAll(e){let n=cr.emptyPath(),r={},s=[];e.forEach((l,m)=>{if(!n.isImmediateParentOf(m)){const I=this.getFieldsMap(n);this.applyChanges(I,r,s),r={},s=[],n=m.popLast()}l?r[m.lastSegment()]=vd(l):s.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,s)}delete(e){const n=this.field(e.popLast());Gy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Iu(n,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new ui(vd(this.value))}}function U0(t){const e=[];return Iu(t.fields,(n,r)=>{const s=new cr([n]);if(Gy(r)){const u=U0(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Zi(e)}class xn{constructor(e,n,r,s,u,l,m){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new xn(e,0,dt.min(),dt.min(),dt.min(),ui.empty(),0)}static newFoundDocument(e,n,r,s){return new xn(e,1,n,dt.min(),r,s,0)}static newNoDocument(e,n){return new xn(e,2,n,dt.min(),dt.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,dt.min(),dt.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eu{constructor(e,n){this.position=e,this.inclusive=n}}function OD(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const u=e[s],l=t.position[s];if(r=u.field.isKeyField()?We.comparator(We.fromName(l.referenceValue),n.key):Oc(l,n.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function kD(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ma(t.position[n],e.position[n]))return!1;return!0}class Xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function VS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FD{}class Yt extends FD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new US(e,n,r):"array-contains"===n?new jD(e,r):"in"===n?new z0(e,r):"not-in"===n?new $D(e,r):"array-contains-any"===n?new HD(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new BS(e,r):new jS(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Oc(n,this.value)):null!==n&&no(this.value)===no(n)&&this.matchesComparison(Oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fn extends FD{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new fn(e,n)}matches(e){return ef(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ef(t){return"and"===t.op}function B0(t){return"or"===t.op}function j0(t){return LD(t)&&ef(t)}function LD(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function $0(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+gd(t.value);if(j0(t))return t.filters.map(e=>$0(e)).join(",");{const e=t.filters.map(n=>$0(n)).join(",");return`${t.op}(${e})`}}function VD(t,e){return t instanceof Yt?(n=t,(r=e)instanceof Yt&&n.op===r.op&&n.field.isEqual(r.field)&&Ma(n.value,r.value)):t instanceof fn?function(n,r){return r instanceof fn&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((s,u,l)=>s&&VD(u,r.filters[l]),!0)}(t,e):void tt();var n,r}function UD(t,e){const n=t.filters.concat(e);return fn.create(n,t.op)}function BD(t){return t instanceof Yt?`${(e=t).field.canonicalString()} ${e.op} ${gd(e.value)}`:t instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(BD).join(" ,")+"}"}(t):"Filter";var e}class US extends Yt{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class BS extends Yt{constructor(e,n){super(e,"in",n),this.keys=H0(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jS extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=H0(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function H0(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>We.fromName(r.referenceValue))}class jD extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jh(n)&&Qh(n.arrayValue,this.value)}}class z0 extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Qh(this.value.arrayValue,n)}}class $D extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Qh(this.value.arrayValue,n)}}class HD extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qh(this.value.arrayValue,r))}}class zD{constructor(e,n=null,r=[],s=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function qy(t,e=null,n=[],r=[],s=null,u=null,l=null){return new zD(t,e,n,r,s,u,l)}function kc(t){const e=Qe(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gd(r)).join(",")),e.dt=n}return e.dt}function tf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kD(t.startAt,e.startAt)&&kD(t.endAt,e.endAt)}function hg(t){return We.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function fg(t,e){return t.filters.filter(n=>n instanceof Yt&&n.field.isEqual(e))}function Fc(t,e,n){let r=Yh,s=!0;for(const u of fg(t,e)){let l=Yh,m=!0;switch(u.op){case"<":case"<=":l=RD(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=Yh}L0({value:r,inclusive:s},{value:l,inclusive:m})<0&&(r=l,s=m)}if(null!==n)for(let u=0;u<t.orderBy.length;++u)if(t.orderBy[u].field.isEqual(e)){const l=n.position[u];L0({value:r,inclusive:s},{value:l,inclusive:n.inclusive})<0&&(r=l,s=n.inclusive);break}return{value:r,inclusive:s}}function GD(t,e,n){let r=Pc,s=!0;for(const u of fg(t,e)){let l=Pc,m=!0;switch(u.op){case">=":case">":l=PD(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=Pc}V0({value:r,inclusive:s},{value:l,inclusive:m})>0&&(r=l,s=m)}if(null!==n)for(let u=0;u<t.orderBy.length;++u)if(t.orderBy[u].field.isEqual(e)){const l=n.position[u];V0({value:r,inclusive:s},{value:l,inclusive:n.inclusive})>0&&(r=l,s=n.inclusive);break}return{value:r,inclusive:s}}class Du{constructor(e,n=null,r=[],s=[],u=null,l="F",m=null,I=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=I,this.wt=null,this._t=null}}function _d(t,e,n,r,s,u,l,m){return new Du(t,e,n,r,s,u,l,m)}function pg(t){return new Du(t)}function Zy(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function qD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Wy(t){return null!==t.collectionGroup}function nf(t){const e=Qe(t);if(null===e.wt){e.wt=[];const n=gg(e),r=qD(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Xh(n)),e.wt.push(new Xh(cr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Xh(cr.keyField(),u))}}}return e.wt}function Ar(t){const e=Qe(t);if(!e._t)if("F"===e.limitType)e._t=qy(e.path,e.collectionGroup,nf(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const u of nf(e))n.push(new Xh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Eu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Eu(e.startAt.position,e.startAt.inclusive):null;e._t=qy(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function G0(t,e){e.getFirstInequalityField(),gg(t);const n=t.filters.concat([e]);return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ky(t,e,n){return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mg(t,e){return tf(Ar(t),Ar(e))&&t.limitType===e.limitType}function wd(t){return`${kc(Ar(t))}|lt:${t.limitType}`}function q0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>BD(r)).join(", ")}]`),Kh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gd(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gd(r)).join(",")),`Target(${n})`}(Ar(t))}; limitType=${t.limitType})`}function Lc(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):We.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of nf(n))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(s,u,l){const m=OD(s,u,l);return s.inclusive?m<=0:m<0}(n.startAt,nf(n),r)||n.endAt&&!function(s,u,l){const m=OD(s,u,l);return s.inclusive?m>=0:m>0}(n.endAt,nf(n),r)));var n,r}function yg(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Wi(t){return(e,n)=>{let r=!1;for(const s of nf(t)){const u=OM(s,e,n);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function OM(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):function(s,u,l){const m=u.data.field(s),I=l.data.field(s);return null!==m&&null!==I?Oc(m,I):tt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Iu(this.inner,(n,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return pd(this.inner)}size(){return this.innerSize}}const ZD=new Mn(We.comparator);function cs(){return ZD}const Z0=new Mn(We.comparator);function rf(...t){let e=Z0;for(const n of t)e=e.insert(n.key,n);return e}function W0(t){let e=Z0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qo(){return vg()}function WD(){return vg()}function vg(){return new xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const $S=new Mn(We.comparator),_g=new Vn(We.comparator);function $t(...t){let e=_g;for(const n of t)e=e.add(n);return e}const HS=new Vn(Ft);function K0(){return HS}function wg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function Y0(t){return{integerValue:""+t}}function Q0(t,e){return sg(e)?Y0(e):wg(t,e)}class Ig{constructor(){this._=void 0}}function zS(t,e,n){return t instanceof af?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&ug(s)&&(s=cg(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(n,e):t instanceof Id?KD(t,e):t instanceof Vc?J0(t,e):function(r,s){const u=sf(r,s),l=YD(u)+YD(r.gt);return zy(u)&&zy(r.gt)?Y0(l):wg(r.serializer,l)}(t,e)}function Eg(t,e,n){return t instanceof Id?KD(t,e):t instanceof Vc?J0(t,e):n}function sf(t,e){return t instanceof Ed?zy(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class af extends Ig{}class Id extends Ig{constructor(e){super(),this.elements=e}}function KD(t,e){const n=X0(e);for(const r of t.elements)n.some(s=>Ma(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vc extends Ig{constructor(e){super(),this.elements=e}}function J0(t,e){let n=X0(e);for(const r of t.elements)n=n.filter(s=>!Ma(s,r));return{arrayValue:{values:n}}}class Ed extends Ig{constructor(e,n){super(),this.serializer=e,this.gt=n}}function YD(t){return an(t.integerValue||t.doubleValue)}function X0(t){return Jh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Dg{constructor(e,n){this.field=e,this.transform=n}}class kM{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ew(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class tw{}function nw(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new bg(t.key,Yn.none()):new Na(t.key,t.data,Yn.none());{const n=t.data,r=ui.empty();let s=new Vn(cr.comparator);for(let u of e.fields)if(!s.has(u)){let l=n.field(u);null===l&&u.length>1&&(u=u.popLast(),l=n.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new Cu(t.key,r,new Zi(s.toArray()),Yn.none())}}function Yy(t,e,n){t instanceof Na?function(r,s,u){const l=r.value.clone(),m=JD(r.fieldTransforms,s,u.transformResults);l.setAll(m),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Cu?function(r,s,u){if(!ew(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=JD(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(QD(r)),m.setAll(l),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Cg(t,e,n,r){return t instanceof Na?function(s,u,l,m){if(!ew(s.precondition,u))return l;const I=s.value.clone(),C=XD(s.fieldTransforms,m,u);return I.setAll(C),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cu?function(s,u,l,m){if(!ew(s.precondition,u))return l;const I=XD(s.fieldTransforms,m,u),C=u.data;return C.setAll(QD(s)),C.setAll(I),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(M=>M.field))}(t,e,n,r):(l=n,ew(t.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function qS(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),u=sf(r.transform,s||null);null!=u&&(null===n&&(n=ui.empty()),n.set(r.field,u))}return n||null}function rw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Gh(n,r,(s,u)=>function GS(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Id&&r instanceof Id||n instanceof Vc&&r instanceof Vc?Gh(n.elements,r.elements,Ma):n instanceof Ed&&r instanceof Ed?Ma(n.gt,r.gt):n instanceof af&&r instanceof af);var n,r}(s,u))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Na extends tw{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cu extends tw{constructor(e,n,r,s,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function QD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JD(t,e,n){const r=new Map;ut(t.length===n.length);for(let s=0;s<n.length;s++){const u=t[s],l=u.transform,m=e.data.field(u.field);r.set(u.field,Eg(l,m,n[s]))}return r}function XD(t,e,n){const r=new Map;for(const s of t){const u=s.transform,l=n.data.field(s.field);r.set(s.field,zS(u,l,e))}return r}class bg extends tw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iw extends tw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qy{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&Yy(u,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WD();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=n.has(s.key)?null:m;const I=nw(l,m);null!==I&&r.set(s.key,I),l.isValidDocument()||l.convertToNoDocument(dt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$t())}isEqual(e){return this.batchId===e.batchId&&Gh(this.mutations,e.mutations,(n,r)=>rw(n,r))&&Gh(this.baseMutations,e.baseMutations,(n,r)=>rw(n,r))}}class sw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ut(e.mutations.length===r.length);let s=$S;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new sw(e,n,r,s)}}class ow{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ZS{constructor(e,n){this.count=e,this.unchangedNames=n}}var _r,tn;function aw(t){switch(t){default:return tt();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function eC(t){if(void 0===t)return Kn("GRPC error has no .code"),ae.UNKNOWN;switch(t){case _r.OK:return ae.OK;case _r.CANCELLED:return ae.CANCELLED;case _r.UNKNOWN:return ae.UNKNOWN;case _r.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case _r.INTERNAL:return ae.INTERNAL;case _r.UNAVAILABLE:return ae.UNAVAILABLE;case _r.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case _r.NOT_FOUND:return ae.NOT_FOUND;case _r.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case _r.ABORTED:return ae.ABORTED;case _r.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case _r.DATA_LOSS:return ae.DATA_LOSS;default:return tt()}}(tn=_r||(_r={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Jy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xy}static getOrCreateInstance(){return null===Xy&&(Xy=new Jy),Xy}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Xy=null;function ev(){return new TextEncoder}const WS=new Hh([4294967295,4294967295],0);function uw(t){const e=ev().encode(t),n=new xM;return n.update(e),new Uint8Array(n.digest())}function cw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hh([n,r],0),new Hh([s,u],0)]}class lw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sg(`Invalid padding: ${n}`);if(r<0)throw new Sg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Sg(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Sg(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Hh.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(Hh.fromNumber(r)));return 1===s.compare(WS)&&(s=new Hh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=uw(e),[r,s]=cw(n);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new lw(u,s,n);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const n=uw(e),[r,s]=cw(n);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Sg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ag{constructor(e,n,r,s,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ag(dt.min(),s,new Mn(Ft),cs(),$t())}}class Dd{constructor(e,n,r,s,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dd(r,n,$t(),$t(),$t())}}class tv{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class dw{constructor(e,n){this.targetId=e,this.Vt=n}}class tC{constructor(e,n,r=zr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class nC{constructor(){this.St=0,this.Dt=iC(),this.Ct=zr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=$t(),n=$t(),r=$t();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:tt()}}),new Dd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=iC()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class KS{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=cs(),this.zt=rC(),this.Wt=new Mn(Ft)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:tt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(hg(l))if(0===s){const m=new We(l.path);this.Yt(r,m,xn.newNoDocument(m,dt.min()))}else ut(1===s);else{const m=this.ie(r);if(m!==s){const I=this.re(e,m);0!==I&&(this.ee(r),this.Wt=this.Wt.insert(r,2===I?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Jy.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(C,M,R){var H,q,ye,Ve,Be,ct;const St={localCacheCount:M,existenceFilterCount:R.count},_t=R.unchangedNames;return _t&&(St.bloomFilter={applied:0===C,hashCount:null!==(H=_t?.hashCount)&&void 0!==H?H:0,bitmapLength:null!==(Ve=null===(ye=null===(q=_t?.bits)||void 0===q?void 0:q.bitmap)||void 0===ye?void 0:ye.length)&&void 0!==Ve?Ve:0,padding:null!==(ct=null===(Be=_t?.bits)||void 0===Be?void 0:Be.padding)&&void 0!==ct?ct:0}),St}(I,m,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let I,C;try{I=Gr(u).toUint8Array()}catch(M){if(M instanceof $y)return Bi("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw M}try{C=new lw(I,l,m)}catch(M){return Bi(M instanceof Sg?"BloomFilter error: ":"Applying bloom filter failed: ",M),1}return 0===C.It?1:s!==n-this.oe(e.targetId,C)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;n.vt(m)||(this.Yt(e,u,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&hg(m.target)){const I=new We(m.target.path);null!==this.jt.get(I)||this.ae(l,I)||this.Yt(l,I,xn.newNoDocument(I,e))}u.Mt&&(n.set(l,u.Ot()),u.Ft())}});let r=$t();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(I=>{const C=this.se(I);return!C||"TargetPurposeLimboResolution"===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new Ag(e,n,this.Wt,this.jt,r);return this.jt=cs(),this.zt=rC(),this.Wt=new Mn(Ft),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new nC,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Vn(Ft),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||ke("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nC),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function rC(){return new Mn(We.comparator)}function iC(){return new Mn(We.comparator)}const YS={asc:"ASCENDING",desc:"DESCENDING"},QS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JS={and:"AND",or:"OR"};class sC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nv(t,e){return t.useProto3Json||Kh(e)?e:{value:e}}function uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aC(t,e){return uf(t,e.toTimestamp())}function wr(t){return ut(!!t),dt.fromTimestamp(function(e){const n=vi(e);return new Ln(n.seconds,n.nanos)}(t))}function hw(t,e){return(n=t,new en(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function uC(t){const e=en.fromString(t);return ut(mw(e)),e}function Mg(t,e){return hw(t.databaseId,e.path)}function ro(t,e){const n=uC(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new We(cC(n))}function xg(t,e){return hw(t.databaseId,e)}function fw(t){const e=uC(t);return 4===e.length?en.emptyPath():cC(e)}function Cd(t){return new en(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cC(t){return ut(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function lC(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function rv(t,e,n){const r=ro(t,e.name),s=wr(e.updateTime),u=e.createTime?wr(e.createTime):dt.min(),l=new ui({mapValue:{fields:e.fields}}),m=xn.newFoundDocument(r,s,u,l);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function Zo(t,e){let n;if(e instanceof Na)n={update:lC(t,e.key,e.value)};else if(e instanceof bg)n={delete:Mg(t,e.key)};else if(e instanceof Cu)n={update:lC(t,e.key,e.data),updateMask:pC(e.fieldMask)};else{if(!(e instanceof iw))return tt();n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof af)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Id)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ed)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw tt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:aC(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:tt()),n;var s}function iv(t,e){const n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Yn.updateTime(wr(s.updateTime)):void 0!==s.exists?Yn.exists(s.exists):Yn.none():Yn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,l){let m=null;"setToServerValue"in l?(ut("REQUEST_TIME"===l.setToServerValue),m=new af):"appendMissingElements"in l?m=new Id(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new Vc(l.removeAllFromArray.values||[]):"increment"in l?m=new Ed(u,l.increment):tt();const I=cr.fromServerFormat(l.fieldPath);return new Dg(I,m)}(t,s)):[];var s;if(e.update){const s=ro(t,e.update.name),u=new ui({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Zi((e.updateMask.fieldPaths||[]).map(C=>cr.fromServerFormat(C)));return new Cu(s,u,l,n,r)}return new Na(s,u,n,r)}if(e.delete){const s=ro(t,e.delete);return new bg(s,n)}if(e.verify){const s=ro(t,e.verify);return new iw(s,n)}return tt()}function tA(t,e){return{documents:[xg(t,e.path)]}}function Ng(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=xg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(I){if(0!==I.length)return gw(fn.create(I,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const u=function(I){if(0!==I.length)return I.map(C=>{return{field:Ra((M=C).field),direction:hC(M.dir)};var M})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const l=nv(t,e.limit);var m,I;return null!==l&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(n.structuredQuery.endAt={before:!(I=e.endAt).inclusive,values:I.position}),n}function sv(t){let e=fw(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ut(1===r);const M=n.from[0];M.allDescendants?s=M.collectionId:e=e.child(M.collectionId)}let u=[];n.where&&(u=function(M){const R=pw(M);return R instanceof fn&&j0(R)?R.getFilters():[R]}(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(M=>{return new Xh(bd((R=M).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;n.limit&&(m=function(M){let R;return R="object"==typeof M?M.value:M,Kh(R)?null:R}(n.limit));let I=null;var M;n.startAt&&(I=new Eu((M=n.startAt).values||[],!!M.before));let C=null;return n.endAt&&(C=function(M){return new Eu(M.values||[],!M.before)}(n.endAt)),_d(e,s,l,u,m,"F",I,C)}function pw(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=bd(e.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=bd(e.unaryFilter.field);return Yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bd(e.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bd(e.unaryFilter.field);return Yt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(t):void 0!==t.fieldFilter?Yt.create(bd((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return fn.create(e.compositeFilter.filters.map(n=>pw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return tt()}}(e.compositeFilter.op))}(t):tt();var e}function hC(t){return YS[t]}function rA(t){return QS[t]}function fC(t){return JS[t]}function Ra(t){return{fieldPath:t.canonicalString()}}function bd(t){return cr.fromServerFormat(t.fieldPath)}function gw(t){return t instanceof Yt?function(e){if("=="===e.op){if(ND(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NAN"}};if(F0(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ND(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NAN"}};if(F0(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(e.field),op:rA(e.op),value:e.value}}}(t):t instanceof fn?function(e){const n=e.getFilters().map(r=>gw(r));return 1===n.length?n[0]:{compositeFilter:{op:fC(e.op),filters:n}}}(t):tt()}function pC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mw(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class bu{constructor(e,n,r,s,u=dt.min(),l=dt.min(),m=zr.EMPTY_BYTE_STRING,I=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=I}withSequenceNumber(e){return new bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gC{constructor(e){this.fe=e}}function mC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Rg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Mg(s=t.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:uf(s,u.version.toTimestamp()),createTime:uf(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:cf(e.version)};else{if(!e.isUnknownDocument())return tt();r.unknownDocument={path:n.path.toArray(),version:cf(e.version)}}var s,u;return r}function Rg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function cf(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uc(t){const e=new Ln(t.seconds,t.nanoseconds);return dt.fromTimestamp(e)}function Td(t,e){const n=(e.baseMutations||[]).map(u=>iv(t.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>iv(t.fe,u)),s=Ln.fromMillis(e.localWriteTimeMs);return new Qy(e.batchId,s,n,r)}function Pg(t){const e=Uc(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Uc(t.lastLimboFreeSnapshotVersion):dt.min();let r;var s;return void 0!==t.query.documents?(ut(1===(s=t.query).documents.length),r=Ar(pg(fw(s.documents[0])))):r=Ar(sv(t.query)),new bu(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,zr.fromBase64String(t.resumeToken))}function sA(t,e){const n=cf(e.snapshotVersion),r=cf(e.lastLimboFreeSnapshotVersion);let s;s=hg(e.target)?tA(t.fe,e.target):Ng(t.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kc(e.target),readTime:n,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function yw(t){const e=sv({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ky(e,e.limit,"L"):e}function vw(t,e){return new ow(e.largestBatchId,iv(t.fe,e.overlayMutation))}function yC(t,e){const n=e.path.lastSegment();return[t,yi(e.path.popLast()),n]}function vC(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:cf(r.readTime),documentKey:yi(r.documentKey.path),largestBatchId:r.largestBatchId}}class oA{getBundleMetadata(e,n){return _C(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Uc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return _C(e).put({bundleId:(r=n).id,createTime:cf(wr(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return wC(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:yw(s.bundledQuery),readTime:Uc(s.readTime)};var s})}saveNamedQuery(e,n){return wC(e).put({name:(r=n).name,readTime:cf(wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function _C(t){return oi(t,"bundles")}function wC(t){return oi(t,"namedQueries")}class ov{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new ov(e,n.uid||"")}getOverlay(e,n){return Og(e).get(yC(this.userId,n)).next(r=>r?vw(this.serializer,r):null)}getOverlays(e,n){const r=qo();return re.forEach(n,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((u,l)=>{const m=new ow(n,l);s.push(this.we(e,m))}),re.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(l=>s.add(yi(l.getCollectionPath())));const u=[];return s.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(Og(e).J("collectionPathOverlayIndex",m))}),re.waitFor(u)}getOverlaysForCollection(e,n,r){const s=qo(),u=yi(n),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Og(e).j("collectionPathOverlayIndex",l).next(m=>{for(const I of m){const C=vw(this.serializer,I);s.set(C.getKey(),C)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const u=qo();let l;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Og(e).X({index:"collectionGroupOverlayIndex",range:m},(I,C,M)=>{const R=vw(this.serializer,C);u.size()<s||R.largestBatchId===l?(u.set(R.getKey(),R),l=R.largestBatchId):M.done()}).next(()=>u)}we(e,n){return Og(e).put(function(r,s,u){const[l,m,I]=yC(s,u.mutation.key);return{userId:s,collectionPath:m,documentId:I,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Zo(r.fe,u.mutation)}}(this.serializer,this.userId,n))}}function Og(t){return oi(t,"documentOverlays")}class Sd{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(an(e.integerValue));else if("doubleValue"in e){const r=an(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),hd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Gr(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?dg(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):tt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const s of Object.keys(r))this.Te(s,n),this.me(r[s],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const s of r)this.me(s,n)}ve(e,n){this.ye(n,37),We.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function aA(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function IC(t){const e=64-function(n){let r=0;for(let s=0;s<8;++s){const u=aA(255&n[s]);if(r+=u,8!==u)break}return r}(t);return Math.ceil(e/8)}Sd.Ve=new Sd;class kg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=n.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=n.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const n=this.Fe(e),r=IC(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Le(e){const n=this.Fe(e),r=IC(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class EC{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class DC{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class lf{constructor(){this.je=new kg,this.ze=new EC(this.je),this.We=new DC(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Bc{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Bc(this.indexId,this.documentKey,this.arrayValue,r)}}function Tu(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=CC(t.arrayValue,e.arrayValue),0!==n?n:(n=CC(t.directionalValue,e.directionalValue),0!==n?n:We.comparator(t.documentKey,e.documentKey)))}function CC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class uA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){ut(e.collectionGroup===this.collectionId);const n=ng(e);if(void 0!==n&&!this.en(n))return!1;const r=cd(e);let s=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)s=s.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const m=r[u];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[l++],m))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function cA(t){var e,n;if(ut(t instanceof Yt||t instanceof fn),t instanceof Yt){if(t instanceof z0){const s=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(u=>Yt.create(t.field,"==",u)))||[];return fn.create(s,"or")}return t}const r=t.filters.map(s=>cA(s));return fn.create(r,t.op)}function FM(t){if(0===t.getFilters().length)return[];const e=Iw(cA(t));return ut(bC(e)),_w(e)||ww(e)?[e]:e.getFilters()}function _w(t){return t instanceof Yt}function ww(t){return t instanceof fn&&j0(t)}function bC(t){return _w(t)||ww(t)||function(e){if(e instanceof fn&&B0(e)){for(const n of e.getFilters())if(!_w(n)&&!ww(n))return!1;return!0}return!1}(t)}function Iw(t){if(ut(t instanceof Yt||t instanceof fn),t instanceof Yt)return t;if(1===t.filters.length)return Iw(t.filters[0]);const e=t.filters.map(r=>Iw(r));let n=fn.create(e,t.op);return n=av(n),bC(n)?n:(ut(n instanceof fn),ut(ef(n)),ut(n.filters.length>1),n.filters.reduce((r,s)=>Ew(r,s)))}function Ew(t,e){let n;return ut(t instanceof Yt||t instanceof fn),ut(e instanceof Yt||e instanceof fn),n=t instanceof Yt?e instanceof Yt?fn.create([t,e],"and"):df(t,e):e instanceof Yt?df(e,t):function(r,s){if(ut(r.filters.length>0&&s.filters.length>0),ef(r)&&ef(s))return UD(r,s.getFilters());const u=B0(r)?r:s,l=B0(r)?s:r,m=u.filters.map(I=>Ew(I,l));return fn.create(m,"or")}(t,e),av(n)}function df(t,e){if(ef(e))return UD(e,t.getFilters());{const n=e.filters.map(r=>Ew(t,r));return fn.create(n,"or")}}function av(t){if(ut(t instanceof Yt||t instanceof fn),t instanceof Yt)return t;const e=t.getFilters();if(1===e.length)return av(e[0]);if(LD(t))return t;const n=e.map(s=>av(s)),r=[];return n.forEach(s=>{s instanceof Yt?r.push(s):s instanceof fn&&(s.op===t.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:fn.create(r,t.op)}class Dw{constructor(){this.rn=new Cw}addToCollectionParentIndex(e,n){return this.rn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ks.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class Cw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Vn(en.comparator),u=!s.has(r);return this.index[n]=s.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Vn(en.comparator)).toArray()}}const bw=new Uint8Array(0);class lA{constructor(e,n){this.user=e,this.databaseId=n,this.on=new Cw,this.un=new xa(r=>kc(r),(r,s)=>tf(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const u={collectionId:r,parent:yi(s)};return dA(e).put(u)}return re.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[wD(n),""],!1,!0);return dA(e).j(s).next(u=>{for(const l of u){if(l.collectionId!==n)break;r.push(Go(l.parent))}return r})}addFieldIndex(e,n){const r=uv(e),s={indexId:(l=n).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete s.indexId;const u=r.add(s);if(n.indexState){const l=Fg(e);return u.next(m=>{l.put(vC(m,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return u.next()}deleteFieldIndex(e,n){const r=uv(e),s=Fg(e),u=Su(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Su(e);let s=!0;const u=new Map;return re.forEach(this.cn(n),l=>this.an(e,l).next(m=>{s&&(s=!!m),u.set(l,m)})).next(()=>{if(s){let l=$t();const m=[];return re.forEach(u,(I,C)=>{var M;ke("IndexedDbIndexManager",`Using index ${M=I,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${kc(n)}`);const R=function(_t,Ot){const Ht=ng(Ot);if(void 0===Ht)return null;for(const on of fg(_t,Ht.fieldPath))switch(on.op){case"array-contains-any":return on.value.arrayValue.values||[];case"array-contains":return[on.value]}return null}(C,I),H=function(_t,Ot){const Ht=new Map;for(const on of cd(Ot))for(const ds of fg(_t,on.fieldPath))switch(ds.op){case"==":case"in":Ht.set(on.fieldPath.canonicalString(),ds.value);break;case"not-in":case"!=":return Ht.set(on.fieldPath.canonicalString(),ds.value),Array.from(Ht.values())}return null}(C,I),q=function(_t,Ot){const Ht=[];let on=!0;for(const ds of cd(Ot)){const gm=0===ds.kind?Fc(_t,ds.fieldPath,_t.startAt):GD(_t,ds.fieldPath,_t.startAt);Ht.push(gm.value),on&&(on=gm.inclusive)}return new Eu(Ht,on)}(C,I),ye=function(_t,Ot){const Ht=[];let on=!0;for(const ds of cd(Ot)){const gm=0===ds.kind?GD(_t,ds.fieldPath,_t.endAt):Fc(_t,ds.fieldPath,_t.endAt);Ht.push(gm.value),on&&(on=gm.inclusive)}return new Eu(Ht,on)}(C,I),Ve=this.hn(I,C,q),Be=this.hn(I,C,ye),ct=this.ln(I,C,H),St=this.fn(I.indexId,R,Ve,q.inclusive,Be,ye.inclusive,ct);return re.forEach(St,_t=>r.H(_t,n.limit).next(Ot=>{Ot.forEach(Ht=>{const on=We.fromSegments(Ht.documentKey);l.has(on)||(l=l.add(on),m.push(on))})}))}).next(()=>m)}return re.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:FM(fn.create(e.filters,"and")).map(r=>qy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,s,u,l,m){const I=(null!=n?n.length:1)*Math.max(r.length,u.length),C=I/(null!=n?n.length:1),M=[];for(let R=0;R<I;++R){const H=n?this.dn(n[R/C]):bw,q=this.wn(e,H,r[R%C],s),ye=this._n(e,H,u[R%C],l),Ve=m.map(Be=>this.wn(e,H,Be,!0));M.push(...this.createRange(q,ye,Ve))}return M}wn(e,n,r,s){const u=new Bc(e,We.empty(),n,r);return s?u:u.Je()}_n(e,n,r,s){const u=new Bc(e,We.empty(),n,r);return s?u.Je():u}an(e,n){const r=new uA(n),s=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let l=null;for(const m of u)r.tn(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,n){let r=2;const s=this.cn(n);return re.forEach(s,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let I=new Vn(cr.comparator),C=!1;for(const M of m.filters)for(const R of M.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?C=!0:I=I.add(R.field));for(const M of m.orderBy)M.field.isKeyField()||(I=I.add(M.field));return I.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==n.limit&&s.length>1&&2===r?1:r)}mn(e,n){const r=new lf;for(const s of cd(e)){const u=n.data.field(s.fieldPath);if(null==u)return null;const l=r.He(s.kind);Sd.Ve._e(u,l)}return r.Qe()}dn(e){const n=new lf;return Sd.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new lf;return Sd.Ve._e(yd(this.databaseId,n),r.He(function(s){const u=cd(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let s=[];s.push(new lf);let u=0;for(const l of cd(e)){const m=r[u++];for(const I of s)if(this.yn(n,l.fieldPath)&&Jh(m))s=this.pn(s,l,m);else{const C=I.He(l.kind);Sd.Ve._e(m,C)}}return this.In(s)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const s=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of s){const I=new lf;I.seed(m.Qe()),Sd.Ve._e(l,I.He(n.kind)),u.push(I)}return u}yn(e,n){return!!e.filters.find(r=>r instanceof Yt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=uv(e),s=Fg(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(u=>{const l=[];return re.forEach(u,m=>s.get([m.indexId,this.uid]).next(I=>{l.push(function(C,M){const R=M?new Wh(M.sequenceNumber,new ks(Uc(M.readTime),new We(Go(M.documentKey)),M.largestBatchId)):Wh.empty(),H=C.fields.map(([q,ye])=>new ld(cr.fromServerFormat(q),ye));return new Zh(C.indexId,C.collectionGroup,H,R)}(m,I))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Ft(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=uv(e),u=Fg(e);return this.Tn(e).next(l=>s.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(m=>re.forEach(m,I=>u.put(vC(I.indexId,this.user,l,r)))))}updateIndexEntries(e,n){const r=new Map;return re.forEach(n,(s,u)=>{const l=r.get(s.collectionGroup);return(l?re.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(r.set(s.collectionGroup,m),re.forEach(m,I=>this.En(e,s,I).next(C=>{const M=this.An(u,I);return C.isEqual(M)?re.resolve():this.vn(e,u,I,C,M)}))))})}Rn(e,n,r,s){return Su(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,s){return Su(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const s=Su(e);let u=new Vn(Tu);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(l,m)=>{u=u.add(new Bc(r.indexId,n,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,n){let r=new Vn(Tu);const s=this.mn(n,e);if(null==s)return r;const u=ng(n);if(null!=u){const l=e.data.field(u.fieldPath);if(Jh(l))for(const m of l.arrayValue.values||[])r=r.add(new Bc(n.indexId,e.key,this.dn(m),s))}else r=r.add(new Bc(n.indexId,e.key,bw,s));return r}vn(e,n,r,s,u){ke("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const l=[];return function(m,I,C,M,R){const H=m.getIterator(),q=I.getIterator();let ye=ag(H),Ve=ag(q);for(;ye||Ve;){let Be=!1,ct=!1;if(ye&&Ve){const St=C(ye,Ve);St<0?ct=!0:St>0&&(Be=!0)}else null!=ye?ct=!0:Be=!0;Be?(M(Ve),Ve=ag(q)):ct?(R(ye),ye=ag(H)):(ye=ag(H),Ve=ag(q))}}(s,u,Tu,m=>{l.push(this.Rn(e,n,r,m))},m=>{l.push(this.Pn(e,n,r,m))}),re.waitFor(l)}Tn(e){let n=1;return Fg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((l,m)=>Tu(l,m)).filter((l,m,I)=>!m||0!==Tu(l,I[m-1]));const s=[];s.push(e);for(const l of r){const m=Tu(l,e),I=Tu(l,n);if(0===m)s[0]=e.Je();else if(m>0&&I<0)s.push(l),s.push(l.Je());else if(I>0)break}s.push(n);const u=[];for(let l=0;l<s.length;l+=2){if(this.bn(s[l],s[l+1]))return[];u.push(IDBKeyRange.bound([s[l].indexId,this.uid,s[l].arrayValue,s[l].directionalValue,bw,[]],[s[l+1].indexId,this.uid,s[l+1].arrayValue,s[l+1].directionalValue,bw,[]]))}return u}bn(e,n){return Tu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(TC)}getMinOffset(e,n){return re.mapArray(this.cn(n),r=>this.an(e,r).next(s=>s||tt())).next(TC)}}function dA(t){return oi(t,"collectionParents")}function Su(t){return oi(t,"indexEntries")}function uv(t){return oi(t,"indexConfiguration")}function Fg(t){return oi(t,"indexState")}function TC(t){ut(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;rg(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new ks(e.readTime,e.documentKey,n)}const Lg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _i{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function SC(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),u=[],l=IDBKeyRange.only(n.batchId);let m=0;const I=r.X({range:l},(M,R,H)=>(m++,H.delete()));u.push(I.next(()=>{ut(1===m)}));const C=[];for(const M of n.mutations){const R=M0(e,M.key.path,n.batchId);u.push(s.delete(R)),C.push(M.key)}return re.waitFor(u).next(()=>C)}function Vg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw tt();e=t.noDocument}return JSON.stringify(e).length}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(41943040,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class Ad{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,n,r,s){ut(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Ad(u,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jc(e).X({index:"userMutationsIndex",range:r},(s,u,l)=>{n=!1,l.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const u=Md(e),l=jc(e);return l.add({}).next(m=>{ut("number"==typeof m);const I=new Qy(m,n,r,s),C=function(H,q,ye){const Ve=ye.baseMutations.map(ct=>Zo(H.fe,ct)),Be=ye.mutations.map(ct=>Zo(H.fe,ct));return{userId:q,batchId:ye.batchId,localWriteTimeMs:ye.localWriteTime.toMillis(),baseMutations:Ve,mutations:Be}}(this.serializer,this.userId,I),M=[];let R=new Vn((H,q)=>Ft(H.canonicalString(),q.canonicalString()));for(const H of s){const q=M0(this.userId,H.key.path,m);R=R.add(H.key.path.popLast()),M.push(l.put(C)),M.push(u.put(q,TD))}return R.forEach(H=>{M.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.Vn[m]=I.keys()}),re.waitFor(M).next(()=>I)})}lookupMutationBatch(e,n){return jc(e).get(n).next(r=>r?(ut(r.userId===this.userId),Td(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?re.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Vn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return jc(e).X({index:"userMutationsIndex",range:s},(l,m,I)=>{m.userId===this.userId&&(ut(m.batchId>=r),u=Td(this.serializer,m)),I.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return jc(e).X({index:"userMutationsIndex",range:n,reverse:!0},(s,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jc(e).j("userMutationsIndex",n).next(r=>r.map(s=>Td(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=og(this.userId,n.path),s=IDBKeyRange.lowerBound(r),u=[];return Md(e).X({range:s},(l,m,I)=>{const[C,M,R]=l,H=Go(M);if(C===this.userId&&n.path.isEqual(H))return jc(e).get(R).next(q=>{if(!q)throw tt();ut(q.userId===this.userId),u.push(Td(this.serializer,q))});I.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vn(Ft);const s=[];return n.forEach(u=>{const l=og(this.userId,u.path),m=IDBKeyRange.lowerBound(l),I=Md(e).X({range:m},(C,M,R)=>{const[H,q,ye]=C,Ve=Go(q);H===this.userId&&u.path.isEqual(Ve)?r=r.add(ye):R.done()});s.push(I)}),re.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,u=og(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new Vn(Ft);return Md(e).X({range:l},(I,C,M)=>{const[R,H,q]=I,ye=Go(H);R===this.userId&&r.isPrefixOf(ye)?ye.length===s&&(m=m.add(q)):M.done()}).next(()=>this.Dn(e,m))}Dn(e,n){const r=[],s=[];return n.forEach(u=>{s.push(jc(e).get(u).next(l=>{if(null===l)throw tt();ut(l.userId===this.userId),r.push(Td(this.serializer,l))}))}),re.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return SC(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),re.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return re.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Md(e).X({range:r},(u,l,m)=>{if(u[0]===this.userId){const I=Go(u[1]);s.push(I)}else m.done()}).next(()=>{ut(0===s.length)})})}containsKey(e,n){return AC(e,this.userId,n)}xn(e){return MC(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function AC(t,e,n){const r=og(e,n.path),s=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return Md(t).X({range:u,Y:!0},(m,I,C)=>{const[M,R,H]=m;M===e&&R===s&&(l=!0),C.done()}).next(()=>l)}function jc(t){return oi(t,"mutations")}function Md(t){return oi(t,"documentMutations")}function MC(t){return oi(t,"mutationQueues")}class xd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xd(0)}static Mn(){return new xd(-1)}}class xC{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new xd(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>dt.fromTimestamp(new Ln(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.On(e,s)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Au(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(ut(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let s=0;const u=[];return Au(e).X((l,m)=>{const I=Pg(m);I.sequenceNumber<=n&&null===r.get(I.targetId)&&(s++,u.push(this.removeTargetData(e,I)))}).next(()=>re.waitFor(u)).next(()=>s)}forEachTarget(e,n){return Au(e).X((r,s)=>{const u=Pg(s);n(u)})}$n(e){return NC(e).get("targetGlobalKey").next(n=>(ut(null!==n),n))}On(e,n){return NC(e).put("targetGlobalKey",n)}Fn(e,n){return Au(e).put(sA(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=kc(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Au(e).X({range:s,index:"queryTargetsIndex"},(l,m,I)=>{const C=Pg(m);tf(n,C.target)&&(u=C,I.done())}).next(()=>u)}addMatchingKeys(e,n,r){const s=[],u=$c(e);return n.forEach(l=>{const m=yi(l.path);s.push(u.put({targetId:r,path:m})),s.push(this.referenceDelegate.addReference(e,r,l))}),re.waitFor(s)}removeMatchingKeys(e,n,r){const s=$c(e);return re.forEach(n,u=>{const l=yi(u.path);return re.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,n){const r=$c(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=$c(e);let u=$t();return s.X({range:r,Y:!0},(l,m,I)=>{const C=Go(l[1]),M=new We(C);u=u.add(M)}).next(()=>u)}containsKey(e,n){const r=yi(n.path),s=IDBKeyRange.bound([r],[wD(r)],!1,!0);let u=0;return $c(e).X({index:"documentTargetsIndex",Y:!0,range:s},([l,m],I,C)=>{0!==l&&(u++,C.done())}).next(()=>u>0)}le(e,n){return Au(e).get(n).next(r=>r?Pg(r):null)}}function Au(t){return oi(t,"targets")}function NC(t){return oi(t,"targetGlobal")}function $c(t){return oi(t,"targetDocuments")}function Tw([t,e],[n,r]){const s=Ft(t,n);return 0===s?Ft(e,r):s}class RC{constructor(e){this.Ln=e,this.buffer=new Vn(Tw),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Tw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cv{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){wu(r)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield _u(r)}yield n.Qn(3e5)}))}}class PC{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return re.resolve(us.ct);const r=new RC(n);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Lg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lg):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,s,u,l,m,I,C;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),s=this.params.maximumSequenceNumbersToCollect):s=R,l=Date.now(),this.nthSequenceNumber(e,s))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,n))).next(R=>(u=R,I=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(C=Date.now(),w0()<=Rs.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-M}ms\n\tDetermined least recently used ${s} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(I-m)+`ms\n\tRemoved ${R} documents in `+(C-I)+`ms\nTotal Duration: ${C-M}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:R})))}}class kC{constructor(e,n){this.db=e,this.garbageCollector=function OC(t,e){return new PC(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,s)=>n(s))}addReference(e,n,r){return Ug(e,r)}removeReference(e,n,r){return Ug(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Ug(e,n)}Xn(e,n){return function(r,s){let u=!1;return MC(r).Z(l=>AC(r,l,s).next(m=>(m&&(u=!0),re.resolve(!m)))).next(()=>u)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Yn(e,(l,m)=>{if(m<=n){const I=this.Xn(e,l).next(C=>{if(!C)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,dt.min()),$c(e).delete([0,yi(l.path)])))});s.push(I)}}).next(()=>re.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Ug(e,n)}Yn(e,n){const r=$c(e);let s,u=us.ct;return r.X({index:"documentTargetsIndex"},([l,m],{path:I,sequenceNumber:C})=>{0===l?(u!==us.ct&&n(new We(Go(s)),u),u=C,s=I):u=us.ct}).next(()=>{u!==us.ct&&n(new We(Go(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ug(t,e){return $c(t).put((r=t.currentSequenceNumber,{targetId:0,path:yi(e.path),sequenceNumber:r}));var r}class FC{constructor(){this.changes=new xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Mu(e).put(r)}removeEntry(e,n,r){return Mu(e).delete(function(s,u){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Rg(u),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=xn.newInvalidDocument(n);return Mu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Nd(n))},(s,u)=>{r=this.ts(n,u)}).next(()=>r)}es(e,n){let r={size:0,document:xn.newInvalidDocument(n)};return Mu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Nd(n))},(s,u)=>{r={document:this.ts(n,u),size:Vg(u)}}).next(()=>r)}getEntries(e,n){let r=cs();return this.ns(e,n,(s,u)=>{const l=this.ts(s,u);r=r.insert(s,l)}).next(()=>r)}ss(e,n){let r=cs(),s=new Mn(We.comparator);return this.ns(e,n,(u,l)=>{const m=this.ts(u,l);r=r.insert(u,m),s=s.insert(u,Vg(l))}).next(()=>({documents:r,rs:s}))}ns(e,n,r){if(n.isEmpty())return re.resolve();let s=new Vn(VC);n.forEach(I=>s=s.add(I));const u=IDBKeyRange.bound(Nd(s.first()),Nd(s.last())),l=s.getIterator();let m=l.getNext();return Mu(e).X({index:"documentKeyIndex",range:u},(I,C,M)=>{const R=We.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&VC(m,R)<0;)r(m,null),m=l.getNext();m&&m.isEqual(R)&&(r(m,C),m=l.hasNext()?l.getNext():null),m?M.G(Nd(m)):M.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,n,r,s){const u=n.path,l=[u.popLast().toArray(),u.lastSegment(),Rg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mu(e).j(IDBKeyRange.bound(l,m,!0)).next(I=>{let C=cs();for(const M of I){const R=this.ts(We.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);R.isFoundDocument()&&(Lc(n,R)||s.has(R.key))&&(C=C.insert(R.key,R))}return C})}getAllFromCollectionGroup(e,n,r,s){let u=cs();const l=LC(n,r),m=LC(n,ks.max());return Mu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(I,C,M)=>{const R=this.ts(We.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(R.key,R),u.size===s&&M.done()}).next(()=>u)}newChangeBuffer(e){return new Sw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Aw(e).get("remoteDocumentGlobalKey").next(n=>(ut(!!n),n))}Zn(e,n){return Aw(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function iA(t,e){let n;if(e.document)n=rv(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),s=Uc(e.noDocument.readTime);n=xn.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt();{const r=We.fromSegments(e.unknownDocument.path),s=Uc(e.unknownDocument.version);n=xn.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(r){const s=new Ln(r[0],r[1]);return dt.fromTimestamp(s)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(dt.min()))return r}return xn.newInvalidDocument(e)}}function lv(t){return new hA(t)}class Sw extends FC{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new xa(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Vn((u,l)=>Ft(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.us.get(u);if(n.push(this.os.removeEntry(e,u,m.readTime)),l.isValidDocument()){const I=mC(this.os.serializer,l);s=s.add(u.path.popLast());const C=Vg(I);r+=C-m.size,n.push(this.os.addEntry(e,u,I))}else if(r-=m.size,this.trackRemovals){const I=mC(this.os.serializer,l.convertToNoDocument(dt.min()));n.push(this.os.addEntry(e,u,I))}}),s.forEach(u=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),n.push(this.os.updateMetadata(e,r)),re.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:s})=>(s.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function Aw(t){return oi(t,"remoteDocumentGlobal")}function Mu(t){return oi(t,"remoteDocumentsV14")}function Nd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LC(t,e){const n=e.documentKey.path.toArray();return[t,Rg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function VC(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<n.length-2&&u<r.length-2;++u)if(s=Ft(n[u],r[u]),s)return s;return s=Ft(n.length,r.length),s||(s=Ft(n[n.length-2],r[r.length-2]),s||Ft(n[n.length-1],r[r.length-1]))}class fA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UC{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(null!==r&&Cg(r.mutation,s,Zi.empty(),Ln.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$t()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$t()){const s=qo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(u=>{let l=rf();return u.forEach((m,I)=>{l=l.insert(m,I.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$t()))}populateOverlays(e,n,r){const s=[];return r.forEach(u=>{n.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,m)=>{n.set(l,m)})})}computeViews(e,n,r,s){let u=cs();const l=vg(),m=vg();return n.forEach((I,C)=>{const M=r.get(C.key);s.has(C.key)&&(void 0===M||M.mutation instanceof Cu)?u=u.insert(C.key,C):void 0!==M?(l.set(C.key,M.mutation.getFieldMask()),Cg(M.mutation,C,M.mutation.getFieldMask(),Ln.now())):l.set(C.key,Zi.empty())}),this.recalculateAndSaveOverlays(e,u).next(I=>(I.forEach((C,M)=>l.set(C,M)),n.forEach((C,M)=>{var R;return m.set(C,new fA(M,null!==(R=l.get(C))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,n){const r=vg();let s=new Mn((l,m)=>l-m),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const m of l)m.keys().forEach(I=>{const C=n.get(I);if(null===C)return;let M=r.get(I)||Zi.empty();M=m.applyToLocalView(C,M),r.set(I,M);const R=(s.get(m.batchId)||$t()).add(I);s=s.insert(m.batchId,R)})}).next(()=>{const l=[],m=s.getReverseIterator();for(;m.hasNext();){const I=m.getNext(),C=I.key,M=I.value,R=WD();M.forEach(H=>{if(!u.has(H)){const q=nw(n.get(H),r.get(H));null!==q&&R.set(H,q),u=u.add(H)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,R))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return We.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Wy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var s}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-u.size):re.resolve(qo());let m=-1,I=u;return l.next(C=>re.forEach(C,(M,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(M)?re.resolve():this.remoteDocumentCache.getEntry(e,M).next(H=>{I=I.insert(M,H)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,I,C,$t())).next(M=>({batchId:m,changes:W0(M)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next(r=>{let s=rf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let u=rf();return this.indexManager.getCollectionParents(e,s).next(l=>re.forEach(l,m=>{const I=(C=n,M=m.child(s),new Du(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.getDocumentsMatchingCollectionQuery(e,I,r).next(C=>{C.forEach((M,R)=>{u=u.insert(M,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(u=>{s.forEach((m,I)=>{const C=I.getKey();null===u.get(C)&&(u=u.insert(C,xn.newInvalidDocument(C)))});let l=rf();return u.forEach((m,I)=>{const C=s.get(m);void 0!==C&&Cg(C.mutation,I,Zi.empty(),Ln.now()),Lc(n,I)&&(l=l.insert(m,I))}),l})}}class BC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return re.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:wr(r.createTime)}),re.resolve()}getNamedQuery(e,n){return re.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:yw(r.bundledQuery),readTime:wr(r.readTime)}),re.resolve();var r}}class Mw{constructor(){this.overlays=new Mn(We.comparator),this.ls=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return re.forEach(n,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,u)=>{this.we(e,n,u)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const s=qo(),u=n.length+1,l=new We(n.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const I=m.getNext().value,C=I.getKey();if(!n.isPrefixOf(C.path))break;C.path.length===u&&I.largestBatchId>r&&s.set(I.getKey(),I)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let u=new Mn((C,M)=>C-M);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===n&&C.largestBatchId>r){let M=u.get(C.largestBatchId);null===M&&(M=qo(),u=u.insert(C.largestBatchId,M)),M.set(C.getKey(),C)}}const m=qo(),I=u.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((C,M)=>m.set(C,M)),!(m.size()>=s)););return re.resolve(m)}we(e,n,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ow(n,r));let u=this.ls.get(n);void 0===u&&(u=$t(),this.ls.set(n,u)),this.ls.set(n,u.add(r.key))}}class dv{constructor(){this.fs=new Vn(ci.ds),this.ws=new Vn(ci._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ci(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ci(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new We(new en([])),r=new ci(n,e),s=new ci(n,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new We(new en([])),r=new ci(n,e),s=new ci(n,e+1);let u=$t();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const n=new ci(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class ci{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return We.comparator(e.key,n.key)||Ft(e.As,n.As)}static _s(e,n){return Ft(e.As,n.As)||We.comparator(e.key,n.key)}}class jC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Vn(ci.ds)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,s){const u=this.vs;this.vs++;const l=new Qy(u,n,r,s);this.mutationQueue.push(l);for(const m of s)this.Rs=this.Rs.add(new ci(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=this.bs(n+1),u=s<0?0:s;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ci(n,0),s=new ci(n,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const m=this.Ps(l.As);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vn(Ft);return n.forEach(s=>{const u=new ci(s,0),l=new ci(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),re.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let u=r;We.isDocumentKey(u)||(u=u.child(""));const l=new ci(new We(u),0);let m=new Vn(Ft);return this.Rs.forEachWhile(I=>{const C=I.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(m=m.add(I.As)),!0)},l),re.resolve(this.Vs(m))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&n.push(s)}),n}removeMutationBatch(e,n){ut(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return re.forEach(n.mutations,s=>{const u=new ci(s.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ci(n,0),s=this.Rs.firstAfterOrEqual(r);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return re.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $C{constructor(e){this.Ds=e,this.docs=new Mn(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=cs();return n.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():xn.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let u=cs();const l=n.path,m=new We(l.child("")),I=this.docs.getIteratorFrom(m);for(;I.hasNext();){const{key:C,value:{document:M}}=I.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||rg(ED(M),r)<=0||(s.has(M.key)||Lc(n,M))&&(u=u.insert(M.key,M.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,r,s){tt()}Cs(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pA(this)}getSize(e){return re.resolve(this.size)}}class pA extends FC{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class HC{constructor(e){this.persistence=e,this.xs=new xa(n=>kc(n),tf),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new dv,this.targetCount=0,this.Ms=xd.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),re.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new xd(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Fn(n),re.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let s=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=n&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),re.waitFor(u).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,u=[];return s&&n.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.ks.containsKey(n))}}class hv{constructor(e,n){this.$s={},this.overlays={},this.Os=new us(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new HC(this),this.indexManager=new Dw,this.remoteDocumentCache=new $C(r=>this.referenceDelegate.Ls(r)),this.serializer=new gC(n),this.qs=new BC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new jC(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const s=new gA(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,n){return re.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class gA extends C0{constructor(e){super(),this.currentSequenceNumber=e}}class Bg{constructor(e){this.persistence=e,this.Qs=new dv,this.js=null}static zs(e){return new Bg(e)}get Ws(){if(this.js)return this.js;throw tt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),re.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ws,r=>{const s=We.fromPath(r);return this.Hs(e,s).next(u=>{u||n.removeEntry(s,dt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return re.or([()=>re.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Ki{constructor(e){this.serializer=e}O(e,n,r,s){const u=new ig("createOrUpgrade",n);var m;r<1&&s>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A0,{unique:!0}),m.createObjectStore("documentMutations"),Rd(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=re.resolve();return r<3&&s>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Rd(e)),l=l.next(()=>function(m){const I=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dt.min().toTimestamp(),targetCount:0};return I.put("targetGlobalKey",C)}(u))),r<4&&s>=4&&(0!==r&&(l=l.next(()=>function(m,I){return I.store("mutations").j().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A0,{unique:!0});const M=I.store("mutations"),R=C.map(H=>M.put(H));return re.waitFor(R)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(l=l.next(()=>this.Ys(u))),r<6&&s>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&s>=7&&(l=l.next(()=>this.Zs(u))),r<8&&s>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&s>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(l=l.next(()=>this.ei(u))),r<11&&s>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(l=l.next(()=>{!function(m){const I=m.createObjectStore("documentOverlays",{keyPath:PS});I.createIndex("collectionPathOverlayIndex",OS,{unique:!1}),I.createIndex("collectionGroupOverlayIndex",SD,{unique:!1})}(e)})),r<13&&s>=13&&(l=l.next(()=>function(m){const I=m.createObjectStore("remoteDocumentsV14",{keyPath:Uy});I.createIndex("documentKeyIndex",Nc),I.createIndex("collectionGroupIndex",xS)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(l=l.next(()=>this.si(e,u))),r<15&&s>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:RS}).createIndex("sequenceNumberIndex",R0,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:RM}).createIndex("documentKeyIndex",PM,{unique:!1})}(e))),l}Xs(e){let n=0;return e.store("remoteDocuments").X((r,s)=>{n+=Vg(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(s=>re.forEach(s,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(m=>re.forEach(m,I=>{ut(I.userId===u.userId);const C=Td(this.serializer,I);return SC(e,u.userId,C).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((l,m)=>{const I=new en(l),C=[0,yi(I)];u.push(n.get(C).next(M=>M?re.resolve():n.put({targetId:0,path:yi(I),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>re.waitFor(u))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:N0});const r=n.store("collectionParents"),s=new Cw,u=l=>{if(s.add(l)){const m=l.lastSegment(),I=l.popLast();return r.put({collectionId:m,parent:yi(I)})}};return n.store("remoteDocuments").X({Y:!0},(l,m)=>{const I=new en(l);return u(I.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([l,m,I],C)=>{const M=Go(m);return u(M.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,s)=>{const u=Pg(s),l=sA(this.serializer,u);return n.put(l)})}ni(e,n){const r=n.store("remoteDocuments"),s=[];return r.X((u,l)=>{const m=n.store("remoteDocumentsV14"),I=(C=l,C.document?new We(en.fromString(C.document.name).popFirst(5)):C.noDocument?We.fromSegments(C.noDocument.path):C.unknownDocument?We.fromSegments(C.unknownDocument.path):tt()).path.toArray();var C;const M={prefixPath:I.slice(0,I.length-2),collectionGroup:I[I.length-2],documentId:I[I.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(m.put(M))}).next(()=>re.waitFor(s))}si(e,n){const r=n.store("mutations"),s=lv(this.serializer),u=new hv(Bg.zs,this.serializer.fe);return r.j().next(l=>{const m=new Map;return l.forEach(I=>{var C;let M=null!==(C=m.get(I.userId))&&void 0!==C?C:$t();Td(this.serializer,I).keys().forEach(R=>M=M.add(R)),m.set(I.userId,M)}),re.forEach(m,(I,C)=>{const M=new mi(C),R=ov.de(this.serializer,M),H=u.getIndexManager(M),q=Ad.de(M,this.serializer,H,u.referenceDelegate);return new UC(s,q,R,H).recalculateAndSaveOverlaysForDocumentKeys(new By(n,us.ct),I).next()})})}}function Rd(t){t.createObjectStore("targetDocuments",{keyPath:x0}).createIndex("documentTargetsIndex",fd,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",NS,{unique:!0}),t.createObjectStore("targetGlobal")}const xw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nw{constructor(e,n,r,s,u,l,m,I,C,M,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=u,this.window=l,this.document=m,this.ri=C,this.oi=M,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=H=>Promise.resolve(),!Nw.D())throw new Te(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kC(this,s),this.di=n+"main",this.serializer=new gC(I),this.wi=new Fs(this.di,this.ui,new Ki(this.serializer)),this.Bs=new xC(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lv(this.serializer),this.qs=new oA,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===M&&Kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,xw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new us(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,ge.Z)(function*(s){if(n.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ge.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(wu(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return pv(e).get("owner").next(n=>re.resolve(this.Ri(n)))}Pi(e){return Rw(e).delete(this.clientId)}bi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=oi(r,"clientMetadata");return s.j().next(u=>{const l=e.Si(u,18e5),m=u.filter(I=>-1===l.indexOf(I));return re.forEach(m,I=>s.delete(I.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?re.resolve(!0):pv(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,xw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rw(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(n=>(this.isPrimary!==n&&ke("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new By(n,us.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Rw(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return Ad.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lA(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ov.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){ke("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===n?"readonly":"readwrite",u=15===(l=this.ui)?kS:14===l?MD:13===l?P0:12===l?Hr:11===l?AD:void tt();var l;let m;return this.wi.runTransaction(e,s,u,I=>(m=new By(I,this.Os?this.Os.next():us.ct),"readwrite-primary"===n?this.Ti(m).next(C=>!!C||this.Ei(m)).next(C=>{if(!C)throw Kn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Te(ae.FAILED_PRECONDITION,Ly);return r(m)}).next(C=>this.vi(m).next(()=>C)):this.Oi(m).next(()=>r(m)))).then(I=>(m.raiseOnCommittedEvent(),I))}Oi(e){return pv(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Te(ae.FAILED_PRECONDITION,xw)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pv(e).put("owner",n)}static D(){return Fs.D()}Ai(e){const n=pv(e);return n.get("owner").next(r=>this.Ri(r)?(ke("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):re.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(Kn(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,Xt.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Kn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pv(t){return oi(t,"owner")}function Rw(t){return oi(t,"clientMetadata")}function gv(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class jg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=$t(),s=$t();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new jg(e,n.fromCache,r,s)}}class mA{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(u=>u||this.Gi(e,n,s,r)).next(u=>u||this.Qi(e,n))}Ki(e,n){if(Zy(n))return re.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==n.limit&&1===s&&(n=Ky(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=$t(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(I=>{const C=this.ji(n,m);return this.zi(n,C,l,I.readTime)?this.Ki(e,Ky(n,null,"F")):this.Wi(e,C,n,I)}))})))}Gi(e,n,r,s){return Zy(n)||s.isEqual(dt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(n,u);return this.zi(n,l,r,s)?this.Qi(e,n):(w0()<=Rs.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),q0(n)),this.Wi(e,l,n,ID(s,-1)))})}ji(e,n){let r=new Vn(Wi(e));return n.forEach((s,u)=>{Lc(e,u)&&(r=r.add(u))}),r}zi(e,n,r,s){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const u="F"===e.limitType?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,n){return w0()<=Rs.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",q0(n)),this.Ui.getDocumentsMatchingQuery(e,n,ks.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(n.forEach(l=>{u=u.insert(l.key,l)}),u))}}class LM{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new Mn(Ft),this.Yi=new xa(u=>kc(u),tf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function yA(t,e,n,r){return new LM(t,e,n,r)}function hf(t,e){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,ge.Z)(function*(t,e){const n=Qe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let I=$t();for(const C of s){l.push(C.batchId);for(const M of C.mutations)I=I.add(M.key)}for(const C of u){m.push(C.batchId);for(const M of C.mutations)I=I.add(M.key)}return n.localDocuments.getDocuments(r,I).next(C=>({er:C,removedBatchIds:l,addedBatchIds:m}))})})}),Pw.apply(this,arguments)}function zC(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function qC(t,e,n){let r=$t(),s=$t();return n.forEach(u=>r=r.add(u)),e.getEntries(t,r).next(u=>{let l=cs();return n.forEach((m,I)=>{const C=u.get(m);I.isFoundDocument()!==C.isFoundDocument()&&(s=s.add(m)),I.isNoDocument()&&I.version.isEqual(dt.min())?(e.removeEntry(m,I.readTime),l=l.insert(m,I)):!C.isValidDocument()||I.version.compareTo(C.version)>0||0===I.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(I),l=l.insert(m,I)):ke("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",I.version)}),{nr:l,sr:s}})}function vA(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ff(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(u=>u?(s=u,re.resolve(s)):n.Bs.allocateTargetId(r).next(l=>(s=new bu(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function Hc(t,e,n){return mv.apply(this,arguments)}function mv(){return mv=(0,ge.Z)(function*(t,e,n){const r=Qe(t),s=r.Ji.get(e),u=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!wu(l))throw l;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),mv.apply(this,arguments)}function yv(t,e,n){const r=Qe(t);let s=dt.min(),u=$t();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,I,C){const M=Qe(m),R=M.Yi.get(C);return void 0!==R?re.resolve(M.Ji.get(R)):M.Bs.getTargetData(I,C)}(r,l,Ar(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(I=>{u=I})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,n?s:dt.min(),n?u:$t())).next(m=>(_A(r,yg(e),m),{documents:m,ir:u})))}function $g(t,e){const n=Qe(t),r=Qe(n.Bs),s=n.Ji.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function vv(t,e){const n=Qe(t),r=n.Xi.get(e)||dt.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.Zi.getAllFromCollectionGroup(s,e,ID(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(_A(n,e,s),s))}function _A(t,e,n){let r=t.Xi.get(e)||dt.min();n.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),t.Xi.set(e,r)}function kw(){return kw=(0,ge.Z)(function*(t,e,n,r){const s=Qe(t);let u=$t(),l=cs();for(const C of n){const M=e.rr(C.metadata.name);C.document&&(u=u.add(M));const R=e.ur(C);R.setReadTime(e.cr(C.metadata.readTime)),l=l.insert(M,R)}const m=s.Zi.newChangeBuffer({trackRemovals:!0}),I=yield ff(s,(C=r,Ar(pg(en.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",C=>qC(C,m,l).next(M=>(m.apply(C),M)).next(M=>s.Bs.removeMatchingKeysForTargetId(C,I.targetId).next(()=>s.Bs.addMatchingKeys(C,u,I.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(C,M.nr,M.sr)).next(()=>M.nr)))}),kw.apply(this,arguments)}function WC(t,e){return zc.apply(this,arguments)}function zc(){return zc=(0,ge.Z)(function*(t,e,n=$t()){const r=yield ff(t,Ar(yw(e.bundledQuery))),s=Qe(t);return s.persistence.runTransaction("Save named query","readwrite",u=>{const l=wr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return s.qs.saveNamedQuery(u,e);const m=r.withResumeToken(zr.EMPTY_BYTE_STRING,l);return s.Ji=s.Ji.insert(m.targetId,m),s.Bs.updateTargetData(u,m).next(()=>s.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Bs.addMatchingKeys(u,n,r.targetId)).next(()=>s.qs.saveNamedQuery(u,e))})}),zc.apply(this,arguments)}function KC(t,e){return`firestore_clients_${t}_${e}`}function Fw(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Hg(t,e){return`firestore_targets_${t}_${e}`}class Lw{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static ar(e,n,r){const s=JSON.parse(r);let u,l="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(u=new Te(s.error.code,s.error.message))),l?new Lw(e,n,s.state,u):(Kn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zg{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Te(r.error.code,r.error.message))),u?new zg(e,r.state,s):(Kn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vw{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=K0();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=sg(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return s?new Vw(e,u):(Kn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Uw{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Uw(n.clientId,n.onlineState):(Kn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Bw{constructor(){this.activeTargetIds=K0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jw{constructor(e,n,r,s,u){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Mn(Ft),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=KC(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Bw),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const n=yield e.syncEngine.$i();for(const s of n){if(s===e.wr)continue;const u=e.getItem(KC(e.persistenceKey,s));if(u){const l=Vw.ar(s,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Hg(this.persistenceKey,e));if(r){const s=zg.ar(e,r);s&&(n=s.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hg(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ke("SharedClientState","READ",e,n),n}setItem(e,n){ke("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ge.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const s=n.Or(r.key);return n.Fr(s,null)}{const s=n.Br(r.key,r.newValue);if(s)return n.Fr(s.clientId,s)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const s=n.Lr(r.key,r.newValue);if(s)return n.qr(s)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const s=n.Ur(r.key,r.newValue);if(s)return n.Kr(s)}}else if(r.key===n.vr){if(null!==r.newValue){const s=n.br(r.newValue);if(s)return n.Vr(s)}}else if(r.key===n.Ir){const s=function(u){let l=us.ct;if(null!=u)try{const m=JSON.parse(u);ut("number"==typeof m),l=m}catch(m){Kn("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);s!==us.ct&&n.sequenceNumberHandler(s)}else if(r.key===n.Rr){const s=n.Gr(r.newValue);yield Promise.all(s.map(u=>n.syncEngine.Qr(u)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const s=new Lw(this.currentUser,e,n,r),u=Fw(this.persistenceKey,this.currentUser,e);this.setItem(u,s.hr())}Cr(e){const n=Fw(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const s=Hg(this.persistenceKey,e),u=new zg(e,n,r);this.setItem(s,u.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return Vw.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),s=Number(r[1]);return Lw.ar(new mi(void 0!==r[2]?r[2]:null),s,n)}Ur(e,n){const r=this.Ar.exec(e),s=Number(r[1]);return zg.ar(s,n)}br(e){return Uw.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,ge.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),s=this.Sr(this.gr),u=this.Sr(r),l=[],m=[];return u.forEach(I=>{s.has(I)||l.push(I)}),s.forEach(I=>{u.has(I)||m.push(I)}),this.syncEngine.Wr(l,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=K0();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class $w{constructor(){this.Hr=new Bw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Bw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YC{Yr(e){}shutdown(){}}class QC{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gg=null;function _v(){return null===Gg?Gg=268435456+Math.round(2147483648*Math.random()):Gg++,"0x"+Gg.toString(16)}const wA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IA{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const wi="WebChannelConnection";class EA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,u){const l=_v(),m=this.To(e,n);ke("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const I={};return this.Eo(I,s,u),this.Ao(e,m,I,r).then(C=>(ke("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw Bi("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",m,"request:",r),C})}vo(e,n,r,s,u,l){return this.Io(e,n,r,s,u)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,n){return`${this.mo}/v1/${n}:${wA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const u=_v();return new Promise((l,m)=>{const I=new MM;I.setWithCredentials(!0),I.listenOnce(gD.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case Ry.NO_ERROR:const M=I.getResponseJson();ke(wi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(M)),l(M);break;case Ry.TIMEOUT:ke(wi,`RPC '${e}' ${u} timed out`),m(new Te(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ry.HTTP_ERROR:const R=I.getStatus();if(ke(wi,`RPC '${e}' ${u} failed with status:`,R,"response text:",I.getResponseText()),R>0){let H=I.getResponseJson();Array.isArray(H)&&(H=H[0]);const q=H?.error;if(q&&q.status&&q.message){const ye=function(Ve){const Be=Ve.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Be)>=0?Be:ae.UNKNOWN}(q.status);m(new Te(ye,q.message))}else m(new Te(ae.UNKNOWN,"Server responded with status "+I.getStatus()))}else m(new Te(ae.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{ke(wi,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(s);ke(wi,`RPC '${e}' ${u} sending request:`,s),I.send(n,"POST",C,r,15)})}Ro(e,n,r){const s=_v(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=fD(),m=pD(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(I.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(I.xmlHttpFactory=new _0({})),this.Eo(I.initMessageHeaders,n,r),I.encodeInitMessageHeaders=!0;const M=u.join("");ke(wi,`Creating RPC '${e}' stream ${s}: ${M}`,I);const R=l.createWebChannel(M,I);let H=!1,q=!1;const ye=new IA({ro:Be=>{q?ke(wi,`Not sending because RPC '${e}' stream ${s} is closed:`,Be):(H||(ke(wi,`Opening RPC '${e}' stream ${s} transport.`),R.open(),H=!0),ke(wi,`RPC '${e}' stream ${s} sending:`,Be),R.send(Be))},oo:()=>R.close()}),Ve=(Be,ct,St)=>{Be.listen(ct,_t=>{try{St(_t)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return Ve(R,Py.EventType.OPEN,()=>{q||ke(wi,`RPC '${e}' stream ${s} transport opened.`)}),Ve(R,Py.EventType.CLOSE,()=>{q||(q=!0,ke(wi,`RPC '${e}' stream ${s} transport closed`),ye.wo())}),Ve(R,Py.EventType.ERROR,Be=>{q||(q=!0,Bi(wi,`RPC '${e}' stream ${s} transport errored:`,Be),ye.wo(new Te(ae.UNAVAILABLE,"The operation could not be completed")))}),Ve(R,Py.EventType.MESSAGE,Be=>{var ct;if(!q){const St=Be.data[0];ut(!!St);const Ot=St.error||(null===(ct=St[0])||void 0===ct?void 0:ct.error);if(Ot){ke(wi,`RPC '${e}' stream ${s} received error:`,Ot);const Ht=Ot.status;let on=function(gm){const vR=_r[gm];if(void 0!==vR)return eC(vR)}(Ht),ds=Ot.message;void 0===on&&(on=ae.INTERNAL,ds="Unknown error status: "+Ht+" with message "+Ot.message),q=!0,ye.wo(new Te(on,ds)),R.close()}else ke(wi,`RPC '${e}' stream ${s} received:`,St),ye._o(St)}}),Ve(m,mD.STAT_EVENT,Be=>{Be.stat===v0.PROXY?ke(wi,`RPC '${e}' stream ${s} detected buffering proxy`):Be.stat===v0.NOPROXY&&ke(wi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ye.fo()},0),ye}}function Hw(){return typeof window<"u"?window:null}function qg(){return typeof document<"u"?document:null}function pf(t){return new sC(t,!0)}class wv{constructor(e,n,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class JC{constructor(e,n,r,s,u,l,m,I){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=I,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wv(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ge.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ge.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,ge.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new Te(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,ge.Z)(function*(){e.state=0,e.start()}))}tu(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DA extends JC{constructor(e,n,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=u}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function dC(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:tt(),s=e.targetChange.targetIds||[],u=function(I,C){return I.useProto3Json?(ut(void 0===C||"string"==typeof C),zr.fromBase64String(C||"")):(ut(void 0===C||C instanceof Uint8Array),zr.fromUint8Array(C||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(I){const C=void 0===I.code?ae.UNKNOWN:eC(I.code);return new Te(C,I.message||"")}(l);n=new tC(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=ro(t,r.document.name),u=wr(r.document.updateTime),l=r.document.createTime?wr(r.document.createTime):dt.min(),m=new ui({mapValue:{fields:r.document.fields}}),I=xn.newFoundDocument(s,u,l,m);n=new tv(r.targetIds||[],r.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const r=e.documentDelete,s=ro(t,r.document),u=r.readTime?wr(r.readTime):dt.min(),l=xn.newNoDocument(s,u);n=new tv([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=ro(t,r.document);n=new tv([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return tt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new ZS(s,u);n=new dw(r.targetId,l)}}var I;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return dt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?dt.min():u.readTime?wr(u.readTime):dt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Cd(this.serializer),n.addTarget=function(s,u){let l;const m=u.target;if(l=hg(m)?{documents:tA(s,m)}:{query:Ng(s,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=oC(s,u.resumeToken);const I=nv(s,u.expectedCount);null!==I&&(l.expectedCount=I)}else if(u.snapshotVersion.compareTo(dt.min())>0){l.readTime=uf(s,u.snapshotVersion.toTimestamp());const I=nv(s,u.expectedCount);null!==I&&(l.expectedCount=I)}return l}(this.serializer,e);const r=function nA(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Cd(this.serializer),n.removeTarget=e,this.Wo(n)}}class VM extends JC{constructor(e,n,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function eA(t,e){return t&&t.length>0?(ut(void 0!==e),t.map(n=>function(r,s){let u=wr(r.updateTime?r.updateTime:s);return u.isEqual(dt.min())&&(u=wr(s)),new kM(u,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.cu(r,n)}return ut(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Zo(this.serializer,r))};this.Wo(n)}}class XC extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,n,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(ae.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,n,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ae.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class BM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Kn(n),this.mu=!1):ke("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class jM{constructor(e,n,r,s,u){var l=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,ge.Z)(function*(){var I;Gc(l)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,ge.Z)(function*(C){const M=Qe(C);M.vu.add(4),yield Zg(M),M.bu.set("Unknown"),M.vu.delete(4),yield Iv(M)}),function(C){return I.apply(this,arguments)})(l))}))}),this.bu=new BM(r,s)}}function Iv(t){return tb.apply(this,arguments)}function tb(){return tb=(0,ge.Z)(function*(t){if(Gc(t))for(const e of t.Ru)yield e(!0)}),tb.apply(this,arguments)}function Zg(t){return nb.apply(this,arguments)}function nb(){return nb=(0,ge.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),nb.apply(this,arguments)}function zw(t,e){const n=Qe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),mf(n)?qw(n):qc(n).Ko()&&Wg(n,e))}function gf(t,e){const n=Qe(t),r=qc(n);n.Au.delete(e),r.Ko()&&Gw(n,e),0===n.Au.size&&(r.Ko()?r.jo():Gc(n)&&n.bu.set("Unknown"))}function Wg(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qc(t).su(e)}function Gw(t,e){t.Vu.qt(e),qc(t).iu(e)}function qw(t){t.Vu=new KS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),qc(t).start(),t.bu.gu()}function mf(t){return Gc(t)&&!qc(t).Uo()&&t.Au.size>0}function Gc(t){return 0===Qe(t).vu.size}function CA(t){t.Vu=void 0}function $M(t){return Zw.apply(this,arguments)}function Zw(){return Zw=(0,ge.Z)(function*(t){t.Au.forEach((e,n)=>{Wg(t,e)})}),Zw.apply(this,arguments)}function rb(t,e){return Ww.apply(this,arguments)}function Ww(){return Ww=(0,ge.Z)(function*(t,e){CA(t),mf(t)?(t.bu.Iu(e),qw(t)):t.bu.set("Unknown")}),Ww.apply(this,arguments)}function bA(t,e,n){return Kw.apply(this,arguments)}function Kw(){return Kw=(0,ge.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof tC&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(s,u){const l=u.cause;for(const m of u.targetIds)s.Au.has(m)&&(yield s.remoteSyncer.rejectListen(m,l),s.Au.delete(m),s.Vu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(t,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Yw(t,r)}else if(e instanceof tv?t.Vu.Ht(e):e instanceof dw?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(dt.min()))try{const r=yield zC(t.localStore);n.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((m,I)=>{if(m.resumeToken.approximateByteSize()>0){const C=s.Au.get(I);C&&s.Au.set(I,C.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,I)=>{const C=s.Au.get(m);if(!C)return;s.Au.set(m,C.withResumeToken(zr.EMPTY_BYTE_STRING,C.snapshotVersion)),Gw(s,m);const M=new bu(C.target,m,I,C.sequenceNumber);Wg(s,M)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield Yw(t,r)}var r}),Kw.apply(this,arguments)}function Yw(t,e,n){return Qw.apply(this,arguments)}function Qw(){return Qw=(0,ge.Z)(function*(t,e,n){if(!wu(e))throw e;t.vu.add(1),yield Zg(t),t.bu.set("Offline"),n||(n=()=>zC(t.localStore)),t.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Iv(t)}))}),Qw.apply(this,arguments)}function yf(t,e){return e().catch(n=>Yw(t,n,e))}function xu(t){return Jw.apply(this,arguments)}function Jw(){return Jw=(0,ge.Z)(function*(t){const e=Qe(t),n=Zc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;TA(e);)try{const s=yield vA(e.localStore,r);if(null===s){0===e.Eu.length&&n.jo();break}r=s.batchId,SA(e,s)}catch(s){yield Yw(e,s)}ib(e)&&sb(e)}),Jw.apply(this,arguments)}function TA(t){return Gc(t)&&t.Eu.length<10}function SA(t,e){t.Eu.push(e);const n=Zc(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function ib(t){return Gc(t)&&!Zc(t).Uo()&&t.Eu.length>0}function sb(t){Zc(t).start()}function AA(t){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,ge.Z)(function*(t){Zc(t).hu()}),Kg.apply(this,arguments)}function MA(t){return Xw.apply(this,arguments)}function Xw(){return Xw=(0,ge.Z)(function*(t){const e=Zc(t);for(const n of t.Eu)e.uu(n.mutations)}),Xw.apply(this,arguments)}function xA(t,e,n){return eI.apply(this,arguments)}function eI(){return eI=(0,ge.Z)(function*(t,e,n){const r=t.Eu.shift(),s=sw.from(r,e,n);yield yf(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),yield xu(t)}),eI.apply(this,arguments)}function NA(t,e){return tI.apply(this,arguments)}function tI(){return tI=(0,ge.Z)(function*(t,e){var n;e&&Zc(t).ou&&(yield(n=(0,ge.Z)(function*(r,s){if(aw(u=s.code)&&u!==ae.ABORTED){const l=r.Eu.shift();Zc(r).Qo(),yield yf(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield xu(r)}var u}),function(r,s){return n.apply(this,arguments)})(t,e)),ib(t)&&sb(t)}),tI.apply(this,arguments)}function ob(t,e){return nI.apply(this,arguments)}function nI(){return nI=(0,ge.Z)(function*(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=Gc(n);n.vu.add(3),yield Zg(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Iv(n)}),nI.apply(this,arguments)}function rI(t,e){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,ge.Z)(function*(t,e){const n=Qe(t);e?(n.vu.delete(2),yield Iv(n)):e||(n.vu.add(2),yield Zg(n),n.bu.set("Unknown"))}),Ev.apply(this,arguments)}function qc(t){return t.Su||(t.Su=function(e,n,r){const s=Qe(e);return s.fu(),new DA(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:$M.bind(null,t),ao:rb.bind(null,t),nu:bA.bind(null,t)}),t.Ru.push(function(){var e=(0,ge.Z)(function*(n){n?(t.Su.Qo(),mf(t)?qw(t):t.bu.set("Unknown")):(yield t.Su.stop(),CA(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Zc(t){return t.Du||(t.Du=function(e,n,r){const s=Qe(e);return s.fu(),new VM(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:AA.bind(null,t),ao:NA.bind(null,t),au:MA.bind(null,t),cu:xA.bind(null,t)}),t.Ru.push(function(){var e=(0,ge.Z)(function*(n){n?(t.Du.Qo(),yield xu(t)):(yield t.Du.stop(),t.Eu.length>0&&(ke("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class iI{constructor(e,n,r,s,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,s,u){const l=Date.now()+r,m=new iI(e,n,l,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),wu(t))return new Te(ae.UNAVAILABLE,`${e}: ${t}`);throw t}class Od{constructor(e){this.comparator=e?(n,r)=>e(n,r)||We.comparator(n.key,r.key):(n,r)=>We.comparator(n.key,r.key),this.keyedMap=rf(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new Od(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Od)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Od;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class RA{constructor(){this.Cu=new Mn(We.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):tt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class qr{constructor(e,n,r,s,u,l,m,I,C){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=I,this.hasCachedResults=C}static fromInitialDocuments(e,n,r,s,u){const l=[];return n.forEach(m=>{l.push({type:0,doc:m})}),new qr(e,n,Od.emptySet(n),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class ab{constructor(){this.Nu=void 0,this.listeners=[]}}class ub{constructor(){this.queries=new xa(e=>wd(e),mg),this.onlineState="Unknown",this.ku=new Set}}function sI(t,e){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,ge.Z)(function*(t,e){const n=Qe(t),r=e.query;let s=!1,u=n.queries.get(r);if(u||(s=!0,u=new ab),s)try{u.Nu=yield n.onListen(r)}catch(l){const m=Pd(l,`Initialization of query '${q0(e.query)}' failed`);return void e.onError(m)}n.queries.set(r,u),u.listeners.push(e),e.Mu(n.onlineState),u.Nu&&e.$u(u.Nu)&&Qg(n)}),Dv.apply(this,arguments)}function oI(t,e){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,ge.Z)(function*(t,e){const n=Qe(t),r=e.query;let s=!1;const u=n.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}),Yg.apply(this,arguments)}function Wc(t,e){const n=Qe(t);let r=!1;for(const s of e){const l=n.queries.get(s.query);if(l){for(const m of l.listeners)m.$u(s)&&(r=!0);l.Nu=s}}r&&Qg(n)}function cb(t,e,n){const r=Qe(t),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(n);r.queries.delete(e)}function Qg(t){t.ku.forEach(e=>{e.next()})}class Jg{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new qr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=qr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class PA{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class OA{constructor(e){this.serializer=e}rr(e){return ro(this.serializer,e)}ur(e){return e.metadata.exists?rv(this.serializer,e.document,!1):xn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return wr(e)}}class lb{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=db(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=en.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new OA(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.rr(s.metadata.name);for(const l of s.metadata.queries){const m=(n.get(l)||$t()).add(u);n.set(l,m)}}return n}complete(){var e=this;return(0,ge.Z)(function*(){const n=yield function ZC(t,e,n,r){return kw.apply(this,arguments)}(e.localStore,new OA(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield WC(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function db(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class hb{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class pb{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=$t(),this.mutatedKeys=$t(),this.tc=Wi(e),this.ec=new Od(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new RA,s=n?n.ec:this.ec;let u=n?n.mutatedKeys:this.mutatedKeys,l=s,m=!1;const I="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((M,R)=>{const H=s.get(M),q=Lc(this.query,R)?R:null,ye=!!H&&this.mutatedKeys.has(H.key),Ve=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Be=!1;H&&q?H.data.isEqual(q.data)?ye!==Ve&&(r.track({type:3,doc:q}),Be=!0):this.rc(H,q)||(r.track({type:2,doc:q}),Be=!0,(I&&this.tc(q,I)>0||C&&this.tc(q,C)<0)&&(m=!0)):!H&&q?(r.track({type:0,doc:q}),Be=!0):H&&!q&&(r.track({type:1,doc:H}),Be=!0,(I||C)&&(m=!0)),Be&&(q?(l=l.add(q),u=Ve?u.add(M):u.delete(M)):(l=l.delete(M),u=u.delete(M)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const M="F"===this.query.limitType?l.last():l.first();l=l.delete(M.key),u=u.delete(M.key),r.track({type:1,doc:M})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,M)=>function(R,H){const q=ye=>{switch(ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return q(R)-q(H)}(C.type,M.type)||this.tc(C.doc,M.doc)),this.oc(r);const l=n?this.uc():[],m=0===this.Zu.size&&this.current?1:0,I=m!==this.Xu;return this.Xu=m,0!==u.length||I?{snapshot:new qr(this.query,e.ec,s,u,e.mutatedKeys,0===m,I,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new RA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=$t(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new fb(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new hb(r))}),n}hc(e){this.Yu=e.ir,this.Zu=$t();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return qr.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HM{constructor(e){this.key=e,this.fc=!1}}class mb{constructor(e,n,r,s,u,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new xa(m=>wd(m),mg),this._c=new Map,this.mc=new Set,this.gc=new Mn(We.comparator),this.yc=new Map,this.Ic=new dv,this.Tc={},this.Ec=new Map,this.Ac=xd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function kA(t,e){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,ge.Z)(function*(t,e){const n=Rv(t);let r,s;const u=n.wc.get(e);if(u)r=u.targetId,n.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield ff(n.localStore,Ar(e)),m=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield yb(n,e,r,"current"===m,l.resumeToken),n.isPrimaryClient&&zw(n.remoteStore,l)}return s}),Cv.apply(this,arguments)}function yb(t,e,n,r,s){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,ge.Z)(function*(t,e,n,r,s){t.Rc=(R,H,q)=>{return(ye=(0,ge.Z)(function*(Ve,Be,ct,St){let _t=Be.view.sc(ct);_t.zi&&(_t=yield yv(Ve.localStore,Be.query,!1).then(({documents:on})=>Be.view.sc(on,_t)));const Ot=St&&St.targetChanges.get(Be.targetId),Ht=Be.view.applyChanges(_t,Ve.isPrimaryClient,Ot);return dI(Ve,Be.targetId,Ht.cc),Ht.snapshot}),function(Ve,Be,ct,St){return ye.apply(this,arguments)})(t,R,H,q);var ye};const u=yield yv(t.localStore,e,!0),l=new pb(e,u.ir),m=l.sc(u.documents),I=Dd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,s),C=l.applyChanges(m,t.isPrimaryClient,I);dI(t,n,C.cc);const M=new gb(e,n,l);return t.wc.set(e,M),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),C.snapshot}),Xg.apply(this,arguments)}function vb(t,e){return bv.apply(this,arguments)}function bv(){return bv=(0,ge.Z)(function*(t,e){const n=Qe(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(u=>!mg(u,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gf(n.remoteStore,r.targetId),tm(n,r.targetId)}).catch(_u))):(tm(n,r.targetId),yield Hc(n.localStore,r.targetId,!0))}),bv.apply(this,arguments)}function Tv(){return Tv=(0,ge.Z)(function*(t,e,n){const r=mI(t);try{const s=yield function(u,l){const m=Qe(u),I=Ln.now(),C=l.reduce((H,q)=>H.add(q.key),$t());let M,R;return m.persistence.runTransaction("Locally write mutations","readwrite",H=>{let q=cs(),ye=$t();return m.Zi.getEntries(H,C).next(Ve=>{q=Ve,q.forEach((Be,ct)=>{ct.isValidDocument()||(ye=ye.add(Be))})}).next(()=>m.localDocuments.getOverlayedDocuments(H,q)).next(Ve=>{M=Ve;const Be=[];for(const ct of l){const St=qS(ct,M.get(ct.key).overlayedDocument);null!=St&&Be.push(new Cu(ct.key,St,U0(St.value.mapValue),Yn.exists(!0)))}return m.mutationQueue.addMutationBatch(H,I,Be,l)}).next(Ve=>{R=Ve;const Be=Ve.applyToLocalDocumentSet(M,ye);return m.documentOverlayCache.saveOverlays(H,Ve.batchId,Be)})}).then(()=>({batchId:R.batchId,changes:W0(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,m){let I=u.Tc[u.currentUser.toKey()];I||(I=new Mn(Ft)),I=I.insert(l,m),u.Tc[u.currentUser.toKey()]=I}(r,s.batchId,n),yield Yc(r,s.changes),yield xu(r.remoteStore)}catch(s){const u=Pd(s,"Failed to persist write");n.reject(u)}}),Tv.apply(this,arguments)}function aI(t,e){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,ge.Z)(function*(t,e){const n=Qe(t);try{const r=yield function GC(t,e){const n=Qe(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const m=[];e.targetChanges.forEach((M,R)=>{const H=s.get(R);if(!H)return;m.push(n.Bs.removeMatchingKeys(u,M.removedDocuments,R).next(()=>n.Bs.addMatchingKeys(u,M.addedDocuments,R)));let q=H.withSequenceNumber(u.currentSequenceNumber);var ye,Ve,Be;null!==e.targetMismatches.get(R)?q=q.withResumeToken(zr.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):M.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(M.resumeToken,r)),s=s.insert(R,q),Ve=q,Be=M,(0===(ye=H).resumeToken.approximateByteSize()||Ve.snapshotVersion.toMicroseconds()-ye.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&m.push(n.Bs.updateTargetData(u,q))});let I=cs(),C=$t();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,M))}),m.push(qC(u,l,e.documentUpdates).next(M=>{I=M.nr,C=M.sr})),!r.isEqual(dt.min())){const M=n.Bs.getLastRemoteSnapshotVersion(u).next(R=>n.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(M)}return re.waitFor(m).next(()=>l.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,I,C)).next(()=>I)}).then(u=>(n.Ji=s,u))}(n.localStore,e);e.targetChanges.forEach((s,u)=>{const l=n.yc.get(u);l&&(ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?ut(l.fc):s.removedDocuments.size>0&&(ut(l.fc),l.fc=!1))}),yield Yc(n,r,e)}catch(r){yield _u(r)}}),Kc.apply(this,arguments)}function em(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const s=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&s.push(m.snapshot)}),function(u,l){const m=Qe(u);m.onlineState=l;let I=!1;m.queries.forEach((C,M)=>{for(const R of M.listeners)R.Mu(l)&&(I=!0)}),I&&Qg(m)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _b(t,e,n){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,ge.Z)(function*(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new Mn(We.comparator);l=l.insert(u,xn.newNoDocument(u,dt.min()));const m=$t().add(u),I=new Ag(dt.min(),new Map,new Mn(Ft),l,m);yield aI(r,I),r.gc=r.gc.remove(u),r.yc.delete(e),hI(r)}else yield Hc(r.localStore,e,!1).then(()=>tm(r,e,n)).catch(_u)}),Sv.apply(this,arguments)}function LA(t,e){return uI.apply(this,arguments)}function uI(){return uI=(0,ge.Z)(function*(t,e){const n=Qe(t),r=e.batch.batchId;try{const s=yield function Ow(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=n.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,I,C){const M=I.batch,R=M.keys();let H=re.resolve();return R.forEach(q=>{H=H.next(()=>C.getEntry(m,q)).next(ye=>{const Ve=I.docVersions.get(q);ut(null!==Ve),ye.version.compareTo(Ve)<0&&(M.applyToRemoteDocument(ye,I),ye.isValidDocument()&&(ye.setReadTime(I.commitVersion),C.addEntry(ye)))})}),H.next(()=>l.mutationQueue.removeMutationBatch(m,M))}(n,r,e,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=$t();for(let I=0;I<l.mutationResults.length;++I)l.mutationResults[I].transformResults.length>0&&(m=m.add(l.batch.mutations[I].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}(n.localStore,e);Ib(n,r,null),wb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Yc(n,s)}catch(s){yield _u(s)}}),uI.apply(this,arguments)}function zM(t,e,n){return Av.apply(this,arguments)}function Av(){return Av=(0,ge.Z)(function*(t,e,n){const r=Qe(t);try{const s=yield function(u,l){const m=Qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let C;return m.mutationQueue.lookupMutationBatch(I,l).next(M=>(ut(null!==M),C=M.keys(),m.mutationQueue.removeMutationBatch(I,M))).next(()=>m.mutationQueue.performConsistencyCheck(I)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(I,C,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(I,C)).next(()=>m.localDocuments.getDocuments(I,C))})}(r.localStore,e);Ib(r,e,n),wb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Yc(r,s)}catch(s){yield _u(s)}}),Av.apply(this,arguments)}function cI(){return cI=(0,ge.Z)(function*(t,e){const n=Qe(t);Gc(n.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=Qe(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(n.localStore);if(-1===r)return void e.resolve();const s=n.Ec.get(r)||[];s.push(e),n.Ec.set(r,s)}catch(r){const s=Pd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),cI.apply(this,arguments)}function wb(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Ib(t,e,n){const r=Qe(t);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(n?u.reject(n):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||lI(t,r)})}function lI(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(gf(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),hI(t))}function dI(t,e,n){for(const r of n)r instanceof hb?(t.Ic.addReference(r.key,e),UA(t,r)):r instanceof fb?(ke("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||lI(t,r.key)):tt()}function UA(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(ke("SyncEngine","New document in limbo: "+n),t.mc.add(r),hI(t))}function hI(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new We(en.fromString(e)),r=t.Ac.next();t.yc.set(r,new HM(n)),t.gc=t.gc.insert(n,r),zw(t.remoteStore,new bu(Ar(pg(n.path)),r,"TargetPurposeLimboResolution",us.ct))}}function Yc(t,e,n){return Eb.apply(this,arguments)}function Eb(){return Eb=(0,ge.Z)(function*(t,e,n){const r=Qe(t),s=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,I)=>{l.push(r.Rc(I,e,n).then(C=>{if((C||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,C?.fromCache?"not-current":"current"),C){s.push(C);const M=jg.Li(I.targetId,C);u.push(M)}}))}),yield Promise.all(l),r.dc.nu(s),yield(m=(0,ge.Z)(function*(I,C){const M=Qe(I);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>re.forEach(C,H=>re.forEach(H.Fi,q=>M.persistence.referenceDelegate.addReference(R,H.targetId,q)).next(()=>re.forEach(H.Bi,q=>M.persistence.referenceDelegate.removeReference(R,H.targetId,q)))))}catch(R){if(!wu(R))throw R;ke("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const H=R.targetId;if(!R.fromCache){const q=M.Ji.get(H),Ve=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);M.Ji=M.Ji.insert(H,Ve)}}}),function(I,C){return m.apply(this,arguments)})(r.localStore,u))}),Eb.apply(this,arguments)}function GM(t,e){return Db.apply(this,arguments)}function Db(){return Db=(0,ge.Z)(function*(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield hf(n.localStore,e);n.currentUser=e,(s=n).Ec.forEach(l=>{l.forEach(m=>{m.reject(new Te(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yc(n,r.er)}var s}),Db.apply(this,arguments)}function qM(t,e){const n=Qe(t),r=n.yc.get(e);if(r&&r.fc)return $t().add(r.key);{let s=$t();const u=n._c.get(e);if(!u)return s;for(const l of u){const m=n.wc.get(l);s=s.unionWith(m.view.nc)}return s}}function BA(t,e){return vf.apply(this,arguments)}function vf(){return vf=(0,ge.Z)(function*(t,e){const n=Qe(t),r=yield yv(n.localStore,e.query,!0),s=e.view.hc(r);return n.isPrimaryClient&&dI(n,e.targetId,s.cc),s}),vf.apply(this,arguments)}function jA(t,e){return fI.apply(this,arguments)}function fI(){return fI=(0,ge.Z)(function*(t,e){const n=Qe(t);return vv(n.localStore,e).then(r=>Yc(n,r))}),fI.apply(this,arguments)}function Cb(t,e,n,r){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,ge.Z)(function*(t,e,n,r){const s=Qe(t),u=yield function(l,m){const I=Qe(l),C=Qe(I.mutationQueue);return I.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Sn(M,m).next(R=>R?I.localDocuments.getDocuments(M,R):re.resolve(null)))}(s.localStore,e);var m;null!==u?("pending"===n?yield xu(s.remoteStore):"acknowledged"===n||"rejected"===n?(Ib(s,e,r||null),wb(s,e),m=e,Qe(Qe(s.localStore).mutationQueue).Cn(m)):tt(),yield Yc(s,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),Nu.apply(this,arguments)}function nm(){return nm=(0,ge.Z)(function*(t,e){const n=Qe(t);if(Rv(n),mI(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),s=yield Mv(n,r.toArray());n.vc=!0,yield rI(n.remoteStore,!0);for(const u of s)zw(n.remoteStore,u)}else if(!1===e&&!1!==n.vc){const r=[];let s=Promise.resolve();n._c.forEach((u,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then(()=>(tm(n,l),Hc(n.localStore,l,!0))),gf(n.remoteStore,l)}),yield s,yield Mv(n,r),function(u){const l=Qe(u);l.yc.forEach((m,I)=>{gf(l.remoteStore,I)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Mn(We.comparator)}(n),n.vc=!1,yield rI(n.remoteStore,!1)}}),nm.apply(this,arguments)}function Mv(t,e,n){return pI.apply(this,arguments)}function pI(){return pI=(0,ge.Z)(function*(t,e,n){const r=Qe(t),s=[],u=[];for(const l of e){let m;const I=r._c.get(l);if(I&&0!==I.length){m=yield ff(r.localStore,Ar(I[0]));for(const C of I){const M=r.wc.get(C),R=yield BA(r,M);R.snapshot&&u.push(R.snapshot)}}else{const C=yield $g(r.localStore,l);m=yield ff(r.localStore,C),yield yb(r,xv(C),l,!1,m.resumeToken)}s.push(m)}return r.dc.nu(u),s}),pI.apply(this,arguments)}function xv(t){return _d(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function gI(t){const e=Qe(t);return Qe(Qe(e.localStore).persistence).$i()}function Nv(t,e,n,r){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,ge.Z)(function*(t,e,n,r){const s=Qe(t);if(s.vc)return void ke("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(n){case"current":case"not-current":{const l=yield vv(s.localStore,yg(u[0])),m=Ag.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,zr.EMPTY_BYTE_STRING);yield Yc(s,l,m);break}case"rejected":yield Hc(s.localStore,e,!0),tm(s,e,r);break;default:tt()}}),Tb.apply(this,arguments)}function ZM(t,e,n){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,ge.Z)(function*(t,e,n){const r=Rv(t);if(r.vc){for(const s of e){if(r._c.has(s)){ke("SyncEngine","Adding an already active target "+s);continue}const u=yield $g(r.localStore,s),l=yield ff(r.localStore,u);yield yb(r,xv(u),l.targetId,!1,l.resumeToken),zw(r.remoteStore,l)}for(const s of n)r._c.has(s)&&(yield Hc(r.localStore,s,!1).then(()=>{gf(r.remoteStore,s),tm(r,s)}).catch(_u))}}),Sb.apply(this,arguments)}function Rv(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_b.bind(null,e),e.dc.nu=Wc.bind(null,e.eventManager),e.dc.Pc=cb.bind(null,e.eventManager),e}function mI(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zM.bind(null,e),e}class rm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ge.Z)(function*(){n.serializer=pf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yA(this.persistence,new mA,e.initialUser,this.serializer)}createPersistence(e){return new hv(Bg.zs,this.serializer)}createSharedClientState(e){return new $w}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Pv extends rm{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield mI(r.Vc.syncEngine),yield xu(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return yA(this.persistence,new mA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new cv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new MS(n,this.persistence);return new CD(e.asyncQueue,r)}createPersistence(e){const n=gv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new Nw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Hw(),qg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new $w}}class yI extends Pv{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield n().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof jw&&(r.sharedClientState.syncEngine={jr:Cb.bind(null,s),zr:Nv.bind(null,s),Wr:ZM.bind(null,s),$i:gI.bind(null,s),Qr:jA.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,ge.Z)(function*(l){yield function bb(t,e){return nm.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Hw();if(!jw.D(n))throw new Te(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=gv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class kd{initialize(e,n){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>em(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=GM.bind(null,r.syncEngine),yield rI(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ub}createDatastore(e){const n=pf(e.databaseInfo.databaseId),r=new EA(e.databaseInfo);return new XC(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>em(this.syncEngine,m,0),l=QC.D()?new QC:new YC,new jM(n,r,s,u,l);var n,r,s,u,l}createSyncEngine(e,n){return function(r,s,u,l,m,I,C){const M=new mb(r,s,u,l,m,I);return C&&(M.vc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ge.Z)(function*(n){const r=Qe(n);ke("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Zg(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ab(t,e=10240){let n=0;return{read:()=>(0,ge.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ov{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Mb{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new $r,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ge.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(s);return new PA(JSON.parse(u),n.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ge.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,ge.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ge.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class vI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,ge.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Te(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,ge.Z)(function*(u,l){const m=Qe(u),I=Cd(m.serializer)+"/documents",C={documents:l.map(q=>Mg(m.serializer,q))},M=yield m.vo("BatchGetDocuments",I,C,l.length),R=new Map;M.forEach(q=>{const ye=function XS(t,e){return"found"in e?function(n,r){ut(!!r.found);const s=ro(n,r.found.name),u=wr(r.found.updateTime),l=r.found.createTime?wr(r.found.createTime):dt.min(),m=new ui({mapValue:{fields:r.found.fields}});return xn.newFoundDocument(s,u,l,m)}(t,e):"missing"in e?function(n,r){ut(!!r.missing),ut(!!r.readTime);const s=ro(n,r.missing),u=wr(r.readTime);return xn.newNoDocument(s,u)}(t,e):tt()}(m.serializer,q);R.set(ye.key.toString(),ye)});const H=[];return l.forEach(q=>{const ye=R.get(q.toString());ut(!!ye),H.push(ye)}),H}),function(u,l){return s.apply(this,arguments)})(n.datastore,e);var s;return r.forEach(s=>n.recordVersion(s)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,s)=>{const u=We.fromPath(s);e.mutations.push(new iw(u,e.precondition(u)))}),yield(r=(0,ge.Z)(function*(s,u){const l=Qe(s),m=Cd(l.serializer)+"/documents",I={writes:u.map(C=>Zo(l.serializer,C))};yield l.Io("Commit",m,I)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw tt();n=dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Te(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(dt.min())?Yn.exists(!1):Yn.updateTime(n):Yn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(dt.min()))throw new Te(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(n)}return Yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WM{constructor(e,n,r,s,u){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new wv(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ge.Z)(function*(){const n=new vI(e.datastore),r=e.qc(n);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Uc(u)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const n=this.updateFunction(e);return!Kh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!aw(n)}return!1}}class xb{constructor(e,n,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mi.UNAUTHENTICATED,this.clientId=_D.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ge.Z)(function*(m){ke("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ke("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const s=Pd(r,"Failed to shutdown persistence");n.reject(s)}})),n.promise}}function _f(t,e){return _I.apply(this,arguments)}function _I(){return _I=(0,ge.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var s=(0,ge.Z)(function*(u){r.isEqual(u)||(yield hf(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),_I.apply(this,arguments)}function wI(t,e){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,ge.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield II(t);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(s=>ob(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,u)=>ob(e.remoteStore,u)),t._onlineComponents=e}),Nb.apply(this,arguments)}function zA(t){return"FirebaseError"===t.name?t.code===ae.FAILED_PRECONDITION||t.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function II(t){return EI.apply(this,arguments)}function EI(){return EI=(0,ge.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zA(n))throw n;Bi("Error using user provided cache. Falling back to memory cache: "+n),yield _f(t,new rm)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield _f(t,new rm);return t._offlineComponents}),EI.apply(this,arguments)}function kv(t){return DI.apply(this,arguments)}function DI(){return DI=(0,ge.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield wI(t,t._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield wI(t,new kd))),t._onlineComponents}),DI.apply(this,arguments)}function CI(t){return II(t).then(e=>e.persistence)}function im(t){return II(t).then(e=>e.localStore)}function Rb(t){return kv(t).then(e=>e.remoteStore)}function Fv(t){return kv(t).then(e=>e.syncEngine)}function sm(t){return TI.apply(this,arguments)}function TI(){return TI=(0,ge.Z)(function*(t){const e=yield kv(t),n=e.eventManager;return n.onListen=kA.bind(null,e.syncEngine),n.onUnlisten=vb.bind(null,e.syncEngine),n}),TI.apply(this,arguments)}function kb(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(s,u,l,m,I){const C=new Ov({next:R=>{u.enqueueAndForget(()=>oI(s,M));const H=R.docs.has(l);!H&&R.fromCache?I.reject(new Te(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&m&&"server"===m.source?I.reject(new Te(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(R)},error:R=>I.reject(R)}),M=new Jg(pg(l.path),C,{includeMetadataChanges:!0,Ku:!0});return sI(s,M)}(yield sm(t),t.asyncQueue,e,n,r)})),r.promise}function Fb(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(s,u,l,m,I){const C=new Ov({next:R=>{u.enqueueAndForget(()=>oI(s,M)),R.fromCache&&"server"===m.source?I.reject(new Te(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(R)},error:R=>I.reject(R)}),M=new Jg(l,C,{includeMetadataChanges:!0,Ku:!0});return sI(s,M)}(yield sm(t),t.asyncQueue,e,n,r)})),r.promise}function Ub(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const qA=new Map;function AI(t,e,n){if(!n)throw new Te(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZA(t,e,n,r){if(!0===e&&!0===r)throw new Te(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WA(t){if(!We.isDocumentKey(t))throw new Te(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bb(t){if(We.isDocumentKey(t))throw new Te(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":tt()}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vv(t);throw new Te(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function KA(t,e){if(e<=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class YA{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ub(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YA(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new DS;switch(n.type){case"firstParty":return new ky(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=qA.get(e);n&&(ke("ComponentProvider","Removing Datastore"),qA.delete(e),n.terminate())}(this),Promise.resolve()}}class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class Ru extends ji{constructor(e,n,r){super(e,n,pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new We(e))}withConverter(e){return new Ru(this.firestore,e,this._path)}}function JA(t,e,...n){if(t=(0,Xt.m9)(t),AI("collection","path",e),t instanceof Uv){const r=en.fromString(e,...n);return Bb(r),new Ru(t,null,r)}{if(!(t instanceof Un||t instanceof Ru))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return Bb(r),new Ru(t.firestore,null,r)}}function MI(t,e,...n){if(t=(0,Xt.m9)(t),1===arguments.length&&(e=_D.A()),AI("doc","path",e),t instanceof Uv){const r=en.fromString(e,...n);return WA(r),new Un(t,null,new We(r))}{if(!(t instanceof Un||t instanceof Ru))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return WA(r),new Un(t.firestore,t instanceof Ru?t.converter:null,new We(r))}}function jb(t,e){return t=(0,Xt.m9)(t),e=(0,Xt.m9)(e),(t instanceof Un||t instanceof Ru)&&(e instanceof Un||e instanceof Ru)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function $b(t,e){return t=(0,Xt.m9)(t),e=(0,Xt.m9)(e),t instanceof ji&&e instanceof ji&&t.firestore===e.firestore&&mg(t._query,e._query)&&t.converter===e.converter}class i{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wv(this,"async_queue_retry"),this.Xc=()=>{const n=qg();n&&ke("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=qg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=qg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new $r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!wu(n))throw n;ke("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Kn("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=iI.createAndSchedule(this,e,n,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&tt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ge.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function o(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(t)}class a{constructor(){this._progressObserver={},this._taskCompletionResolver=new $r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class d extends Uv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new i,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||D(this),this._firestoreClient.terminate()}}function _(t){return t._firestoreClient||D(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function D(t){var e,n,r;const s=t._freezeSettings(),u=(m=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new LS(t._databaseId,m,t._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,Ub(C.experimentalLongPollingOptions),C.useFetchStreams));var m,C;t._firestoreClient=new xb(t._authCredentials,t._appCheckCredentials,t._queue,u),null!==(n=s.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function F(t,e,n){const r=new $r;return t.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield _f(t,n),yield wI(t,e),r.resolve()}catch(s){const u=s;if(!zA(u))throw u;Bi("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function Pt(t){if(t._initialized||t._terminated)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(zr.fromBase64String(e))}catch(n){throw new Te(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ii{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Te(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pu{constructor(e){this._methodName=e}}class Bv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const XA=/^__.*__$/;class IR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Cu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Na(e,this.data,n,this.fieldTransforms)}}class QM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Hb{constructor(e,n,r,s,u,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Hb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(JM(this.ca)&&XA.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ER{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pf(e)}ya(e,n,r,s=!1){return new Hb({ca:e,methodName:n,ga:r,path:cr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(t){const e=t._freezeSettings(),n=pf(t._databaseId);return new ER(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zb(t,e,n,r,s,u={}){const l=t.ya(u.merge||u.mergeFields?2:0,e,n,s);r1("Data must be an object, but it was:",l,r);const m=tx(r,l);let I,C;if(u.merge)I=new Zi(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const M=[];for(const R of u.mergeFields){const H=NI(e,R,n);if(!l.contains(H))throw new Te(ae.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);rx(M,H)||M.push(H)}I=new Zi(M),C=l.fieldTransforms.filter(R=>I.covers(R.field))}else I=null,C=l.fieldTransforms;return new IR(new ui(m),I,C)}class xI extends Pu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xI}}function XM(t,e,n){return new Hb({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class e1 extends Pu{_toFieldTransform(e){return new Dg(e.path,new af)}isEqual(e){return e instanceof e1}}class DR extends Pu{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=XM(this,e,!0),r=this.pa.map(u=>um(u,n)),s=new Id(r);return new Dg(e.path,s)}isEqual(e){return this===e}}class CR extends Pu{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=XM(this,e,!0),r=this.pa.map(u=>um(u,n)),s=new Vc(r);return new Dg(e.path,s)}isEqual(e){return this===e}}class bR extends Pu{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Ed(e.serializer,Q0(e.serializer,this.Ia));return new Dg(e.path,n)}isEqual(e){return this===e}}function t1(t,e,n,r){const s=t.ya(1,e,n);r1("Data must be an object, but it was:",s,r);const u=[],l=ui.empty();Iu(r,(I,C)=>{const M=Gb(e,I,n);C=(0,Xt.m9)(C);const R=s.da(M);if(C instanceof xI)u.push(M);else{const H=um(C,R);null!=H&&(u.push(M),l.set(M,H))}});const m=new Zi(u);return new QM(l,m,s.fieldTransforms)}function n1(t,e,n,r,s,u){const l=t.ya(1,e,n),m=[NI(e,r,n)],I=[s];if(u.length%2!=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<u.length;H+=2)m.push(NI(e,u[H])),I.push(u[H+1]);const C=[],M=ui.empty();for(let H=m.length-1;H>=0;--H)if(!rx(C,m[H])){const q=m[H];let ye=I[H];ye=(0,Xt.m9)(ye);const Ve=l.da(q);if(ye instanceof xI)C.push(q);else{const Be=um(ye,Ve);null!=Be&&(C.push(q),M.set(q,Be))}}const R=new Zi(C);return new QM(M,R,l.fieldTransforms)}function ex(t,e,n,r=!1){return um(n,t.ya(r?4:3,e))}function um(t,e){if(nx(t=(0,Xt.m9)(t)))return r1("Unsupported field value:",e,t),tx(t,e);if(t instanceof Pu)return function(n,r){if(!JM(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let u=0;for(const l of n){let m=um(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if(null===(n=(0,Xt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Q0(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const s=Ln.fromDate(n);return{timestampValue:uf(r.serializer,s)}}if(n instanceof Ln){const s=new Ln(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:uf(r.serializer,s)}}if(n instanceof Bv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qn)return{bytesValue:oC(r.serializer,n._byteString)};if(n instanceof Un){const s=r.databaseId,u=n.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Vv(n)}`)}(t,e)}function tx(t,e){const n={};return pd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Iu(t,(r,s)=>{const u=um(s,e.ha(r));null!=u&&(n[r]=u)}),{mapValue:{fields:n}}}function nx(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ln||t instanceof Bv||t instanceof Qn||t instanceof Un||t instanceof Pu)}function r1(t,e,n){if(!nx(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Vv(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function NI(t,e,n){if((e=(0,Xt.m9)(e))instanceof Ii)return e._internalPath;if("string"==typeof e)return Gb(t,e);throw qb("Field path arguments must be of type string or ",t,!1,void 0,n)}const TR=new RegExp("[~\\*/\\[\\]]");function Gb(t,e,n){if(e.search(TR)>=0)throw qb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ii(...e.split("."))._internalPath}catch{throw qb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qb(t,e,n,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let I="";return(u||l)&&(I+=" (found",u&&(I+=` in field ${r}`),l&&(I+=` in document ${s}`),I+=")"),new Te(ae.INVALID_ARGUMENT,m+t+I)}function rx(t,e){return t.some(n=>n.isEqual(e))}class RI{constructor(e,n,r,s,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new SR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class SR extends RI{data(){return super.data()}}function Zb(t,e){return"string"==typeof e?Gb(t,e):e instanceof Ii?e._internalPath:e._delegate._internalPath}function ix(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Te(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i1{}class PI extends i1{}function wf(t,e,...n){let r=[];e instanceof i1&&r.push(e),r=r.concat(n),function(s){const u=s.filter(m=>m instanceof jv).length,l=s.filter(m=>m instanceof OI).length;if(u>1||u>0&&l>0)throw new Te(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class OI extends PI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new OI(e,n,r)}_apply(e){const n=this._parse(e);return ux(e._query,n),new ji(e.firestore,e.converter,G0(e._query,n))}_parse(e){const n=am(e.firestore);return function(s,u,l,m,I,C,M){let R;if(I.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){ax(M,C);const H=[];for(const q of M)H.push(ox(m,s,q));R={arrayValue:{values:H}}}else R=ox(m,s,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||ax(M,C),R=ex(l,"where",M,"in"===C||"not-in"===C);return Yt.create(I,C,R)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class jv extends i1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const m of l)ux(u,m),u=G0(u,m)}(e._query,n),new ji(e.firestore,e.converter,G0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class s1 extends PI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s1(e,n)}_apply(e){const n=function(r,s,u){if(null!==r.startAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Xh(s,u);return function(m,I){if(null===qD(m)){const C=gg(m);null!==C&&cx(0,C,I.field)}}(r,l),l}(e._query,this._field,this._direction);return new ji(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Du(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class Wb extends PI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Wb(e,n,r)}_apply(e){return new ji(e.firestore,e.converter,Ky(e._query,this._limit,this._limitType))}}class Kb extends PI{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Kb(e,n,r)}_apply(e){const n=sx(e,this.type,this._docOrFields,this._inclusive);return new ji(e.firestore,e.converter,(s=n,new Du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class Yb extends PI{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Yb(e,n,r)}_apply(e){const n=sx(e,this.type,this._docOrFields,this._inclusive);return new ji(e.firestore,e.converter,(s=n,new Du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function sx(t,e,n,r){if(n[0]=(0,Xt.m9)(n[0]),n[0]instanceof RI)return function(s,u,l,m,I){if(!m)throw new Te(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const M of nf(s))if(M.field.isKeyField())C.push(yd(u,m.key));else{const R=m.data.field(M.field);if(ug(R))throw new Te(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const H=M.field.canonicalString();throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}C.push(R)}return new Eu(C,I)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=am(t.firestore);return function(u,l,m,I,C,M){const R=u.explicitOrderBy;if(C.length>R.length)throw new Te(ae.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let q=0;q<C.length;q++){const ye=C[q];if(R[q].field.isKeyField()){if("string"!=typeof ye)throw new Te(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof ye}`);if(!Wy(u)&&-1!==ye.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${I}() must be a plain document ID, but '${ye}' contains a slash.`);const Ve=u.path.child(en.fromString(ye));if(!We.isDocumentKey(Ve))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${I}() must result in a valid document path, but '${Ve}' is not because it contains an odd number of segments.`);const Be=new We(Ve);H.push(yd(l,Be))}else{const Ve=ex(m,I,ye);H.push(Ve)}}return new Eu(H,M)}(t._query,t.firestore._databaseId,s,e,n,r)}}function ox(t,e,n){if("string"==typeof(n=(0,Xt.m9)(n))){if(""===n)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wy(e)&&-1!==n.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(en.fromString(n));if(!We.isDocumentKey(r))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yd(t,new We(r))}if(n instanceof Un)return yd(t,n._key);throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vv(n)}.`)}function ax(t,e){if(!Array.isArray(t)||0===t.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ux(t,e){if(e.isInequality()){const r=gg(t),s=e.field;if(null!==r&&!r.isEqual(s))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=qD(t);null!==u&&cx(0,s,u)}const n=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Te(ae.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function cx(t,e,n){if(!n.isEqual(e))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class o1{convertValue(e,n="none"){switch(no(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw tt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Iu(e,(s,u)=>{r[s]=this.convertValue(u,n)}),r}convertGeoPoint(e){return new Bv(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lg(e));default:return null}}convertTimestamp(e){const n=vi(e);return new Ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=en.fromString(e);ut(mw(r));const s=new Rc(r.get(1),r.get(3)),u=new We(r.popFirst(5));return s.isEqual(n)||Kn(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Qb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class FR extends o1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}class cm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fd extends RI{constructor(e,n,r,s,u,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kI extends Fd{data(e={}){return super.data(e)}}class If{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new cm(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kI(this._firestore,this._userDataWriter,r.key,r,new cm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new kI(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const m=new kI(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let I=-1,C=-1;return 0!==l.type&&(I=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:VR(l.type),doc:m,oldIndex:I,newIndex:C}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function dx(t,e){return t instanceof Fd&&e instanceof Fd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof If&&e instanceof If&&t._firestore===e._firestore&&$b(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Ef extends o1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function hx(t,e,n){t=Jt(t,Un);const r=Jt(t.firestore,d),s=Qb(t.converter,e,n);return $v(r,[zb(am(r),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,Yn.none())])}function fx(t,e,n,...r){t=Jt(t,Un);const s=Jt(t.firestore,d),u=am(s);let l;return l="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Ii?n1(u,"updateDoc",t._key,e,n,r):t1(u,"updateDoc",t._key,e),$v(s,[l.toMutation(t._key,Yn.exists(!0))])}function px(t,...e){var n,r,s;t=(0,Xt.m9)(t);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||o(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(o(e[l])){const R=e[l];e[l]=null===(n=R.next)||void 0===n?void 0:n.bind(R),e[l+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[l+2]=null===(s=R.complete)||void 0===s?void 0:s.bind(R)}let I,C,M;if(t instanceof Un)C=Jt(t.firestore,d),M=pg(t._key.path),I={next:R=>{e[l]&&e[l](a1(C,t,R))},error:e[l+1],complete:e[l+2]};else{const R=Jt(t,ji);C=Jt(R.firestore,d),M=R._query;const H=new Ef(C);I={next:q=>{e[l]&&e[l](new If(C,H,R,q))},error:e[l+1],complete:e[l+2]},ix(t._query)}return function(R,H,q,ye){const Ve=new Ov(ye),Be=new Jg(H,Ve,q);return R.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return sI(yield sm(R),Be)})),()=>{Ve.Dc(),R.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return oI(yield sm(R),Be)}))}}(_(C),M,m,I)}function $v(t,e){return function(n,r){const s=new $r;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function FA(t,e,n){return Tv.apply(this,arguments)}(yield Fv(n),r,s)})),s.promise}(_(t),e)}function a1(t,e,n){const r=n.docs.get(e._key),s=new Ef(t);return new Fd(t,s,e._key,r,new cm(n.hasPendingWrites,n.fromCache),e.converter)}const nP={maxAttempts:5};class gx{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=am(e)}set(e,n,r){this._verifyNotCommitted();const s=Df(e,this._firestore),u=Qb(s.converter,n,r),l=zb(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(l.toMutation(s._key,Yn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const u=Df(e,this._firestore);let l;return l="string"==typeof(n=(0,Xt.m9)(n))||n instanceof Ii?n1(this._dataReader,"WriteBatch.update",u._key,n,r,s):t1(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(l.toMutation(u._key,Yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Df(e,this._firestore);return this._mutations=this._mutations.concat(new bg(n._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Df(t,e){if((t=(0,Xt.m9)(t)).firestore!==e)throw new Te(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class rP extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=am(e)}get(e){const n=Df(e,this._firestore),r=new FR(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||1!==s.length)return tt();const u=s[0];if(u.isFoundDocument())return new RI(this._firestore,r,u.key,u,n.converter);if(u.isNoDocument())return new RI(this._firestore,r,n._key,null,n.converter);throw tt()})}set(e,n,r){const s=Df(e,this._firestore),u=Qb(s.converter,n,r),l=zb(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,l),this}update(e,n,r,...s){const u=Df(e,this._firestore);let l;return l="string"==typeof(n=(0,Xt.m9)(n))||n instanceof Ii?n1(this._dataReader,"Transaction.update",u._key,n,r,s):t1(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,l),this}delete(e){const n=Df(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Df(e,this._firestore),r=new Ef(this._firestore);return super.get(e).then(s=>new Fd(this._firestore,r,n._key,s._document,new cm(!1,!1),n.converter))}}function mx(t){return new bR("increment",t)}function u1(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function vx(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function _x(){if(!function Aa(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){zh=Vo.SDK_VERSION,(0,Vo._registerComponent)(new Jl.wA("firestore",(n,{instanceIdentifier:r,options:s})=>{const u=n.getProvider("app").getImmediate(),l=new d(new I0(n.getProvider("auth-internal")),new TS(n.getProvider("app-check-internal")),function(m,I){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(m.options.projectId,I)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(yD,"3.13.0",t),(0,Vo.registerVersion)(yD,"3.13.0","esm2017")}();class FI{constructor(e){this._delegate=e}static fromBase64String(e){return _x(),new FI(Qn.fromBase64String(e))}static fromUint8Array(e){return vx(),new FI(Qn.fromUint8Array(e))}toBase64(){return _x(),this._delegate.toBase64()}toUint8Array(){return vx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function c1(t){return function dP(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class hP{enableIndexedDbPersistence(e,n){return function S(t,e){Pt(t=Jt(t,d));const n=_(t);if(n._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Bi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),s=new kd;return F(n,s,new Pv(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function x(t){Pt(t=Jt(t,d));const e=_(t);if(e._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Bi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new kd;return F(e,r,new yI(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function z(t){if(t._initialized&&!t._terminated)throw new Te(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $r;return t._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(n=(0,ge.Z)(function*(r){if(!Fs.D())return Promise.resolve();const s=r+"main";yield Fs.delete(s)}),function(r){return n.apply(this,arguments)})(gv(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class wx{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Bi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function QA(t,e,n,r={}){var s;const u=(t=Jt(t,Uv))._getSettings(),l=`${e}:${n}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&Bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let m,I;if("string"==typeof r.mockUserToken)m=r.mockUserToken,I=mi.MOCK_USER;else{m=(0,Xt.Sg)(r.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Te(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new mi(C)}t._authCredentials=new CS(new vD(m,I))}}(this._delegate,e,n,r)}enableNetwork(){return function me(t){return function SI(t){return t.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield CI(t),n=yield Rb(t);return e.setNetworkEnabled(!0),function(r){const s=Qe(r);return s.vu.delete(0),Iv(s)}(n)}))}(_(t=Jt(t,d)))}(this._delegate)}disableNetwork(){return function Fe(t){return function Pb(t){return t.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield CI(t),n=yield Rb(t);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(s){const u=Qe(s);u.vu.add(0),yield Zg(u),u.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(n);var r}))}(_(t=Jt(t,d)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ZA("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function K(t){return function(e){const n=new $r;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function VA(t,e){return cI.apply(this,arguments)}(yield Fv(e),n)})),n.promise}(_(t=Jt(t,d)))}(this._delegate)}onSnapshotsInSync(e){return function ZR(t,e){return function GA(t,e){const n=new Ov(e);return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield sm(t),s=n,Qe(r).ku.add(s),void s.next();var r,s})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield sm(t),s=n,void Qe(r).ku.delete(s);var r,s}))}}(_(t=Jt(t,d)),o(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hv(this,JA(this._delegate,e))}catch(n){throw Ls(n,"collection()","Firestore.collection()")}}doc(e){try{return new Pa(this,MI(this._delegate,e))}catch(n){throw Ls(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vs(this,function YM(t,e){if(t=Jt(t,Uv),AI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ji(t,null,(n=e,new Du(en.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw Ls(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function iP(t,e,n){t=Jt(t,d);const r=Object.assign(Object.assign({},nP),n);return function(s){if(s.maxAttempts<1)throw new Te(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,l){const m=new $r;return s.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const I=yield function bI(t){return kv(t).then(e=>e.datastore)}(s);new WM(s.asyncQueue,I,l,u,m).run()})),m.promise}(_(t),s=>e(new rP(t,s)),r)}(this._delegate,n=>e(new Ix(this,n)))}batch(){return _(this._delegate),new Ex(new gx(this._delegate,e=>$v(this._delegate,e)))}loadBundle(e){return function gt(t,e){const n=_(t=Jt(t,d)),r=new a;return function Lb(t,e,n,r){const s=function(u,l){let m;return m="string"==typeof u?ev().encode(u):u,I=function(I,C){if(I instanceof Uint8Array)return Ab(I,C);if(I instanceof ArrayBuffer)return Ab(new Uint8Array(I),C);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Mb(I,l);var I}(n,pf(e));t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function $A(t,e,n){const r=Qe(t);var s;(s=(0,ge.Z)(function*(u,l,m){try{const I=yield l.getMetadata();if(yield function(H,q){const ye=Qe(H),Ve=wr(q.createTime);return ye.persistence.runTransaction("hasNewerBundle","readonly",Be=>ye.qs.getBundleMetadata(Be,q.id)).then(Be=>!!Be&&Be.createTime.compareTo(Ve)>=0)}(u.localStore,I))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(H=I).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);m._updateProgress(db(I));const C=new lb(I,u.localStore,l.serializer);let M=yield l.bc();for(;M;){const H=yield C.zu(M);H&&m._updateProgress(H),M=yield l.bc()}const R=yield C.complete();return yield Yc(u,R.Ju,void 0),yield function(H,q){const ye=Qe(H);return ye.persistence.runTransaction("Save bundle","readwrite",Ve=>ye.qs.saveBundleMetadata(Ve,q))}(u.localStore,I),m._completeWith(R.progress),Promise.resolve(R.Hu)}catch(I){return Bi("SyncEngine",`Loading bundle failed with ${I}`),m._failWith(I),Promise.resolve(new Set)}var H}),function(u,l,m){return s.apply(this,arguments)})(r,e,n).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield Fv(t),s,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Ae(t,e){return function Vb(t,e){return t.asyncQueue.enqueue((0,ge.Z)(function*(){return function(n,r){const s=Qe(n);return s.persistence.runTransaction("Get named query","readonly",u=>s.qs.getNamedQuery(u,r))}(yield im(t),e)}))}(_(t=Jt(t,d)),e).then(n=>n?new ji(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Vs(this,n):null)}}class Jb extends o1{constructor(e){super(),this.firestore=e}convertBytes(e){return new FI(new Qn(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Pa.forKey(n,this.firestore,null)}}class Ix{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Jb(e)}get(e){const n=dm(e);return this._delegate.get(n).then(r=>new LI(this._firestore,new Fd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const s=dm(e);return r?(u1("Transaction.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const u=dm(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,r,...s),this}delete(e){const n=dm(e);return this._delegate.delete(n),this}}class Ex{constructor(e){this._delegate=e}set(e,n,r){const s=dm(e);return r?(u1("WriteBatch.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const u=dm(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,r,...s),this}delete(e){const n=dm(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class lm{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new kI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new VI(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=lm.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(n);return u||(u=new lm(e,new Jb(e),n),s.set(n,u)),u}}lm.INSTANCES=new WeakMap;class Pa{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Jb(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pa(n,new Un(n._delegate,r,new We(e)))}static forKey(e,n,r){return new Pa(n,new Un(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Hv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hv(this.firestore,JA(this._delegate,e))}catch(n){throw Ls(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Un&&jb(this._delegate,e)}set(e,n){n=u1("DocumentReference.set",n);try{return n?hx(this._delegate,e,n):hx(this._delegate,e)}catch(r){throw Ls(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?fx(this._delegate,e):fx(this._delegate,e,n,...r)}catch(s){throw Ls(s,"updateDoc()","DocumentReference.update()")}}delete(){return function GR(t){return $v(Jt(t.firestore,d),[new bg(t._key,Yn.none())])}(this._delegate)}onSnapshot(...e){const n=Dx(e),r=Cx(e,s=>new LI(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return px(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function BR(t){t=Jt(t,Un);const e=Jt(t.firestore,d),n=_(e),r=new Ef(e);return function Ob(t,e){const n=new $r;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(s,u,l){try{const m=yield function(I,C){const M=Qe(I);return M.persistence.runTransaction("read document","readonly",R=>M.localDocuments.getDocument(R,C))}(s,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Te(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const I=Pd(m,`Failed to get document '${u} from cache`);l.reject(I)}}),function(s,u,l){return r.apply(this,arguments)})(yield im(t),e,n);var r})),n.promise}(n,t._key).then(s=>new Fd(e,r,t._key,s,new cm(null!==s&&s.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function jR(t){t=Jt(t,Un);const e=Jt(t.firestore,d);return kb(_(e),t._key,{source:"server"}).then(n=>a1(e,t,n))}(this._delegate):function UR(t){t=Jt(t,Un);const e=Jt(t.firestore,d);return kb(_(e),t._key).then(n=>a1(e,t,n))}(this._delegate),n.then(r=>new LI(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Pa(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}function Ls(t,e,n){return t.message=t.message.replace(e,n),t}function Dx(t){for(const e of t)if("object"==typeof e&&!c1(e))return e;return{}}function Cx(t,e){var n,r;let s;return s=c1(t[0])?t[0]:c1(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(n=s.error)||void 0===n?void 0:n.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class LI{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return dx(this._delegate,e._delegate)}}class VI extends LI{data(e){const n=this._delegate.data(e);return function tg(t,e){t||tt()}(void 0!==n),n}}class Vs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Jb(e)}where(e,n,r){try{return new Vs(this.firestore,wf(this._delegate,function AR(t,e,n){const r=e,s=Zb("where",t);return OI._create(s,r,n)}(e,n,r)))}catch(s){throw Ls(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Vs(this.firestore,wf(this._delegate,function MR(t,e="asc"){const n=e,r=Zb("orderBy",t);return s1._create(r,n)}(e,n)))}catch(r){throw Ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vs(this.firestore,wf(this._delegate,function xR(t){return KA("limit",t),Wb._create("limit",t,"F")}(e)))}catch(n){throw Ls(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Vs(this.firestore,wf(this._delegate,function NR(t){return KA("limitToLast",t),Wb._create("limitToLast",t,"L")}(e)))}catch(n){throw Ls(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vs(this.firestore,wf(this._delegate,function RR(...t){return Kb._create("startAt",t,!0)}(...e)))}catch(n){throw Ls(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vs(this.firestore,wf(this._delegate,function PR(...t){return Kb._create("startAfter",t,!1)}(...e)))}catch(n){throw Ls(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vs(this.firestore,wf(this._delegate,function OR(...t){return Yb._create("endBefore",t,!1)}(...e)))}catch(n){throw Ls(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vs(this.firestore,wf(this._delegate,function kR(...t){return Yb._create("endAt",t,!0)}(...e)))}catch(n){throw Ls(n,"endAt()","Query.endAt()")}}isEqual(e){return $b(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function HR(t){t=Jt(t,ji);const e=Jt(t.firestore,d),n=_(e),r=new Ef(e);return function Lv(t,e){const n=new $r;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(s,u,l){try{const m=yield yv(s,u,!0),I=new pb(u,m.ir),C=I.sc(m.documents),M=I.applyChanges(C,!1);l.resolve(M.snapshot)}catch(m){const I=Pd(m,`Failed to execute query '${u} against cache`);l.reject(I)}}),function(s,u,l){return r.apply(this,arguments)})(yield im(t),e,n);var r})),n.promise}(n,t._query).then(s=>new If(e,r,t,s))}(this._delegate):"server"===e?.source?function zR(t){t=Jt(t,ji);const e=Jt(t.firestore,d),n=_(e),r=new Ef(e);return Fb(n,t._query,{source:"server"}).then(s=>new If(e,r,t,s))}(this._delegate):function $R(t){t=Jt(t,ji);const e=Jt(t.firestore,d),n=_(e),r=new Ef(e);return ix(t._query),Fb(n,t._query).then(s=>new If(e,r,t,s))}(this._delegate),n.then(r=>new l1(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Dx(e),r=Cx(e,s=>new l1(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return px(this._delegate,n,r)}withConverter(e){return new Vs(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}class pP{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new VI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class l1{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new VI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new pP(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new VI(this._firestore,r))})}isEqual(e){return dx(this._delegate,e._delegate)}}class Hv extends Vs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pa(this.firestore,e):null}doc(e){try{return new Pa(this.firestore,void 0===e?MI(this._delegate):MI(this._delegate,e))}catch(n){throw Ls(n,"doc()","CollectionReference.doc()")}}add(e){return function qR(t,e){const n=Jt(t.firestore,d),r=MI(t),s=Qb(t.converter,e);return $v(n,[zb(am(t.firestore),"addDoc",r._key,s,null!==t.converter,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Pa(this.firestore,n))}isEqual(e){return jb(this._delegate,e._delegate)}withConverter(e){return new Hv(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}function dm(t){return Jt(t,Un)}class d1{constructor(...e){this._delegate=new Ii(...e)}static documentId(){return new d1(cr.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Ii&&this._delegate._internalPath.isEqual(e._internalPath)}}class hm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function oP(){return new e1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hm(e)}static delete(){const e=function sP(){return new xI("deleteField")}();return e._methodName="FieldValue.delete",new hm(e)}static arrayUnion(...e){const n=function aP(...t){return new DR("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new hm(n)}static arrayRemove(...e){const n=function uP(...t){return new CR("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new hm(n)}static increment(e){const n=mx(e);return n._methodName="FieldValue.increment",new hm(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gP={Firestore:wx,GeoPoint:Bv,Timestamp:Ln,Blob:FI,Transaction:Ix,WriteBatch:Ex,DocumentReference:Pa,DocumentSnapshot:LI,Query:Vs,QueryDocumentSnapshot:VI,QuerySnapshot:l1,CollectionReference:Hv,FieldPath:d1,FieldValue:hm,setLogLevel:function fP(t){!function ES(t){ud.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function yP(t){(function mP(t,e){t.INTERNAL.registerComponent(new Jl.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),s=n.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},gP)))})(t,(e,n)=>new wx(e,n,new hP)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(x_.Z);var vP=P(3019),Xb=P(3093),_P=P(4552);class wP extends Ni.x{constructor(e=1/0,n=1/0,r=_P.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;n||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=n.now();let m=0;for(let I=1;I<r.length&&r[I]<=l;I+=2)m=I;m&&r.splice(0,m+1)}}}var IP=P(3020);function bx(t,e,n){let r,s=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:n}=t):r=t??1/0,(0,IP.B)({connector:()=>new wP(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function Tx(t,e){return(0,fa.m)(e)?(0,vr.w)(()=>t,e):(0,vr.w)(()=>t)}var h1=P(5137);P(3182);const p1=new Map,Ax={activated:!1,tokenObservers:[]},TP={initialized:!1,enabled:!1};function Mr(t){return p1.get(t)||Object.assign({},Ax)}function eT(){return TP}const g1="https://content-firebaseappcheck.googleapis.com/v1",xP="exchangeDebugToken",Mx={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class RP{constructor(e,n,r,s,u){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,ge.Z)(function*(){n.stop();try{n.pending=new Xt.BH,yield function PP(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Xt.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Yi=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function m1(t){if(!Mr(t).activated)throw Yi.create("use-before-activation",{appName:t.name})}function rT(t,e){return v1.apply(this,arguments)}function v1(){return v1=(0,ge.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){const R=yield s.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(t,u)}catch(R){throw Yi.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==l.status)throw Yi.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(R){throw Yi.create("fetch-parse-error",{originalErrorMessage:R?.message})}const I=m.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(I[1]),M=Date.now();return{token:m.token,expireTimeMillis:M+C,issuedAtTimeMillis:M}}),v1.apply(this,arguments)}function xx(t,e){const{projectId:n,appId:r,apiKey:s}=t.options;return{url:`${g1}/projects/${n}/apps/${r}:${xP}?key=${s}`,body:{debug_token:e}}}const LP="firebase-app-check-database",VP=1,BI="firebase-app-check-store";let iT=null;function _1(){return _1=(0,ge.Z)(function*(t,e){const r=(yield function Rx(){return iT||(iT=new Promise((t,e)=>{try{const n=indexedDB.open(LP,VP);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var s;e(Yi.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(BI,{keyPath:"compositeKey"})}}catch(n){e(Yi.create("storage-open",{originalErrorMessage:n?.message}))}}),iT)}()).transaction(BI,"readwrite"),u=r.objectStore(BI).put({compositeKey:t,value:e});return new Promise((l,m)=>{u.onsuccess=I=>{l()},r.onerror=I=>{var C;m(Yi.create("storage-set",{originalErrorMessage:null===(C=I.target.error)||void 0===C?void 0:C.message}))}})}),_1.apply(this,arguments)}const jI=new Rs.Yd("@firebase/app-check");function E1(t,e){return(0,Xt.hl)()?function BP(t,e){return function Px(t,e){return _1.apply(this,arguments)}(function kx(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{jI.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function C1(){return eT().enabled}function b1(){return T1.apply(this,arguments)}function T1(){return T1=(0,ge.Z)(function*(){const t=eT();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),T1.apply(this,arguments)}const qP={error:"UNKNOWN_ERROR"};function ZP(t){return Xt.US.encodeString(JSON.stringify(t),!1)}function sT(t){return S1.apply(this,arguments)}function S1(){return S1=(0,ge.Z)(function*(t,e=!1){const n=t.app;m1(n);const r=Mr(n);let u,s=r.token;if(s&&!zv(s)&&(r.token=void 0,s=void 0),!s){const I=yield r.cachedTokenPromise;I&&(zv(I)?s=I:yield E1(n,void 0))}if(!e&&s&&zv(s))return{token:s.token};let m,l=!1;if(C1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rT(xx(n,yield b1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const I=yield r.exchangeTokenPromise;return yield E1(n,I),r.token=I,{token:I.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield Mr(n).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?jI.warn(I.message):jI.error(I),u=I}return s?u?m=zv(s)?{token:s.token,internalError:u}:Ux(u):(m={token:s.token},r.token=s,yield E1(n,s)):m=Ux(u),l&&function Vx(t,e){const n=Mr(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,m),m}),S1.apply(this,arguments)}function A1(){return A1=(0,ge.Z)(function*(t){const e=t.app;m1(e);const{provider:n}=Mr(e);if(C1()){const r=yield b1(),{token:s}=yield rT(xx(e,r),t.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield n.getToken();return{token:r}}}),A1.apply(this,arguments)}function x1(t,e){const n=Mr(t),r=n.tokenObservers.filter(s=>s.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Lx(t){const{app:e}=t,n=Mr(e);let r=n.tokenRefresher;r||(r=function WP(t){const{app:e}=t;return new RP((0,ge.Z)(function*(){let r;if(r=Mr(e).token?yield sT(t,!0):yield sT(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Mr(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Mx.RETRIAL_MIN_WAIT,Mx.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zv(t){return t.expireTimeMillis-Date.now()>0}function Ux(t){return{token:ZP(qP),error:t}}class KP{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mr(this.app);for(const n of e)x1(this.app,n.next);return Promise.resolve()}}const Zx="app-check-internal";!function cO(){(0,Vo._registerComponent)(new Jl.wA("app-check",t=>function YP(t,e){return new KP(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Zx).initialize()})),(0,Vo._registerComponent)(new Jl.wA(Zx,t=>function QP(t){return{getToken:e=>sT(t,e),getLimitedUseToken:()=>function Fx(t){return A1.apply(this,arguments)}(t),addTokenListener:e=>function M1(t,e,n,r){const{app:s}=t,u=Mr(s);if(u.tokenObservers=[...u.tokenObservers,{next:n,error:r,type:e}],u.token&&zv(u.token)){const m=u.token;Promise.resolve().then(()=>{n({token:m.token}),Lx(t)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Lx(t))}(t,"INTERNAL",e),removeTokenListener:e=>x1(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vo.registerVersion)("@firebase/app-check","0.8.0")}();class O1{constructor(){return(0,Tr.vb)("app-check")}}typeof window<"u"&&window;var pO=P(7142);const Kx=new h.OlP("angularfire2.auth.use-emulator"),Yx=new h.OlP("angularfire2.auth.settings"),Qx=new h.OlP("angularfire2.auth.tenant-id"),Jx=new h.OlP("angularfire2.auth.langugage-code"),Xx=new h.OlP("angularfire2.auth.use-device-language"),eN=new h.OlP("angularfire.auth.persistence"),tN=(t,e,n,r,s,u,l,m)=>(0,Fi.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const I=e.runOutsideAngular(()=>t.auth());if(n&&I.useEmulator(...n),r&&(I.tenantId=r),I.languageCode=s,u&&I.useDeviceLanguage(),l)for(const[C,M]of Object.entries(l))I.settings[C]=M;return m&&I.setPersistence(m),I},[n,r,s,u,l,m]);let nN=(()=>{class t{constructor(n,r,s,u,l,m,I,C,M,R,H,q){const ye=new Ni.x,Ve=(0,pt.of)(void 0).pipe((0,Xb.Q)(l.outsideAngular),(0,vr.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5967)))),(0,mt.U)(()=>(0,Fi.on)(n,u,r)),(0,mt.U)(Be=>tN(Be,u,m,C,M,R,I,H)),bx({bufferSize:1,refCount:!1}));if(ys(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pt.of)(null);else{Ve.pipe(Ts()).subscribe();const ct=Ve.pipe((0,vr.w)(Ot=>Ot.getRedirectResult().then(Ht=>Ht,()=>null)),Tr.iC,bx({bufferSize:1,refCount:!1})),St=Ve.pipe((0,vr.w)(Ot=>new ti.y(Ht=>({unsubscribe:u.runOutsideAngular(()=>Ot.onAuthStateChanged(on=>Ht.next(on),on=>Ht.error(on),()=>Ht.complete()))})))),_t=Ve.pipe((0,vr.w)(Ot=>new ti.y(Ht=>({unsubscribe:u.runOutsideAngular(()=>Ot.onIdTokenChanged(on=>Ht.next(on),on=>Ht.error(on),()=>Ht.complete()))}))));this.authState=ct.pipe(Tx(St),(0,h1.R)(l.outsideAngular),(0,Xb.Q)(l.insideAngular)),this.user=ct.pipe(Tx(_t),(0,h1.R)(l.outsideAngular),(0,Xb.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,vr.w)(Ot=>Ot?(0,rn.D)(Ot.getIdToken()):(0,pt.of)(null))),this.idTokenResult=this.user.pipe((0,vr.w)(Ot=>Ot?(0,rn.D)(Ot.getIdTokenResult()):(0,pt.of)(null))),this.credential=(0,vP.T)(ct,ye,this.authState.pipe(Ri(Ot=>!Ot))).pipe((0,mt.U)(Ot=>Ot?.user?Ot:null),(0,h1.R)(l.outsideAngular),(0,Xb.Q)(l.insideAngular))}return(0,Fi.pX)(this,Ve,u,{spy:{apply:(Be,ct,St)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&St.then(_t=>ye.next(_t))}}})}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(Fi.Dh),h.LFG(Fi.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Tr.HU),h.LFG(Kx,8),h.LFG(Yx,8),h.LFG(Qx,8),h.LFG(Jx,8),h.LFG(Xx,8),h.LFG(eN,8),h.LFG(O1,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function rN(t,e){return function mO(t,e=ny.z){return new ti.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function F1(t,e){return rN(t,e).pipe((0,mt.U)(n=>({payload:n,type:"query"})))}function aT(t,e){return F1(t,e).pipe(Xa(void 0),yp(),(0,mt.U)(([n,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const I=s.find(M=>M.doc.ref.isEqual(l.ref)),C=n?.payload.docs.find(M=>M.ref.isEqual(l.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(l.metadata)||!I&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function iN(t,e,n){return aT(t,n).pipe(An((r,s)=>function vO(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function _O(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return L1(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return L1(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return L1(t,e.oldIndex,1)}return t}(t,r))}),t}(r,s.map(u=>u.payload),e),[]),(0,M_.x)(),(0,mt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function L1(t,e,n,...r){const s=t.slice();return s.splice(e,n,...r),s}function sN(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class oN{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=aT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,mt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),n.pipe(Xa(void 0),yp(),Ri(([r,s])=>s.length>0||!r),(0,mt.U)(([r,s])=>s),Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(An((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=sN(e);return iN(this.query,n,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return F1(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Tr.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Tr.iC)}add(e){return this.ref.add(e)}doc(e){return new aN(this.ref.doc(e),this.afs)}}class aN{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:s,query:u}=lN(r,n);return new oN(s,u,this.afs)}snapshotChanges(){return function yO(t,e){return rN(t,e).pipe(Xa(void 0),yp(),(0,mt.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,rn.D)(this.ref.get(e)).pipe(Tr.iC)}}class wO{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?aT(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Ri(n=>n.length>0),Tr.iC):aT(this.query,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(An((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=sN(e);return iN(this.query,n,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return F1(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Tr.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Tr.iC)}}const uN=new h.OlP("angularfire2.enableFirestorePersistence"),cN=new h.OlP("angularfire2.firestore.persistenceSettings"),IO=new h.OlP("angularfire2.firestore.settings"),EO=new h.OlP("angularfire2.firestore.use-emulator");function lN(t,e=(n=>n)){return{query:e(t),ref:t}}let V1=(()=>{class t{constructor(n,r,s,u,l,m,I,C,M,R,H,q,ye,Ve,Be,ct,St){this.schedulers=I;const _t=(0,Fi.on)(n,m,r),Ot=M;R&&tN(_t,m,H,ye,Ve,Be,q,ct),[this.firestore,this.persistenceEnabled$]=(0,Fi.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const Ht=m.runOutsideAngular(()=>_t.firestore());if(u&&Ht.settings(u),Ot&&Ht.useEmulator(...Ot),s&&!ys(l)){const on=()=>{try{return(0,rn.D)(Ht.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(ds){return typeof console<"u"&&console.warn(ds),(0,pt.of)(!1)}};return[Ht,m.runOutsideAngular(on)]}return[Ht,(0,pt.of)(!1)]},[u,Ot,s])}collection(n,r){let s;s="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:l}=lN(s,r),m=this.schedulers.ngZone.run(()=>u);return new oN(m,l,this)}collectionGroup(n,r){const s=r||(l=>l),u=this.firestore.collectionGroup(n);return new wO(s(u),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const s=this.schedulers.ngZone.run(()=>r);return new aN(s,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(Fi.Dh),h.LFG(Fi.xv,8),h.LFG(uN,8),h.LFG(IO,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Tr.HU),h.LFG(cN,8),h.LFG(EO,8),h.LFG(nN,8),h.LFG(Kx,8),h.LFG(Yx,8),h.LFG(Qx,8),h.LFG(Jx,8),h.LFG(Xx,8),h.LFG(eN,8),h.LFG(O1,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),DO=(()=>{class t{constructor(){pO.Z.registerVersion("angularfire",Tr.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:uN,useValue:!0},{provide:cN,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[V1]}),t})(),dN=(()=>{var t;class e{constructor(r){this.db=r,this.experiences=[],this.projects=[],this.skills=[]}getExperiences(){var r=this;return(0,ge.Z)(function*(){r.experiences.length>0||(console.log("Getting experiences data..."),yield r.db.collection("experiences").ref.orderBy("priority").get().then(s=>s.forEach(u=>{let l=u.data();l.visible&&r.experiences.push({visible:l.visible,priority:l.priority,ongoing:l.ongoing,title:l.title,company:l.company,duration:l.duration,desc:l.desc,skills:l.skills})})))})()}getProjects(){var r=this;return(0,ge.Z)(function*(){r.projects.length>0||(console.log("Getting projects data..."),yield r.db.collection("projects").ref.orderBy("priority").get().then(s=>s.forEach(u=>{let l=u.data();if(l.visible){r.projects.push({priority:l.priority,visible:l.visible,title:l.title,subtitle:l.subtitle,desc:l.desc,skills:l.skills,imgUrl:l.imgUrl,projectUrl:l.projectUrl,modalDesc:l.modalDesc});for(let I=0;I<l.skills.length;I++)-1==r.skills.indexOf(l.skills[I])&&r.skills.push(l.skills[I])}})))})()}createProject(r,s){return console.log("creating project"),this.db.collection("projects").doc(r).set({priority:s.priority,visible:s.visible,title:s.title,subtitle:s.subtitle,desc:s.desc,skills:s.skills,imgUrl:s.imgUrl,projectUrl:s.projectUrl,modalDesc:s.modalDesc})}createExperience(r,s){return console.log("creating experience"),this.db.collection("experiences").doc(r).set({visible:s.visible,priority:s.priority,ongoing:s.ongoing,title:s.title,company:s.company,duration:s.duration,desc:s.desc,skills:s.skills})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(V1))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function CO(t,e){1&t&&(h.TgZ(0,"div",7),h._UZ(1,"span",8),h._uU(2," Loading experiences data from Firestore...\n"),h.qZA())}function bO(t,e){1&t&&(h.TgZ(0,"span",18),h._uU(1,"Current"),h.qZA())}function TO(t,e){if(1&t&&(h.TgZ(0,"span",19),h._uU(1),h.qZA()),2&t){const n=e.$implicit;h.xp6(1),h.Oqu(n)}}function SO(t,e){if(1&t&&(h.TgZ(0,"div",9)(1,"div",10),h.YNc(2,bO,2,0,"span",11),h.TgZ(3,"h1",12),h._uU(4),h.qZA(),h.TgZ(5,"h1",13),h._uU(6),h.qZA(),h.TgZ(7,"h1",14),h._uU(8),h.qZA(),h._UZ(9,"ul",15)(10,"br"),h.TgZ(11,"div",16),h.YNc(12,TO,2,1,"span",17),h.qZA()()()),2&t){const n=e.$implicit;h.xp6(2),h.Q6J("ngIf",n.ongoing),h.xp6(2),h.Oqu(n.title),h.xp6(2),h.Oqu(n.company),h.xp6(2),h.Oqu(n.duration),h.xp6(1),h.Q6J("innerHTML",n.desc,h.oJD),h.xp6(3),h.Q6J("ngForOf",n.skills)}}let AO=(()=>{var t;class e{constructor(r){this.dbs=r}ngOnInit(){this.dbs.getExperiences()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(dN))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-experience-page"]],decls:10,vars:2,consts:[[1,"text-5xl","font-bold","text-center","pt-20"],[1,"px-10","pt-10"],[1,"card","glass"],[1,"card-body","font-light"],["class","flex items-center justify-center p-20",4,"ngIf"],[1,"grid","grid-cols-2","px-10","py-5","gap-4","mb-16"],["class","card glass bg-base-100 shadow-xl",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","p-20"],[1,"loading","loading-spinner","text-accent","mr-5"],[1,"card","glass","bg-base-100","shadow-xl"],[1,"card-body"],["class","indicator-item indicator-center badge badge-success",4,"ngIf"],[1,"text-lg","font-bold"],[1,"text-"],[1,"text-sm","italic"],[3,"innerHTML"],[1,"flex","flex-wrap","gap-2"],["class","badge badge-secondary badge-md",4,"ngFor","ngForOf"],[1,"indicator-item","indicator-center","badge","badge-success"],[1,"badge","badge-secondary","badge-md"]],template:function(r,s){1&r&&(h.TgZ(0,"h1",0),h._uU(1,"Experience"),h.qZA(),h.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"p"),h._uU(6," Most of my past experiences have been teaching and developing software for non-profits. From these roles, I have picked up great enthusiasm for working collaboratively with team members, communicating effectively, and remaining focused on delivering high-quality results. I am constantly seeking ways to improve both my technical and interpersonal skills. "),h.qZA()()()(),h.YNc(7,CO,3,0,"div",4),h.TgZ(8,"div",5),h.YNc(9,SO,13,6,"div",6),h.qZA()),2&r&&(h.xp6(7),h.Q6J("ngIf",0==s.dbs.experiences.length),h.xp6(2),h.Q6J("ngForOf",s.dbs.experiences))},dependencies:[Qo,$s]}),e})(),hN=(()=>{var t;class e{constructor(r,s){this._renderer=r,this._elementRef=s,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(r,s){this._renderer.setProperty(this._elementRef.nativeElement,r,s)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.Qsj),h.Y36(h.SBq))},t.\u0275dir=h.lG2({type:t}),e})(),fm=(()=>{var t;class e extends hN{}return(t=e).\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(t)))(s||t)}}(),t.\u0275dir=h.lG2({type:t,features:[h.qOj]}),e})();const Qc=new h.OlP("NgValueAccessor"),NO={provide:Qc,useExisting:(0,h.Gpc)(()=>uT),multi:!0},PO=new h.OlP("CompositionEventMode");let uT=(()=>{var t;class e extends hN{constructor(r,s,u){super(r,s),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function RO(){const t=k()?k().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(PO,8))},t.\u0275dir=h.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&h.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[h._Bn([NO]),h.qOj]}),e})();function Cf(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function pN(t){return null!=t&&"number"==typeof t.length}const ls=new h.OlP("NgValidators"),bf=new h.OlP("NgAsyncValidators"),OO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class cT{static min(e){return function gN(t){return e=>{if(Cf(e.value)||Cf(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function mN(t){return e=>{if(Cf(e.value)||Cf(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function yN(t){return Cf(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function vN(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function _N(t){return Cf(t.value)||OO.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function wN(t){return e=>Cf(e.value)||!pN(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function IN(t){return e=>pN(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function EN(t){if(!t)return lT;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Cf(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:n,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return AN(e)}static composeAsync(e){return MN(e)}}function lT(t){return null}function DN(t){return null!=t}function CN(t){return(0,h.QGY)(t)?(0,rn.D)(t):t}function bN(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function TN(t,e){return e.map(n=>n(t))}function SN(t){return t.map(e=>function kO(t){return!t.validate}(e)?e:n=>e.validate(n))}function AN(t){if(!t)return null;const e=t.filter(DN);return 0==e.length?null:function(n){return bN(TN(n,e))}}function U1(t){return null!=t?AN(SN(t)):null}function MN(t){if(!t)return null;const e=t.filter(DN);return 0==e.length?null:function(n){return function MO(...t){const e=(0,Ao.jO)(t),{args:n,keys:r}=Ka(t),s=new ti.y(u=>{const{length:l}=n;if(!l)return void u.complete();const m=new Array(l);let I=l,C=l;for(let M=0;M<l;M++){let R=!1;(0,oc.Xf)(n[M]).subscribe((0,Sn.x)(u,H=>{R||(R=!0,C--),m[M]=H},()=>I--,void 0,()=>{(!I||!R)&&(C||u.next(r?sc(r,m):m),u.complete())}))}});return e?s.pipe(So(e)):s}(TN(n,e).map(CN)).pipe((0,mt.U)(bN))}}function B1(t){return null!=t?MN(SN(t)):null}function xN(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function NN(t){return t._rawValidators}function RN(t){return t._rawAsyncValidators}function j1(t){return t?Array.isArray(t)?t:[t]:[]}function dT(t,e){return Array.isArray(t)?t.includes(e):t===e}function PN(t,e){const n=j1(e);return j1(t).forEach(s=>{dT(n,s)||n.push(s)}),n}function ON(t,e){return j1(e).filter(n=>!dT(t,n))}class kN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=U1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=B1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Us extends kN{get formDirective(){return null}get path(){return null}}class Tf extends kN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let LN=(()=>{var t;class e extends FN{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Tf,2))},t.\u0275dir=h.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[h.qOj]}),e})(),$1=(()=>{var t;class e extends FN{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Us,10))},t.\u0275dir=h.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[h.qOj]}),e})();const $I="VALID",fT="INVALID",Gv="PENDING",HI="DISABLED";function G1(t){return(pT(t)?t.validators:t)||null}function q1(t,e){return(pT(e)?e.asyncValidators:t)||null}function pT(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function UN(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[n])throw new h.vHH(1001,"")}function BN(t,e,n){t._forEachChild((r,s)=>{if(void 0===n[s])throw new h.vHH(1002,"")})}class gT{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$I}get invalid(){return this.status===fT}get pending(){return this.status==Gv}get disabled(){return this.status===HI}get enabled(){return this.status!==HI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ON(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ON(e,this._rawAsyncValidators))}hasValidator(e){return dT(this._rawValidators,e)}hasAsyncValidator(e){return dT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=HI,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=$I,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$I||this.status===Gv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?HI:$I}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gv,this._hasOwnPendingAsyncValidator=!0;const n=CN(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,s)=>r&&r._find(s),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?HI:this.errors?fT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gv)?Gv:this._anyControlsHaveStatus(fT)?fT:$I}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function UO(t){return Array.isArray(t)?U1(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function BO(t){return Array.isArray(t)?B1(t):t||null}(this._rawAsyncValidators)}}class zI extends gT{constructor(e,n,r){super(G1(n),q1(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){BN(this,0,e),Object.keys(e).forEach(r=>{UN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((s,u)=>{r=n(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class jN extends zI{}const qv=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>mT}),mT="always";function GI(t,e,n=mT){Z1(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function $O(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&$N(t,e)})}(t,e),function zO(t,e){const n=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function HO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&$N(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function jO(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function vT(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),wT(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function _T(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Z1(t,e){const n=NN(t);null!==e.validator?t.setValidators(xN(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=RN(t);null!==e.asyncValidator?t.setAsyncValidators(xN(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const s=()=>t.updateValueAndValidity();_T(e._rawValidators,s),_T(e._rawAsyncValidators,s)}function wT(t,e){let n=!1;if(null!==t){if(null!==e.validator){const s=NN(t);if(Array.isArray(s)&&s.length>0){const u=s.filter(l=>l!==e.validator);u.length!==s.length&&(n=!0,t.setValidators(u))}}if(null!==e.asyncValidator){const s=RN(t);if(Array.isArray(s)&&s.length>0){const u=s.filter(l=>l!==e.asyncValidator);u.length!==s.length&&(n=!0,t.setAsyncValidators(u))}}}const r=()=>{};return _T(e._rawValidators,r),_T(e._rawAsyncValidators,r),n}function $N(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function GN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function qN(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ZI=class extends gT{constructor(e=null,n,r){super(G1(n),q1(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pT(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=qN(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){qN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let J1=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=h.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),JN=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();const X1=new h.OlP("NgModelWithFormControlWarning"),ik={provide:Us,useExisting:(0,h.Gpc)(()=>IT)};let IT=(()=>{var t;class e extends Us{constructor(r,s,u){super(),this.callSetDisabledState=u,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(r),this._setAsyncValidators(s)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const s=this.form.get(r.path);return GI(s,r,this.callSetDisabledState),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),s}getControl(r){return this.form.get(r.path)}removeControl(r){vT(r.control||null,r,!1),function WO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,s){this.form.get(r.path).setValue(s)}onSubmit(r){return this.submitted=!0,function zN(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const s=r.control,u=this.form.get(r.path);s!==u&&(vT(s||null,r),(t=>t instanceof ZI)(u)&&(GI(u,r,this.callSetDisabledState),r.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const s=this.form.get(r.path);(function HN(t,e){Z1(t,e)})(s,r),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const s=this.form.get(r.path);s&&function GO(t,e){return wT(t,e)}(s,r)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Z1(this.form,this),this._oldForm&&wT(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(ls,10),h.Y36(bf,10),h.Y36(qv,8))},t.\u0275dir=h.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,s){1&r&&h.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ik]),h.qOj,h.TTD]}),e})();const ak={provide:Tf,useExisting:(0,h.Gpc)(()=>nM)};let nM=(()=>{var t;class e extends Tf{set isDisabled(r){}constructor(r,s,u,l,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.name=null,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(s),this._setAsyncValidators(u),this.valueAccessor=function Y1(t,e){if(!e)return null;let n,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===uT?n=u:function ZO(t){return Object.getPrototypeOf(t.constructor)===fm}(u)?r=u:s=u}),s||r||n||null}(0,l)}ngOnChanges(r){this._added||this._setUpControl(),function K1(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function yT(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(h.Y36(Us,13),h.Y36(ls,10),h.Y36(bf,10),h.Y36(Qc,10),h.Y36(X1,8))},t.\u0275dir=h.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([ak]),h.qOj,h.TTD]}),e})(),Ek=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[JN]}),e})();class pR extends gT{constructor(e,n,r){super(G1(n),q1(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let s=this._adjustIndex(e);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),n&&(this.controls.splice(s,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){BN(this,0,e),e.forEach((r,s)=>{UN(this,!1,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function gR(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Dk=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,s=null){const u=this._reduceControls(r);let l={};return gR(s)?l=s:null!==s&&(l.validators=s.validator,l.asyncValidators=s.asyncValidator),new zI(u,l)}record(r,s=null){const u=this._reduceControls(r);return new jN(u,s)}control(r,s,u){let l={};return this.useNonNullable?(gR(s)?l=s:(l.validators=s,l.asyncValidators=u),new ZI(r,{...l,nonNullable:!0})):new ZI(r,s,u)}array(r,s,u){const l=r.map(m=>this._createControl(m));return new pR(l,s,u)}_reduceControls(r){const s={};return Object.keys(r).forEach(u=>{s[u]=this._createControl(r[u])}),s}_createControl(r){return r instanceof ZI||r instanceof gT?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Ck=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:X1,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:qv,useValue:r.callSetDisabledState??mT}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[Ek]}),e})();function bk(t,e){1&t&&(h.TgZ(0,"div",9),h._UZ(1,"span",10),h._uU(2," Loading projects data from Firestore...\n"),h.qZA())}function Tk(t,e){if(1&t&&(h.TgZ(0,"span",17),h._uU(1),h.qZA()),2&t){const n=e.$implicit;h.xp6(1),h.Oqu(n)}}function Sk(t,e){if(1&t){const n=h.EpF();h.TgZ(0,"div",11)(1,"div",12),h.NdJ("click",function(){const u=h.CHM(n).index,l=h.oxw();return h.KtG(l.showModalByID(u))}),h.TgZ(2,"h1",13),h._uU(3),h.qZA(),h.TgZ(4,"h1",14),h._uU(5),h.qZA(),h.TgZ(6,"ul"),h._uU(7),h.qZA(),h._UZ(8,"br"),h.TgZ(9,"div",15),h.YNc(10,Tk,2,1,"span",16),h.qZA()()()}if(2&t){const n=e.$implicit;h.xp6(3),h.Oqu(n.title),h.xp6(2),h.Oqu(n.subtitle),h.xp6(2),h.hij(" ",n.desc," "),h.xp6(3),h.Q6J("ngForOf",n.skills)}}function Ak(t,e){if(1&t&&(h.TgZ(0,"a",33),h._uU(1," View Code"),h._UZ(2,"i",34),h.qZA()),2&t){const n=h.oxw().$implicit;h.s9C("href",n.projectUrl,h.LSH)}}function Mk(t,e){if(1&t&&(h.TgZ(0,"span",17),h._uU(1),h.qZA()),2&t){const n=e.$implicit;h.xp6(1),h.Oqu(n)}}function xk(t,e){if(1&t&&h._UZ(0,"img",35),2&t){const n=h.oxw().$implicit;h.s9C("src",n.imgUrl,h.LSH)}}function Nk(t,e){if(1&t){const n=h.EpF();h.TgZ(0,"dialog",18)(1,"div",19)(2,"form",20)(3,"button",21),h.NdJ("click",function(){const u=h.CHM(n).index,l=h.oxw();return h.KtG(l.hideModalByID(u))}),h._UZ(4,"i",22),h.qZA()(),h.TgZ(5,"h1",23),h._uU(6),h.YNc(7,Ak,3,1,"a",24),h.qZA(),h.TgZ(8,"h1",25),h._uU(9),h.qZA(),h.TgZ(10,"p",26),h._uU(11,"Skills gained/utilized:"),h.qZA(),h.TgZ(12,"div",27),h.YNc(13,Mk,2,1,"span",16),h.qZA(),h.TgZ(14,"div",28),h.YNc(15,xk,1,1,"img",29),h._UZ(16,"div",30),h.qZA(),h.TgZ(17,"div",31)(18,"button",32),h.NdJ("click",function(){const u=h.CHM(n).index,l=h.oxw();return h.KtG(l.hideModalByID(u))}),h._uU(19,"Close"),h.qZA()()()()}if(2&t){const n=e.$implicit;h.MGl("id","modal_",e.index,""),h.xp6(6),h.hij(" ",n.title," "),h.xp6(1),h.Q6J("ngIf",n.projectUrl),h.xp6(2),h.Oqu(n.subtitle),h.xp6(4),h.Q6J("ngForOf",n.skills),h.xp6(2),h.Q6J("ngIf",n.imgUrl),h.xp6(1),h.Q6J("innerHTML",n.modalDesc,h.oJD)}}let Rk=(()=>{var t;class e{constructor(r){this.dbs=r}ngOnInit(){this.dbs.getProjects()}showModalByID(r){document.getElementById(`modal_${r}`)?.classList.add("modal-open")}hideModalByID(r){document.getElementById(`modal_${r}`)?.classList.remove("modal-open")}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(dN))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-projects-page"]],decls:16,vars:3,consts:[[1,"text-5xl","font-bold","text-center","pt-20"],[1,"px-10","pt-10"],[1,"card","glass"],[1,"card-body","font-light"],[1,"text-center","italic"],["class","flex items-center justify-center p-20",4,"ngIf"],[1,"grid","grid-cols-3","px-10","py-5","gap-4","mb-16"],["class","card glass bg-base-100 shadow-xl",4,"ngFor","ngForOf"],["class","modal",3,"id",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","p-20"],[1,"loading","loading-spinner","text-accent","mr-5"],[1,"card","glass","bg-base-100","shadow-xl"],[1,"card-body",3,"click"],[1,"text-lg","font-bold"],[1,"text-sm","italic"],[1,"flex","flex-wrap","gap-2"],["class","badge badge-primary badge-md",4,"ngFor","ngForOf"],[1,"badge","badge-primary","badge-md"],[1,"modal",3,"id"],[1,"modal-box","w-11/12","max-w-5xl"],["method","dialog"],[1,"btn","btn-lg","btn-circle","btn-ghost","absolute","right-2","top-2",3,"click"],[1,"bi","bi-x-lg"],[1,"font-bold","text-lg","text-center"],["role","button","class","btn btn-xs mx-1","target","_blank",3,"href",4,"ngIf"],[1,"text-sm","italic","text-center"],[1,"text-sm","text-center","pt-2"],[1,"flex","flex-wrap","gap-2","justify-center","pt-1"],[1,"py-5","px-12","flex","flex-col","gap-5"],["class","w-full h-96 object-scale-down",3,"src",4,"ngIf"],[3,"innerHTML"],[1,"flex","flex-row","justify-center"],[1,"btn","btn-neutral","btn-outline",3,"click"],["role","button","target","_blank",1,"btn","btn-xs","mx-1",3,"href"],[1,"bi","bi-box-arrow-up-right"],[1,"w-full","h-96","object-scale-down",3,"src"]],template:function(r,s){1&r&&(h.TgZ(0,"h1",0),h._uU(1,"Projects I've Worked On"),h.qZA(),h.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"p"),h._uU(6,"With every project, I've come to gain an appreciation for writing clean, documentable code. I love spending time designing pleasing and intuitive UIs for my projects. I am familiar with backend web development concepts, integrating APIs, and have worked with reactive frontend JS frameworks."),h.qZA(),h.TgZ(7,"p"),h._uU(8,"Apart from web development, I gained experience building AI/ML projects and LLM application development by being a AI/DL TA @ Brown and working on AI projects through Headstarter AI's SWE Fellowship. I'm well versed with the entire ML project life cycle in TensorFlow and PyTorch - from data pre-processing to setting up models to training and evaluating models."),h.qZA(),h._UZ(9,"Br"),h.TgZ(10,"p",4),h._uU(11,"Click on the project cards below for any project images and more details!"),h.qZA()()()(),h.YNc(12,bk,3,0,"div",5),h.TgZ(13,"div",6),h.YNc(14,Sk,11,4,"div",7),h.YNc(15,Nk,20,7,"dialog",8),h.qZA()),2&r&&(h.xp6(12),h.Q6J("ngIf",0==s.dbs.projects.length),h.xp6(2),h.Q6J("ngForOf",s.dbs.projects),h.xp6(1),h.Q6J("ngForOf",s.dbs.projects))},dependencies:[Qo,$s,J1,$1]}),e})();const yR=(0,Tr.u3)(mx,!0);let Lk=(()=>{var t;class e{constructor(r){this.db=r,this.likeBtnClicked="true"==localStorage.getItem("likeBtnClicked")}toggleLikeBtnClick(){this.likeBtnClicked=!this.likeBtnClicked,this.likeBtnClicked?this.incrementLikes():this.decrementLikes(),localStorage.setItem("likeBtnClicked",this.likeBtnClicked?"true":"false")}getLiveLikes(){return this.db.doc("portfolio-stats/like-count").valueChanges()}incrementLikes(){var r=this;return(0,ge.Z)(function*(){r.db.doc("portfolio-stats/like-count").update({likes:yR(1)})})()}decrementLikes(){var r=this;return(0,ge.Z)(function*(){r.db.doc("portfolio-stats/like-count").update({likes:yR(-1)})})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(V1))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Vk(t,e){1&t&&(h.TgZ(0,"div",26),h.O4$(),h.TgZ(1,"svg",27),h._UZ(2,"path",28),h.qZA(),h.kcU(),h.TgZ(3,"span"),h._uU(4,"Message sent successfully!"),h.qZA()())}function Uk(t,e){1&t&&(h.TgZ(0,"div",29),h.O4$(),h.TgZ(1,"svg",27),h._UZ(2,"path",30),h.qZA(),h.kcU(),h.TgZ(3,"span"),h._uU(4,"Sorry, something went wrong. Please try again!"),h.qZA()())}function Bk(t,e){1&t&&(h.TgZ(0,"label",8)(1,"span",31),h._uU(2,"Keep writing..."),h.qZA()())}function jk(t,e){1&t&&(h.TgZ(0,"label",8)(1,"span",31),h._uU(2,"I'd like to know your name! \u{1f979}"),h.qZA()())}function $k(t,e){1&t&&(h.TgZ(0,"label",8)(1,"span",31),h._uU(2,"Enter a valid email! \u{1f920}"),h.qZA()())}function Hk(t,e){if(1&t&&(h.TgZ(0,"button",32),h._uU(1,"Send \u{1f57a}\u2728"),h.qZA()),2&t){const n=h.oxw();h.Q6J("disabled",n.form.invalid||n.loading)}}function zk(t,e){1&t&&h._UZ(0,"span",33)}function Gk(t,e){1&t&&(h.TgZ(0,"div")(1,"div",34),h._uU(2,"\u{1f63a}"),h.qZA(),h.TgZ(3,"div",35),h._uU(4,"\u{1f63f}"),h.qZA()())}function qk(t,e){1&t&&(h.TgZ(0,"div")(1,"div",34),h._uU(2,"\u{1f63f}"),h.qZA(),h.TgZ(3,"div",35),h._uU(4,"\u{1f63a}"),h.qZA()())}function Zk(t,e){if(1&t&&(h.TgZ(0,"p",20),h._uU(1),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.hij(" ",n.currLikes," cats made happy so far ")}}const Wk=[{path:"",component:CE},{path:"portfolio",component:CE},{path:"education",component:TM},{path:"experience",component:AO},{path:"projects",component:Rk},{path:"contact",component:(()=>{var t;class e{constructor(r,s){this.fb=r,this.likesService=s,this.loading=!1,this.formSubmitResponseOK=null,this.likeBtnClicked=!1}ngOnInit(){this.form=this.fb.group({name:["",[cT.required]],email:["",[cT.email]],desc:["",[cT.required,cT.minLength(6)]]}),this.likesSub=this.likesService.getLiveLikes().subscribe(r=>{this.currLikes=r.likes})}ngOnDestroy(){this.likesSub.unsubscribe()}get name(){return this.form.get("name")}get email(){return this.form.get("email")}get desc(){return this.form.get("desc")}onSubmit(){var r=this;return(0,ge.Z)(function*(){r.loading=!0;const s=r.name?.value,u=r.email?.value,l=r.desc?.value;fetch("https://formspree.io/f/myyqjlkq",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:s,email:u,description:l})}).then(m=>m.json()).then(m=>{console.log(m),m.ok?(r.formSubmitResponseOK=!0,r.form.reset()):r.formSubmitResponseOK=!1}),setTimeout(()=>{r.formSubmitResponseOK=null},4e3),r.loading=!1})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Dk),h.Y36(Lk))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-contact-page"]],decls:43,vars:11,consts:[[1,"toast","toast-top","toast-center"],["class","alert alert-success",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"text-5xl","font-bold","text-center","pt-20"],[1,"flex","flex-col","w-full","lg:flex-row","p-16","gap-3","mb-16"],[1,"grid","flex-grow","h-auto","card","rounded-box","place-items-center"],[1,"form-control","w-full","max-w-3xl",3,"formGroup","ngSubmit"],[1,"grid","grid-cols-2","gap-3"],[1,"label"],[1,"label-text"],["name","desc","formControlName","desc","placeholder","Add in your email and I'll reply! (I promise)",1,"textarea","textarea-bordered","textarea-info","h-52","w-full"],["class","label",4,"ngIf"],["name","name","formControlName","name","type","text","placeholder","Rick Astley",1,"input","input-bordered","input-info","w-full","max-w-xs"],[1,"mt-3"],["name","email","formControlName","email","type","email","placeholder","never-gonna@give-you-up.edu",1,"input","input-bordered","w-full","max-w-xs"],[1,"flex","justify-center","py-5"],["class","btn btn-active btn-accent","type","submit",3,"disabled",4,"ngIf"],["class","loading loading-infinity loading-lg",4,"ngIf"],[1,"divider","lg:divider-horizontal"],[1,"card","place-content-center","p-10","gap-3"],[1,"text-center"],[1,"swap","swap-flip","text-5xl","text-red-700"],["likeBtn",""],["type","checkbox",3,"click"],[4,"ngIf"],["class","text-center",4,"ngIf"],[1,"alert","alert-success"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","shrink-0","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"alert","alert-warning"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"label-text-alt","text-red-400"],["type","submit",1,"btn","btn-active","btn-accent",3,"disabled"],[1,"loading","loading-infinity","loading-lg"],[1,"swap-on"],[1,"swap-off"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h.YNc(1,Vk,5,0,"div",1),h.YNc(2,Uk,5,0,"div",2),h.qZA(),h.TgZ(3,"h1",3),h._uU(4,"Say Hi!"),h.qZA(),h.TgZ(5,"div",4)(6,"div",5)(7,"form",6),h.NdJ("ngSubmit",function(){return s.onSubmit()}),h.TgZ(8,"div",7)(9,"div")(10,"div")(11,"label",8)(12,"span",9),h._uU(13,"Ask me anything!"),h.qZA()(),h._UZ(14,"textarea",10),h.YNc(15,Bk,3,0,"label",11),h.qZA()(),h.TgZ(16,"div")(17,"div")(18,"label",8)(19,"span",9),h._uU(20,"What is your name?"),h.qZA()(),h._UZ(21,"input",12),h.YNc(22,jk,3,0,"label",11),h.qZA(),h.TgZ(23,"div",13)(24,"label",8)(25,"span",9),h._uU(26,"What is your email?"),h.qZA()(),h._UZ(27,"input",14),h.YNc(28,$k,3,0,"label",11),h.qZA(),h.TgZ(29,"div",15),h.YNc(30,Hk,2,1,"button",16),h.YNc(31,zk,1,0,"span",17),h.qZA()()()()(),h.TgZ(32,"div",18),h._uU(33,"OR"),h.qZA(),h.TgZ(34,"div",19)(35,"p",20),h._uU(36,"Let me know you were here by making this cat happy"),h.qZA(),h.TgZ(37,"label",21,22)(39,"input",23),h.NdJ("click",function(){return s.likesService.toggleLikeBtnClick()}),h.qZA(),h.YNc(40,Gk,5,0,"div",24),h.YNc(41,qk,5,0,"div",24),h.qZA(),h.YNc(42,Zk,2,1,"p",25),h.qZA()()),2&r&&(h.xp6(1),h.Q6J("ngIf",1==s.formSubmitResponseOK),h.xp6(1),h.Q6J("ngIf",0==s.formSubmitResponseOK),h.xp6(5),h.Q6J("formGroup",s.form),h.xp6(8),h.Q6J("ngIf",s.desc.invalid&&s.desc.dirty),h.xp6(7),h.Q6J("ngIf",s.name.invalid&&s.name.dirty),h.xp6(6),h.Q6J("ngIf",s.email.invalid&&s.email.dirty),h.xp6(2),h.Q6J("ngIf",!s.loading),h.xp6(1),h.Q6J("ngIf",s.loading),h.xp6(9),h.Q6J("ngIf",!s.likesService.likeBtnClicked),h.xp6(1),h.Q6J("ngIf",s.likesService.likeBtnClicked),h.xp6(1),h.Q6J("ngIf",s.currLikes))},dependencies:[$s,J1,uT,LN,$1,IT,nM]}),e})()},{path:"misc",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-misc-page"]],decls:8,vars:0,consts:[[1,"text-5xl","font-bold","text-center","pt-20"],[1,"flex","flex-col","w-full","lg:flex-row","p-10"],[1,"grid","flex-grow","h-32","card","bg-base-300","rounded-box","place-items-center"],[1,"divider","lg:divider-horizontal"]],template:function(r,s){1&r&&(h.TgZ(0,"h1",0),h._uU(1,"Misc"),h.qZA(),h.TgZ(2,"div",1)(3,"div",2),h._uU(4,"maybe a random quote generator"),h.qZA(),h._UZ(5,"div",3),h.TgZ(6,"div",2),h._uU(7,"a counter to like, some game"),h.qZA()())}}),e})()},{path:"**",redirectTo:""}];let Kk=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[Sh.forChild(Wk),Sh]}),e})(),Yk=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[ln,Kk,Ck]}),e})();const Qk_firebase={apiKey:"AIzaSyDUg9wt8LZfl11-g7Kg-QxkT83wugJJCEM",authDomain:"im-mohammedk.firebaseapp.com",projectId:"im-mohammedk",storageBucket:"im-mohammedk.appspot.com",messagingSenderId:"555054352739",appId:"1:555054352739:web:e875c087651f6128a9ab56",measurementId:"G-W0CP68NP7G"};let Jk=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t,bootstrap:[qT]}),t.\u0275inj=h.cJS({imports:[_l,A_,ZT,Yk,Fi.hO.initializeApp(Qk_firebase),DO]}),e})();bn().bootstrapModule(Jk).catch(t=>console.error(t))},5619:(ot,De,P)=>{P.d(De,{X:()=>Q});var h=P(8645);class Q extends h.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const ne=super._subscribe(J);return!ne.closed&&J.next(this._value),ne}getValue(){const{hasError:J,thrownError:ne,_value:he}=this;if(J)throw ne;return this._throwIfClosed(),he}next(J){super.next(this._value=J)}}},5592:(ot,De,P)=>{P.d(De,{y:()=>Re});var h=P(305),Q=P(7394),k=P(4850),J=P(8407),ne=P(2653),he=P(4674),pe=P(1441);let Re=(()=>{class Y{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Ze=new Y;return Ze.source=this,Ze.operator=Se,Ze}subscribe(Se,Ze,xe){const ze=function j(Y){return Y&&Y instanceof h.Lv||function L(Y){return Y&&(0,he.m)(Y.next)&&(0,he.m)(Y.error)&&(0,he.m)(Y.complete)}(Y)&&(0,Q.Nn)(Y)}(Se)?Se:new h.Hp(Se,Ze,xe);return(0,pe.x)(()=>{const{operator:Oe,source:ht}=this;ze.add(Oe?Oe.call(ze,ht):ht?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Ze){Se.error(Ze)}}forEach(Se,Ze){return new(Ze=de(Ze))((xe,ze)=>{const Oe=new h.Hp({next:ht=>{try{Se(ht)}catch(at){ze(at),Oe.unsubscribe()}},error:ze,complete:xe});this.subscribe(Oe)})}_subscribe(Se){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Se)}[k.L](){return this}pipe(...Se){return(0,J.U)(Se)(this)}toPromise(Se){return new(Se=de(Se))((Ze,xe)=>{let ze;this.subscribe(Oe=>ze=Oe,Oe=>xe(Oe),()=>Ze(ze))})}}return Y.create=Le=>new Y(Le),Y})();function de(Y){var Le;return null!==(Le=Y??ne.config.Promise)&&void 0!==Le?Le:Promise}},8645:(ot,De,P)=>{P.d(De,{x:()=>pe});var h=P(5592),Q=P(7394);const J=(0,P(2306).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(9039),he=P(1441);let pe=(()=>{class de extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Y=new Re(this,this);return Y.operator=j,Y}_throwIfClosed(){if(this.closed)throw new J}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Y}=this;for(;Y.length;)Y.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Y,isStopped:Le,observers:Se}=this;return Y||Le?Q.Lc:(this.currentObservers=null,Se.push(j),new Q.w0(()=>{this.currentObservers=null,(0,ne.P)(Se,j)}))}_checkFinalizedStatuses(j){const{hasError:Y,thrownError:Le,isStopped:Se}=this;Y?j.error(Le):Se&&j.complete()}asObservable(){const j=new h.y;return j.source=this,j}}return de.create=(L,j)=>new Re(L,j),de})();class Re extends pe{constructor(L,j){super(),this.destination=L,this.source=j}next(L){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Y||Y.call(j,L)}error(L){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Y||Y.call(j,L)}complete(){var L,j;null===(j=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===j||j.call(L)}_subscribe(L){var j,Y;return null!==(Y=null===(j=this.source)||void 0===j?void 0:j.subscribe(L))&&void 0!==Y?Y:Q.Lc}}},305:(ot,De,P)=>{P.d(De,{Hp:()=>xe,Lv:()=>Y});var h=P(4674),Q=P(7394),k=P(2653),J=P(3894),ne=P(2420);const he=de("C",void 0,void 0);function de(te,ve,X){return{kind:te,value:ve,error:X}}var L=P(7599),j=P(1441);class Y extends Q.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Q.Nn)(ve)&&ve.add(this)):this.destination=at}static create(ve,X,Ce){return new xe(ve,X,Ce)}next(ve){this.isStopped?ht(function Re(te){return de("N",te,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?ht(function pe(te){return de("E",void 0,te)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?ht(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Se(te,ve){return Le.call(te,ve)}class Ze{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:X}=this;if(X.next)try{X.next(ve)}catch(Ce){ze(Ce)}}error(ve){const{partialObserver:X}=this;if(X.error)try{X.error(ve)}catch(Ce){ze(Ce)}else ze(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(X){ze(X)}}}class xe extends Y{constructor(ve,X,Ce){let Pe;if(super(),(0,h.m)(ve)||!ve)Pe={next:ve??void 0,error:X??void 0,complete:Ce??void 0};else{let Ge;this&&k.config.useDeprecatedNextContext?(Ge=Object.create(ve),Ge.unsubscribe=()=>this.unsubscribe(),Pe={next:ve.next&&Se(ve.next,Ge),error:ve.error&&Se(ve.error,Ge),complete:ve.complete&&Se(ve.complete,Ge)}):Pe=ve}this.destination=new Ze(Pe)}}function ze(te){k.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(te):(0,J.h)(te)}function ht(te,ve){const{onStoppedNotification:X}=k.config;X&&L.z.setTimeout(()=>X(te,ve))}const at={closed:!0,next:ne.Z,error:function Oe(te){throw te},complete:ne.Z}},7394:(ot,De,P)=>{P.d(De,{Lc:()=>he,w0:()=>ne,Nn:()=>pe});var h=P(4674);const k=(0,P(2306).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Y,Le)=>`${Le+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var J=P(9039);class ne{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Se of j)Se.remove(this);else j.remove(this);const{initialTeardown:Y}=this;if((0,h.m)(Y))try{Y()}catch(Se){L=Se instanceof k?Se.errors:[Se]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Se of Le)try{Re(Se)}catch(Ze){L=L??[],Ze instanceof k?L=[...L,...Ze.errors]:L.push(Ze)}}if(L)throw new k(L)}}add(L){var j;if(L&&L!==this)if(this.closed)Re(L);else{if(L instanceof ne){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(L)}}_hasParent(L){const{_parentage:j}=this;return j===L||Array.isArray(j)&&j.includes(L)}_addParent(L){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(L),j):j?[j,L]:L}_removeParent(L){const{_parentage:j}=this;j===L?this._parentage=null:Array.isArray(j)&&(0,J.P)(j,L)}remove(L){const{_finalizers:j}=this;j&&(0,J.P)(j,L),L instanceof ne&&L._removeParent(this)}}ne.EMPTY=(()=>{const de=new ne;return de.closed=!0,de})();const he=ne.EMPTY;function pe(de){return de instanceof ne||de&&"closed"in de&&(0,h.m)(de.remove)&&(0,h.m)(de.add)&&(0,h.m)(de.unsubscribe)}function Re(de){(0,h.m)(de)?de():de.unsubscribe()}},2653:(ot,De,P)=>{P.d(De,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ot,De,P)=>{P.d(De,{E:()=>Q});const Q=new(P(5592).y)(ne=>ne.complete())},2459:(ot,De,P)=>{P.d(De,{D:()=>ve});var h=P(4829),Q=P(3093),k=P(5137),he=P(5592),Re=P(4971),de=P(4674),L=P(7103);function Y(X,Ce){if(!X)throw new Error("Iterable cannot be null");return new he.y(Pe=>{(0,L.f)(Pe,Ce,()=>{const Ge=X[Symbol.asyncIterator]();(0,L.f)(Pe,Ce,()=>{Ge.next().then(se=>{se.done?Pe.complete():Pe.next(se.value)})},0,!0)})})}var Le=P(8382),Se=P(4026),Ze=P(4266),xe=P(3664),ze=P(5726),Oe=P(9853),ht=P(541);function ve(X,Ce){return Ce?function te(X,Ce){if(null!=X){if((0,Le.c)(X))return function J(X,Ce){return(0,h.Xf)(X).pipe((0,k.R)(Ce),(0,Q.Q)(Ce))}(X,Ce);if((0,Ze.z)(X))return function pe(X,Ce){return new he.y(Pe=>{let Ge=0;return Ce.schedule(function(){Ge===X.length?Pe.complete():(Pe.next(X[Ge++]),Pe.closed||this.schedule())})})}(X,Ce);if((0,Se.t)(X))return function ne(X,Ce){return(0,h.Xf)(X).pipe((0,k.R)(Ce),(0,Q.Q)(Ce))}(X,Ce);if((0,ze.D)(X))return Y(X,Ce);if((0,xe.T)(X))return function j(X,Ce){return new he.y(Pe=>{let Ge;return(0,L.f)(Pe,Ce,()=>{Ge=X[Re.h](),(0,L.f)(Pe,Ce,()=>{let se,yt;try{({value:se,done:yt}=Ge.next())}catch(Ut){return void Pe.error(Ut)}yt?Pe.complete():Pe.next(se)},0,!0)}),()=>(0,de.m)(Ge?.return)&&Ge.return()})}(X,Ce);if((0,ht.L)(X))return function at(X,Ce){return Y((0,ht.Q)(X),Ce)}(X,Ce)}throw(0,Oe.z)(X)}(X,Ce):(0,h.Xf)(X)}},4829:(ot,De,P)=>{P.d(De,{Xf:()=>Le});var h=P(7582),Q=P(4266),k=P(4026),J=P(5592),ne=P(8382),he=P(5726),pe=P(9853),Re=P(3664),de=P(541),L=P(4674),j=P(3894),Y=P(4850);function Le(te){if(te instanceof J.y)return te;if(null!=te){if((0,ne.c)(te))return function Se(te){return new J.y(ve=>{const X=te[Y.L]();if((0,L.m)(X.subscribe))return X.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,Q.z)(te))return function Ze(te){return new J.y(ve=>{for(let X=0;X<te.length&&!ve.closed;X++)ve.next(te[X]);ve.complete()})}(te);if((0,k.t)(te))return function xe(te){return new J.y(ve=>{te.then(X=>{ve.closed||(ve.next(X),ve.complete())},X=>ve.error(X)).then(null,j.h)})}(te);if((0,he.D)(te))return Oe(te);if((0,Re.T)(te))return function ze(te){return new J.y(ve=>{for(const X of te)if(ve.next(X),ve.closed)return;ve.complete()})}(te);if((0,de.L)(te))return function ht(te){return Oe((0,de.Q)(te))}(te)}throw(0,pe.z)(te)}function Oe(te){return new J.y(ve=>{(function at(te,ve){var X,Ce,Pe,Ge;return(0,h.mG)(this,void 0,void 0,function*(){try{for(X=(0,h.KL)(te);!(Ce=yield X.next()).done;)if(ve.next(Ce.value),ve.closed)return}catch(se){Pe={error:se}}finally{try{Ce&&!Ce.done&&(Ge=X.return)&&(yield Ge.call(X))}finally{if(Pe)throw Pe.error}}ve.complete()})})(te,ve).catch(X=>ve.error(X))})}},3019:(ot,De,P)=>{P.d(De,{T:()=>he});var h=P(7537),Q=P(4829),k=P(6232),J=P(4564),ne=P(2459);function he(...pe){const Re=(0,J.yG)(pe),de=(0,J._6)(pe,1/0),L=pe;return L.length?1===L.length?(0,Q.Xf)(L[0]):(0,h.J)(de)((0,ne.D)(L,Re)):k.E}},2096:(ot,De,P)=>{P.d(De,{of:()=>k});var h=P(4564),Q=P(2459);function k(...J){const ne=(0,h.yG)(J);return(0,Q.D)(J,ne)}},8251:(ot,De,P)=>{P.d(De,{x:()=>Q});var h=P(305);function Q(J,ne,he,pe,Re){return new k(J,ne,he,pe,Re)}class k extends h.Lv{constructor(ne,he,pe,Re,de,L){super(ne),this.onFinalize=de,this.shouldUnsubscribe=L,this._next=he?function(j){try{he(j)}catch(Y){ne.error(Y)}}:super._next,this._error=Re?function(j){try{Re(j)}catch(Y){ne.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(j){ne.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},3997:(ot,De,P)=>{P.d(De,{x:()=>J});var h=P(2737),Q=P(9360),k=P(8251);function J(he,pe=h.y){return he=he??ne,(0,Q.e)((Re,de)=>{let L,j=!0;Re.subscribe((0,k.x)(de,Y=>{const Le=pe(Y);(j||!he(L,Le))&&(j=!1,L=Le,de.next(Y))}))})}function ne(he,pe){return he===pe}},7398:(ot,De,P)=>{P.d(De,{U:()=>k});var h=P(9360),Q=P(8251);function k(J,ne){return(0,h.e)((he,pe)=>{let Re=0;he.subscribe((0,Q.x)(pe,de=>{pe.next(J.call(ne,de,Re++))}))})}},7537:(ot,De,P)=>{P.d(De,{J:()=>k});var h=P(1631),Q=P(2737);function k(J=1/0){return(0,h.z)(Q.y,J)}},1631:(ot,De,P)=>{P.d(De,{z:()=>Re});var h=P(7398),Q=P(4829),k=P(9360),J=P(7103),ne=P(8251),pe=P(4674);function Re(de,L,j=1/0){return(0,pe.m)(L)?Re((Y,Le)=>(0,h.U)((Se,Ze)=>L(Y,Se,Le,Ze))((0,Q.Xf)(de(Y,Le))),j):("number"==typeof L&&(j=L),(0,k.e)((Y,Le)=>function he(de,L,j,Y,Le,Se,Ze,xe){const ze=[];let Oe=0,ht=0,at=!1;const te=()=>{at&&!ze.length&&!Oe&&L.complete()},ve=Ce=>Oe<Y?X(Ce):ze.push(Ce),X=Ce=>{Se&&L.next(Ce),Oe++;let Pe=!1;(0,Q.Xf)(j(Ce,ht++)).subscribe((0,ne.x)(L,Ge=>{Le?.(Ge),Se?ve(Ge):L.next(Ge)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Oe--;ze.length&&Oe<Y;){const Ge=ze.shift();Ze?(0,J.f)(L,Ze,()=>X(Ge)):X(Ge)}te()}catch(Ge){L.error(Ge)}}))};return de.subscribe((0,ne.x)(L,ve,()=>{at=!0,te()})),()=>{xe?.()}}(Y,Le,de,j)))}},3093:(ot,De,P)=>{P.d(De,{Q:()=>J});var h=P(7103),Q=P(9360),k=P(8251);function J(ne,he=0){return(0,Q.e)((pe,Re)=>{pe.subscribe((0,k.x)(Re,de=>(0,h.f)(Re,ne,()=>Re.next(de),he),()=>(0,h.f)(Re,ne,()=>Re.complete(),he),de=>(0,h.f)(Re,ne,()=>Re.error(de),he)))})}},3020:(ot,De,P)=>{P.d(De,{B:()=>ne});var h=P(4829),Q=P(8645),k=P(305),J=P(9360);function ne(pe={}){const{connector:Re=(()=>new Q.x),resetOnError:de=!0,resetOnComplete:L=!0,resetOnRefCountZero:j=!0}=pe;return Y=>{let Le,Se,Ze,xe=0,ze=!1,Oe=!1;const ht=()=>{Se?.unsubscribe(),Se=void 0},at=()=>{ht(),Le=Ze=void 0,ze=Oe=!1},te=()=>{const ve=Le;at(),ve?.unsubscribe()};return(0,J.e)((ve,X)=>{xe++,!Oe&&!ze&&ht();const Ce=Ze=Ze??Re();X.add(()=>{xe--,0===xe&&!Oe&&!ze&&(Se=he(te,j))}),Ce.subscribe(X),!Le&&xe>0&&(Le=new k.Hp({next:Pe=>Ce.next(Pe),error:Pe=>{Oe=!0,ht(),Se=he(at,de,Pe),Ce.error(Pe)},complete:()=>{ze=!0,ht(),Se=he(at,L),Ce.complete()}}),(0,h.Xf)(ve).subscribe(Le))})(Y)}}function he(pe,Re,...de){if(!0===Re)return void pe();if(!1===Re)return;const L=new k.Hp({next:()=>{L.unsubscribe(),pe()}});return(0,h.Xf)(Re(...de)).subscribe(L)}},5137:(ot,De,P)=>{P.d(De,{R:()=>Q});var h=P(9360);function Q(k,J=0){return(0,h.e)((ne,he)=>{he.add(k.schedule(()=>ne.subscribe(he),J))})}},4664:(ot,De,P)=>{P.d(De,{w:()=>J});var h=P(4829),Q=P(9360),k=P(8251);function J(ne,he){return(0,Q.e)((pe,Re)=>{let de=null,L=0,j=!1;const Y=()=>j&&!de&&Re.complete();pe.subscribe((0,k.x)(Re,Le=>{de?.unsubscribe();let Se=0;const Ze=L++;(0,h.Xf)(ne(Le,Ze)).subscribe(de=(0,k.x)(Re,xe=>Re.next(he?he(Le,xe,Ze,Se++):xe),()=>{de=null,Y()}))},()=>{j=!0,Y()}))})}},9397:(ot,De,P)=>{P.d(De,{b:()=>ne});var h=P(4674),Q=P(9360),k=P(8251),J=P(2737);function ne(he,pe,Re){const de=(0,h.m)(he)||pe||Re?{next:he,error:pe,complete:Re}:he;return de?(0,Q.e)((L,j)=>{var Y;null===(Y=de.subscribe)||void 0===Y||Y.call(de);let Le=!0;L.subscribe((0,k.x)(j,Se=>{var Ze;null===(Ze=de.next)||void 0===Ze||Ze.call(de,Se),j.next(Se)},()=>{var Se;Le=!1,null===(Se=de.complete)||void 0===Se||Se.call(de),j.complete()},Se=>{var Ze;Le=!1,null===(Ze=de.error)||void 0===Ze||Ze.call(de,Se),j.error(Se)},()=>{var Se,Ze;Le&&(null===(Se=de.unsubscribe)||void 0===Se||Se.call(de)),null===(Ze=de.finalize)||void 0===Ze||Ze.call(de)}))}):J.y}},1954:(ot,De,P)=>{P.d(De,{o:()=>ne});var h=P(7394);class Q extends h.w0{constructor(pe,Re){super()}schedule(pe,Re=0){return this}}const k={setInterval(he,pe,...Re){const{delegate:de}=k;return de?.setInterval?de.setInterval(he,pe,...Re):setInterval(he,pe,...Re)},clearInterval(he){const{delegate:pe}=k;return(pe?.clearInterval||clearInterval)(he)},delegate:void 0};var J=P(9039);class ne extends Q{constructor(pe,Re){super(pe,Re),this.scheduler=pe,this.work=Re,this.pending=!1}schedule(pe,Re=0){var de;if(this.closed)return this;this.state=pe;const L=this.id,j=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(j,L,Re)),this.pending=!0,this.delay=Re,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,Re),this}requestAsyncId(pe,Re,de=0){return k.setInterval(pe.flush.bind(pe,this),de)}recycleAsyncId(pe,Re,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return Re;null!=Re&&k.clearInterval(Re)}execute(pe,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(pe,Re);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,Re){let L,de=!1;try{this.work(pe)}catch(j){de=!0,L=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:pe,scheduler:Re}=this,{actions:de}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(de,this),null!=pe&&(this.id=this.recycleAsyncId(Re,pe,null)),this.delay=null,super.unsubscribe()}}}},2631:(ot,De,P)=>{P.d(De,{v:()=>k});var h=P(4552);class Q{constructor(ne,he=Q.now){this.schedulerActionCtor=ne,this.now=he}schedule(ne,he=0,pe){return new this.schedulerActionCtor(this,ne).schedule(pe,he)}}Q.now=h.l.now;class k extends Q{constructor(ne,he=Q.now){super(ne,he),this.actions=[],this._active=!1}flush(ne){const{actions:he}=this;if(this._active)return void he.push(ne);let pe;this._active=!0;do{if(pe=ne.execute(ne.state,ne.delay))break}while(ne=he.shift());if(this._active=!1,pe){for(;ne=he.shift();)ne.unsubscribe();throw pe}}}},6321:(ot,De,P)=>{P.d(De,{z:()=>k});var h=P(1954);const k=new(P(2631).v)(h.o)},4552:(ot,De,P)=>{P.d(De,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(ot,De,P)=>{P.d(De,{z:()=>h});const h={setTimeout(Q,k,...J){const{delegate:ne}=h;return ne?.setTimeout?ne.setTimeout(Q,k,...J):setTimeout(Q,k,...J)},clearTimeout(Q){const{delegate:k}=h;return(k?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},4971:(ot,De,P)=>{P.d(De,{h:()=>Q});const Q=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ot,De,P)=>{P.d(De,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ot,De,P)=>{P.d(De,{_6:()=>he,jO:()=>J,yG:()=>ne});var h=P(4674);function k(pe){return pe[pe.length-1]}function J(pe){return(0,h.m)(k(pe))?pe.pop():void 0}function ne(pe){return function Q(pe){return pe&&(0,h.m)(pe.schedule)}(k(pe))?pe.pop():void 0}function he(pe,Re){return"number"==typeof k(pe)?pe.pop():Re}},9039:(ot,De,P)=>{function h(Q,k){if(Q){const J=Q.indexOf(k);0<=J&&Q.splice(J,1)}}P.d(De,{P:()=>h})},2306:(ot,De,P)=>{function h(Q){const J=Q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}P.d(De,{d:()=>h})},1441:(ot,De,P)=>{P.d(De,{O:()=>J,x:()=>k});var h=P(2653);let Q=null;function k(ne){if(h.config.useDeprecatedSynchronousErrorHandling){const he=!Q;if(he&&(Q={errorThrown:!1,error:null}),ne(),he){const{errorThrown:pe,error:Re}=Q;if(Q=null,pe)throw Re}}else ne()}function J(ne){h.config.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ne)}},7103:(ot,De,P)=>{function h(Q,k,J,ne=0,he=!1){const pe=k.schedule(function(){J(),he?Q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Q.add(pe),!he)return pe}P.d(De,{f:()=>h})},2737:(ot,De,P)=>{function h(Q){return Q}P.d(De,{y:()=>h})},4266:(ot,De,P)=>{P.d(De,{z:()=>h});const h=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},5726:(ot,De,P)=>{P.d(De,{D:()=>Q});var h=P(4674);function Q(k){return Symbol.asyncIterator&&(0,h.m)(k?.[Symbol.asyncIterator])}},4674:(ot,De,P)=>{function h(Q){return"function"==typeof Q}P.d(De,{m:()=>h})},8382:(ot,De,P)=>{P.d(De,{c:()=>k});var h=P(4850),Q=P(4674);function k(J){return(0,Q.m)(J[h.L])}},3664:(ot,De,P)=>{P.d(De,{T:()=>k});var h=P(4971),Q=P(4674);function k(J){return(0,Q.m)(J?.[h.h])}},4026:(ot,De,P)=>{P.d(De,{t:()=>Q});var h=P(4674);function Q(k){return(0,h.m)(k?.then)}},541:(ot,De,P)=>{P.d(De,{L:()=>J,Q:()=>k});var h=P(7582),Q=P(4674);function k(ne){return(0,h.FC)(this,arguments,function*(){const pe=ne.getReader();try{for(;;){const{value:Re,done:de}=yield(0,h.qq)(pe.read());if(de)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Re)}}finally{pe.releaseLock()}})}function J(ne){return(0,Q.m)(ne?.getReader)}},9360:(ot,De,P)=>{P.d(De,{A:()=>Q,e:()=>k});var h=P(4674);function Q(J){return(0,h.m)(J?.lift)}function k(J){return ne=>{if(Q(ne))return ne.lift(function(he){try{return J(he,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(ot,De,P)=>{function h(){}P.d(De,{Z:()=>h})},8407:(ot,De,P)=>{P.d(De,{U:()=>k,z:()=>Q});var h=P(2737);function Q(...J){return k(J)}function k(J){return 0===J.length?h.y:1===J.length?J[0]:function(he){return J.reduce((pe,Re)=>Re(pe),he)}}},3894:(ot,De,P)=>{P.d(De,{h:()=>k});var h=P(2653),Q=P(7599);function k(J){Q.z.setTimeout(()=>{const{onUnhandledError:ne}=h.config;if(!ne)throw J;ne(J)})}},9853:(ot,De,P)=>{function h(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>h})},5879:(ot,De,P)=>{P.d(De,{$8M:()=>ya,$WT:()=>Hs,$Z:()=>J_,AFp:()=>EE,AaK:()=>Y,CHM:()=>ec,CRH:()=>$C,EJc:()=>Gc,EpF:()=>ig,F$t:()=>us,F4k:()=>DD,FYo:()=>xE,FiY:()=>Rl,GfV:()=>uy,Gpc:()=>Ze,HDt:()=>rb,Hsn:()=>Kh,JOm:()=>ep,Jf7:()=>VE,KtG:()=>nh,LFG:()=>wt,LSH:()=>yE,Lbi:()=>A_,Lck:()=>eA,MAs:()=>We,MGl:()=>sg,MMx:()=>hC,NdJ:()=>dd,O4$:()=>rc,Ojb:()=>ZT,OlP:()=>hn,Oqu:()=>vd,P3R:()=>__,PXZ:()=>hb,Q6J:()=>Zh,QGY:()=>Fs,Qsj:()=>NE,R0b:()=>Sr,RDi:()=>h_,Rgc:()=>Su,SBq:()=>ed,Sil:()=>bA,Suo:()=>jC,TTD:()=>aa,TgZ:()=>Fy,VuI:()=>Vv,X6Q:()=>cI,XFs:()=>lt,Xpm:()=>Ou,Xq5:()=>Yp,Xts:()=>Jm,Y36:()=>nd,YKP:()=>iv,YNc:()=>Ln,Yjl:()=>rl,Yz7:()=>Nt,Z0I:()=>nn,ZZ4:()=>vI,_Bn:()=>dC,_UZ:()=>D0,_c5:()=>II,_uU:()=>Jh,aQg:()=>_f,c2e:()=>Gw,cJS:()=>En,cg1:()=>Zy,dDg:()=>sI,dqk:()=>Qt,eFA:()=>mb,eJc:()=>jg,ekj:()=>$y,eoX:()=>Dv,f3M:()=>Mt,g9A:()=>DE,h0i:()=>Zo,hGG:()=>EI,hij:()=>dg,iGM:()=>dv,ifc:()=>Me,ip1:()=>gf,jDz:()=>fC,kL8:()=>gg,kcU:()=>Sl,lG2:()=>Xo,lqb:()=>Da,lri:()=>ab,n5z:()=>tu,oAB:()=>Va,oJD:()=>gE,oxw:()=>CD,q4F:()=>cy,qFp:()=>jb,qLn:()=>td,qOj:()=>xy,qZA:()=>ld,rWj:()=>ub,rg0:()=>Ku,s9C:()=>hd,sBO:()=>dI,s_b:()=>Au,soG:()=>mf,tb:()=>Jg,tp0:()=>fh,uIk:()=>Jp,vHH:()=>te,vpe:()=>jo,wAp:()=>Ar,xp6:()=>Q_,z2F:()=>Kc,zSh:()=>Sh,zs3:()=>is});var h=P(8645),Q=P(7394),k=P(5592),J=P(3019),ne=P(5619),he=P(2096),pe=P(3020),Re=P(4664),de=P(3997);function L(i){for(let o in i)if(i[o]===L)return o;throw Error("Could not find renamed property on target object.")}function j(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function Y(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Y).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Le(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Se=L({__forward_ref__:L});function Ze(i){return i.__forward_ref__=Ze,i.toString=function(){return Y(this())},i}function xe(i){return ze(i)?i():i}function ze(i){return"function"==typeof i&&i.hasOwnProperty(Se)&&i.__forward_ref__===Ze}function Oe(i){return i&&!!i.\u0275providers}const at="https://g.co/ng/security#xss";class te extends Error{constructor(o,a){super(function ve(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function X(i){return"string"==typeof i?i:null==i?"":String(i)}function yt(i,o){throw new te(-201,!1)}function Xe(i,o){null==i&&function He(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function Nt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function En(i){return{providers:i.providers||[],imports:i.imports||[]}}function dr(i){return xr(i,di)||xr(i,Bs)}function nn(i){return null!==dr(i)}function xr(i,o){return i.hasOwnProperty(o)?i[o]:null}function io(i){return i&&(i.hasOwnProperty(hi)||i.hasOwnProperty(Oa))?i[hi]:null}const di=L({\u0275prov:L}),hi=L({\u0275inj:L}),Bs=L({ngInjectableDef:L}),Oa=L({ngInjectorDef:L});var lt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(lt||{});let Bt;function un(i){const o=Bt;return Bt=i,o}function Dn(i,o,a){const c=dr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==o?o:void yt(Y(i))}const Qt=globalThis,Yr={},jn="__NG_DI_FLAG__",Di="ngTempTokenPath",U=/\n/gm,G="__source";let Ie;function Ke(i){const o=Ie;return Ie=i,o}function Ct(i,o=lt.Default){if(void 0===Ie)throw new te(-203,!1);return null===Ie?Dn(i,void 0,o):Ie.get(i,o&lt.Optional?null:void 0,o)}function wt(i,o=lt.Default){return(function At(){return Bt}()||Ct)(xe(i),o)}function Mt(i,o=lt.Default){return wt(i,Cn(o))}function Cn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function zt(i){const o=[];for(let a=0;a<i.length;a++){const c=xe(i[a]);if(Array.isArray(c)){if(0===c.length)throw new te(900,!1);let d,p=lt.Default;for(let y=0;y<c.length;y++){const _=c[y],D=Qi(_);"number"==typeof D?-1===D?d=_.token:p|=D:d=_}o.push(wt(d,p))}else o.push(wt(c))}return o}function qn(i,o){return i[jn]=o,i.prototype[jn]=o,i}function Qi(i){return i[jn]}function ue(i){return{toString:i}.toString()}var ee=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(ee||{}),Me=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Me||{});const nt={},qe=[],Rt=L({\u0275cmp:L}),Zt=L({\u0275dir:L}),$n=L({\u0275pipe:L}),Hn=L({\u0275mod:L}),fr=L({\u0275fac:L}),Ji=L({__NG_ELEMENT_ID__:L}),Ko=L({__NG_ENV_ID__:L});function Jc(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}function Yo(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],y=a[c++],_=a[c++];i.setAttribute(o,y,_,p)}else{const p=d,y=a[++c];bi(p)?i.setProperty(o,p,y):i.setAttribute(o,p,y),c++}}return c}function Xc(i){return 3===i||4===i||6===i}function bi(i){return 64===i.charCodeAt(0)}function ao(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Qo(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function Qo(i,o,a,c,d){let p=0,y=i.length;if(-1===o)y=-1;else for(;p<i.length;){const _=i[p++];if("number"==typeof _){if(_===o){y=-1;break}if(_>o){y=p-1;break}}}for(;p<i.length;){const _=i[p];if("number"==typeof _)break;if(_===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,o),p=y+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}const el="ng-template";function zn(i,o,a){let c=0,d=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&d){const y=i[c++];if(a&&"class"===p&&-1!==Jc(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function $s(i){return 4===i.type&&i.value!==el}function mm(i,o,a){return o===(4!==i.type||a?i.value:el)}function Sf(i,o,a){let c=4;const d=i.attrs||[],p=function ym(i){for(let o=0;o<i.length;o++)if(Xc(i[o]))return o;return i.length}(d);let y=!1;for(let _=0;_<o.length;_++){const D=o[_];if("number"!=typeof D){if(!y)if(4&c){if(c=2|1&c,""!==D&&!mm(i,D,a)||""===D&&1===o.length){if(Qr(c))return!1;y=!0}}else{const S=8&c?D:o[++_];if(8&c&&null!==i.attrs){if(!zn(i.attrs,S,a)){if(Qr(c))return!1;y=!0}continue}const F=Jo(8&c?"class":D,d,$s(i),a);if(-1===F){if(Qr(c))return!1;y=!0;continue}if(""!==S){let z;z=F>p?"":d[F+1].toLowerCase();const K=8&c?z:null;if(K&&-1!==Jc(K,S,0)||2&c&&S!==z){if(Qr(c))return!1;y=!0}}}}else{if(!y&&!Qr(c)&&!Qr(D))return!1;if(y&&Qr(D))continue;y=!1,c=D|1&c}}return Qr(c)||y}function Qr(i){return 0==(1&i)}function Jo(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let _=o[++d];for(;"string"==typeof _;)_=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function uo(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function tl(i,o,a=!1){for(let c=0;c<o.length;c++)if(Sf(i,o[c],a))return!0;return!1}function Af(i,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function La(i,o){return i?":not("+o.trim()+")":o}function Vd(i){let o=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const _=i[++a];d+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!Qr(y)&&(o+=La(p,d),d=""),c=y,p=p||!Qr(c);a++}return""!==d&&(o+=La(p,d)),o}function Ou(i){return ue(()=>{const o=il(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===ee.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Me.Emulated,styles:i.styles||qe,_:null,schemas:i.schemas||null,tView:null,id:""};Mf(a);const c=i.dependencies;return a.directiveDefs=Ua(c,!1),a.pipeDefs=Ua(c,!0),a.id=function Si(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function nl(i){return Gt(i)||Rn(i)}function ku(i){return null!==i}function Va(i){return ue(()=>({type:i.type,bootstrap:i.bootstrap||qe,declarations:i.declarations||qe,imports:i.imports||qe,exports:i.exports||qe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Fu(i,o){if(null==i)return nt;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}function Xo(i){return ue(()=>{const o=il(i);return Mf(o),o})}function rl(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Gt(i){return i[Rt]||null}function Rn(i){return i[Zt]||null}function Nr(i){return i[$n]||null}function Hs(i){const o=Gt(i)||Rn(i)||Nr(i);return null!==o&&o.standalone}function Rr(i,o){const a=i[Hn]||null;if(!a&&!0===o)throw new Error(`Type ${Y(i)} does not have '\u0275mod' property.`);return a}function il(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||nt,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||qe,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fu(i.inputs,o),outputs:Fu(i.outputs)}}function Mf(i){i.features?.forEach(o=>o(i))}function Ua(i,o){if(!i)return null;const a=o?Nr:nl;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(ku)}const mn=0,Ye=1,vt=2,yn=3,Pr=4,co=5,pr=6,Ba=7,ln=8,ms=9,ea=10,Et=11,gr=12,xf=13,ys=14,vn=15,sl=16,lo=17,tr=18,vs=19,_s=20,zs=21,Ai=22,Vu=23,ho=24,Lt=25,ta=1,Uu=2,nr=7,rr=9,mr=11;function ir(i){return Array.isArray(i)&&"object"==typeof i[ta]}function Er(i){return Array.isArray(i)&&!0===i[ta]}function Bu(i){return 0!=(4&i.flags)}function po(i){return i.componentOffset>-1}function fi(i){return 1==(1&i.flags)}function Jr(i){return!!i.template}function na(i){return 0!=(512&i[vt])}function go(i,o){return i.hasOwnProperty(fr)?i[fr]:null}let dl=Qt.WeakRef??class zu{constructor(o){this.ref=o}deref(){return this.ref}},Gu=0,Xi=null,mo=!1;function Pn(i){const o=Xi;return Xi=i,o}class kf{constructor(){this.id=Gu++,this.ref=function sa(i){return new dl(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,a]of this.producers){const c=a.producerNode.deref();if(null!=c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(o),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=mo;mo=!0;try{for(const[a,c]of this.consumers){const d=c.consumerNode.deref();null!=d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{mo=o}}producerAccessed(){if(mo)throw new Error("");if(null===Xi)return;let o=Xi.producers.get(this.id);void 0===o?(o={consumerNode:Xi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Xi.trackingVersion},Xi.producers.set(this.id,o),this.consumers.set(Xi.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=Xi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Xi?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let Wu=null;function Ku(i){const o=Pn(null);try{return i()}finally{Pn(o)}}const Zd=()=>{};class Wd extends kf{constructor(o,a,c){super(),this.watch=o,this.schedule=a,this.dirty=!1,this.cleanupFn=Zd,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=Pn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Zd,this.watch(this.registerOnCleanup)}finally{Pn(o)}}cleanup(){this.cleanupFn()}}class Vf{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function aa(){return Kd}function Kd(i){return i.type.prototype.ngOnChanges&&(i.setInput=za),yo}function yo(){const i=Yd(this),o=i?.current;if(o){const a=i.previous;if(a===nt)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function za(i,o,a,c){const d=this.declaredInputs[a],p=Yd(i)||function Yu(i,o){return i[fl]=o}(i,{previous:nt,current:null}),y=p.current||(p.current={}),_=p.previous,D=_[d];y[d]=new Vf(D&&D.currentValue,o,_===nt),i[c]=o}aa.ngInherit=!0;const fl="__ngSimpleChanges__";function Yd(i){return i[fl]||null}const Mi=function(i,o,a){},Bf="svg";function dn(i){for(;Array.isArray(i);)i=i[mn];return i}function Qu(i,o){return dn(o[i])}function Fr(i,o){return dn(o[i.index])}function Qd(i,o){return i.data[o]}function On(i,o){const a=o[i];return ir(a)?a:a[mn]}function Zs(i,o){return null==o?null:i[o]}function ml(i){i[lo]=0}function jf(i){1024&i[vt]||(i[vt]|=1024,_o(i,1))}function Xd(i){1024&i[vt]&&(i[vt]&=-1025,_o(i,-1))}function _o(i,o){let a=i[yn];if(null===a)return;a[co]+=o;let c=a;for(a=a[yn];null!==a&&(1===o&&1===c[co]||-1===o&&0===c[co]);)a[co]+=o,c=a,a=a[yn]}const It={lFrame:oh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wo(){return It.bindingsEnabled}function da(){return null!==It.skipHydrationRootTNode}function fe(){return It.lFrame.lView}function Wt(){return It.lFrame.tView}function ec(i){return It.lFrame.contextLView=i,i[ln]}function nh(i){return It.lFrame.contextLView=null,i}function Zn(){let i=qa();for(;null!==i&&64===i.type;)i=i.parent;return i}function qa(){return It.lFrame.currentTNode}function Hi(i,o){const a=It.lFrame;a.currentTNode=i,a.isParent=o}function sr(){return It.lFrame.isParent}function Eo(){It.lFrame.isParent=!1}function Is(){return It.lFrame.bindingIndex++}function Dl(i,o){const a=It.lFrame;a.bindingIndex=a.bindingRootIndex=i,zf(o)}function zf(i){It.lFrame.currentDirectiveIndex=i}function ih(){return It.lFrame.currentQueryIndex}function Cl(i){It.lFrame.currentQueryIndex=i}function Dm(i){const o=i[Ye];return 2===o.type?o.declTNode:1===o.type?i[pr]:null}function bl(i,o,a){if(a&lt.SkipSelf){let d=o,p=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=Dm(p),null===d||(p=p[ys],10&d.type))););if(null===d)return!1;o=d,i=p}const c=It.lFrame=ha();return c.currentTNode=o,c.lView=i,!0}function sh(i){const o=ha(),a=i[Ye];It.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ha(){const i=It.lFrame,o=null===i?null:i.child;return null===o?oh(i):o}function oh(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Tl(){const i=It.lFrame;return It.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Gf=Tl;function tc(){const i=Tl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ei(){return It.lFrame.selectedIndex}function Ws(i){It.lFrame.selectedIndex=i}function Tn(){const i=It.lFrame;return Qd(i.tView,i.selectedIndex)}function rc(){It.lFrame.currentNamespace=Bf}function Sl(){!function bm(){It.lFrame.currentNamespace=null}()}let fa=!0;function Ks(){return fa}function rn(i){fa=i}function Dr(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:x}=p;y&&(i.contentHooks??=[]).push(-a,y),_&&((i.contentHooks??=[]).push(a,_),(i.contentCheckHooks??=[]).push(a,_)),D&&(i.viewHooks??=[]).push(-a,D),S&&((i.viewHooks??=[]).push(a,S),(i.viewCheckHooks??=[]).push(a,S)),null!=x&&(i.destroyHooks??=[]).push(a,x)}}function bo(i,o,a){ic(i,o,3,a)}function Ys(i,o,a,c){(3&i[vt])===a&&ic(i,o,a,c)}function Wa(i,o){let a=i[vt];(3&a)===o&&(a&=8191,a+=1,i[vt]=a)}function ic(i,o,a,c){const p=c??-1,y=o.length-1;let _=0;for(let D=void 0!==c?65535&i[lo]:0;D<y;D++)if("number"==typeof o[D+1]){if(_=o[D],null!=c&&_>=c)break}else o[D]<0&&(i[lo]+=65536),(_<p||-1==p)&&(To(i,a,o,D),i[lo]=(4294901760&i[lo])+D+2),D++}function Ka(i,o){Mi(4,i,o);const a=Pn(null);try{o.call(i)}finally{Pn(a),Mi(5,i,o)}}function To(i,o,a,c){const d=a[c]<0,p=a[c+1],_=i[d?-a[c]:a[c]];d?i[vt]>>13<i[lo]>>16&&(3&i[vt])===o&&(i[vt]+=8192,Ka(_,p)):Ka(_,p)}const Lr=-1;class mt{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ml(i){return i!==Lr}function Qs(i){return 32767&i}function es(i,o){let a=function Tm(i){return i>>16}(i),c=o;for(;a>0;)c=c[ys],a--;return c}let Es=!0;function pa(i){const o=Es;return Es=i,o}const oc=255,Qa=5;let ch=0;const Vr={};function Ja(i,o){const a=ac(i,o);if(-1!==a)return a;const c=o[Ye];c.firstCreatePass&&(i.injectorIndex=o.length,yr(c.data,i),yr(o,null),yr(c.blueprint,null));const d=Mo(i,o),p=i.injectorIndex;if(Ml(d)){const y=Qs(d),_=es(d,o),D=_[Ye].data;for(let S=0;S<8;S++)o[p+S]=_[y+S]|D[y+S]}return o[p+8]=d,p}function yr(i,o){i.push(0,0,0,0,0,0,0,0,o)}function ac(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Mo(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=lc(d),null===c)return Lr;if(a++,d=d[ys],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Lr}function Ni(i,o,a){!function Ds(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Ji)&&(c=a[Ji]),null==c&&(c=a[Ji]=ch++);const d=c&oc;o.data[i+(d>>Qa)]|=1<<d}(i,o,a)}function Cs(i,o,a){if(a&lt.Optional||void 0!==i)return i;yt()}function Xa(i,o,a,c){if(a&lt.Optional&&void 0===c&&(c=null),!(a&(lt.Self|lt.Host))){const d=i[ms],p=un(void 0);try{return d?d.get(o,c,a&lt.Optional):Dn(o,c,a&lt.Optional)}finally{un(p)}}return Cs(c,0,a)}function Ri(i,o,a,c=lt.Default,d){if(null!==i){if(2048&o[vt]&&!(c&lt.Self)){const y=function ma(i,o,a,c,d){let p=i,y=o;for(;null!==p&&null!==y&&2048&y[vt]&&!(512&y[vt]);){const _=ar(p,y,a,c|lt.Self,Vr);if(_!==Vr)return _;let D=p.parent;if(!D){const S=y[_s];if(S){const x=S.get(a,Vr,c);if(x!==Vr)return x}D=lc(y),y=y[ys]}p=D}return d}(i,o,a,c,Vr);if(y!==Vr)return y}const p=ar(i,o,a,c,Vr);if(p!==Vr)return p}return Xa(o,a,c,d)}function ar(i,o,a,c,d){const p=function Ts(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Ji)?i[Ji]:void 0;return"number"==typeof o?o>=0?o&oc:eu:o}(a);if("function"==typeof p){if(!bl(o,i,c))return c&lt.Host?Cs(d,0,c):Xa(o,a,c,d);try{let y;if(y=p(c),null!=y||c&lt.Optional)return y;yt()}finally{Gf()}}else if("number"==typeof p){let y=null,_=ac(i,o),D=Lr,S=c&lt.Host?o[vn][pr]:null;for((-1===_||c&lt.SkipSelf)&&(D=-1===_?Mo(i,o):o[_+8],D!==Lr&&kn(c,!1)?(y=o[Ye],_=Qs(D),o=es(D,o)):_=-1);-1!==_;){const x=o[Ye];if(Js(p,_,x.data)){const F=uc(_,o,a,y,c,S);if(F!==Vr)return F}D=o[_+8],D!==Lr&&kn(c,o[Ye].data[_+8]===S)&&Js(p,_,o)?(y=x,_=Qs(D),o=es(D,o)):_=-1}}return d}function uc(i,o,a,c,d,p){const y=o[Ye],_=y.data[i+8],x=cc(_,y,a,null==c?po(_)&&Es:c!=y&&0!=(3&_.type),d&lt.Host&&p===_);return null!==x?bs(o,y,x,_):Vr}function cc(i,o,a,c,d){const p=i.providerIndexes,y=o.data,_=1048575&p,D=i.directiveStart,x=p>>20,z=d?_+x:i.directiveEnd;for(let K=c?_:_+x;K<z;K++){const me=y[K];if(K<D&&a===me||K>=D&&me.type===a)return K}if(d){const K=y[D];if(K&&Jr(K)&&K.type===a)return D}return null}function bs(i,o,a,c){let d=i[a];const p=o.data;if(function ah(i){return i instanceof mt}(d)){const y=d;y.resolving&&function Pe(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new te(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():X(i)}(p[a]));const _=pa(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?un(y.injectImpl):null;bl(i,c,lt.Default);try{d=i[a]=y.factory(void 0,p,i,c),o.firstCreatePass&&a>=c.directiveStart&&function pt(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const y=Kd(o);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),p&&((a.preOrderHooks??=[]).push(i,p),(a.preOrderCheckHooks??=[]).push(i,p))}(a,p[a],o)}finally{null!==S&&un(S),pa(_),y.resolving=!1,Gf()}}return d}function Js(i,o,a){return!!(a[o+(i>>Qa)]&1<<i)}function kn(i,o){return!(i&lt.Self||i&lt.Host&&o)}class An{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Ri(this._tNode,this._lView,o,Cn(c),a)}}function eu(){return new An(Zn(),fe())}function tu(i){return ue(()=>{const o=i.prototype.constructor,a=o[fr]||ga(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[fr]||ga(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function ga(i){return ze(i)?()=>{const o=ga(xe(i));return o&&o()}:go(i)}function lc(i){const o=i[Ye],a=o.type;return 2===a?o.declTNode:1===a?i[pr]:null}function ya(i){return function vr(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(Xc(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(Zn(),i)}const Ss="__parameters__";function Gi(i,o,a){return ue(()=>{const c=function ru(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const y=new d(...p);return _.annotation=y,_;function _(D,S,x){const F=D.hasOwnProperty(Ss)?D[Ss]:Object.defineProperty(D,Ss,{value:[]})[Ss];for(;F.length<=x;)F.push(null);return(F[x]=F[x]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function $(i,o){i.forEach(a=>Array.isArray(a)?$(a,o):o(a))}function Z(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ce(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function je(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}function cn(i,o,a){let c=As(i,o);return c>=0?i[1|c]=a:(c=~c,function Dt(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function wn(i,o){const a=As(i,o);if(a>=0)return i[1|a]}function As(i,o){return function Ms(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),y=i[p<<a];if(o===y)return p<<a;y>o?d=p:c=p+1}return~(d<<a)}(i,o,1)}const Rl=qn(Gi("Optional"),8),fh=qn(Gi("SkipSelf"),4);function yc(i){return 128==(128&i.flags)}var ep=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(ep||{});const Bl=new Map;let Ns=0;const Hl="__ngContext__";function br(i,o){ir(o)?(i[Hl]=o[vs],function Pi(i){Bl.set(i[vs],i)}(o)):i[Hl]=o}let Oo;function ql(i,o){return Oo(i,o)}function Zl(i){const o=i[yn];return Er(o)?o[yn]:o}function Hm(i){return o_(i[gr])}function s_(i){return o_(i[Pr])}function o_(i){for(;null!==i&&!Er(i);)i=i[Pr];return i}function v(i,o,a,c,d){if(null!=c){let p,y=!1;Er(c)?p=c:ir(c)&&(y=!0,c=c[mn]);const _=dn(c);0===i&&null!==a?null==d?sp(o,a,_):Lo(o,a,_,d||null,!0):1===i&&null!==a?Lo(o,a,_,d||null,!0):2===i?function qm(i,o,a){const c=Ih(i,o);c&&function hu(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,_,y):3===i&&o.destroyNode(_),null!=p&&function DT(i,o,a,c,d){const p=a[nr];p!==dn(a)&&v(o,i,c,p,d);for(let _=mr;_<a.length;_++){const D=a[_];up(D[Ye],D,i,o,c,p)}}(o,i,p,a,d)}}function T(i,o,a){return i.createElement(o,a)}function it(i,o){const a=i[rr],c=a.indexOf(o);Xd(o),a.splice(c,1)}function In(i,o){if(i.length<=mr)return;const a=mr+o,c=i[a];if(c){const d=c[sl];null!==d&&d!==i&&it(d,c),o>0&&(i[a-1][Pr]=c[Pr]);const p=ce(i,mr+o);!function N(i,o){up(i,o,o[Et],2,null,null),o[mn]=null,o[pr]=null}(c[Ye],c);const y=p[tr];null!==y&&y.detachView(p[Ye]),c[yn]=null,c[Pr]=null,c[vt]&=-129}return c}function Oi(i,o){if(!(256&o[vt])){const a=o[Et];o[Vu]?.destroy(),o[ho]?.destroy(),a.destroyNode&&up(i,o,a,3,null,null),function Ne(i){let o=i[gr];if(!o)return ko(i[Ye],i);for(;o;){let a=null;if(ir(o))a=o[gr];else{const c=o[mr];c&&(a=c)}if(!a){for(;o&&!o[Pr]&&o!==i;)ir(o)&&ko(o[Ye],o),o=o[yn];null===o&&(o=i),ir(o)&&ko(o[Ye],o),a=o&&o[Pr]}o=a}}(o)}}function ko(i,o){if(!(256&o[vt])){o[vt]&=-129,o[vt]|=256,function ip(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof mt)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const _=d[p[y]],D=p[y+1];Mi(4,_,D);try{D.call(_)}finally{Mi(5,_,D)}}else{Mi(4,d,p);try{p.call(d)}finally{Mi(5,d,p)}}}}}(i,o),function zm(i,o){const a=i.cleanup,c=o[Ba];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?c[y]():c[-y].unsubscribe(),p+=2}else a[p].call(c[a[p+1]]);null!==c&&(o[Ba]=null);const d=o[zs];if(null!==d){o[zs]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(i,o),1===o[Ye].type&&o[Et].destroy();const a=o[sl];if(null!==a&&Er(o[yn])){a!==o[yn]&&it(a,o);const c=o[tr];null!==c&&c.detachView(i)}!function Bm(i){Bl.delete(i[vs])}(o)}}function Fo(i,o,a){return function lu(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[mn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=i.data[c.directiveStart+d];if(p===Me.None||p===Me.Emulated)return null}return Fr(c,a)}}(i,o.parent,a)}function Lo(i,o,a,c,d){i.insertBefore(o,a,c,d)}function sp(i,o,a){i.appendChild(o,a)}function du(i,o,a,c,d){null!==c?Lo(i,o,a,c,d):sp(i,o,a)}function Ih(i,o){return i.parentNode(o)}function Gm(i,o,a){return eE(i,o,a)}let tE,lp,d_,Zm,eE=function XI(i,o,a){return 40&i.type?Fr(i,a):null};function ap(i,o,a,c){const d=Fo(i,c,o),p=o[Et],_=Gm(c.parent||o[pr],c,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)du(p,d,a[D],_,!1);else du(p,d,a,_,!1);void 0!==tE&&tE(p,c,o,a,d)}function Ic(i,o){if(null!==o){const a=o.type;if(3&a)return Fr(o,i);if(4&a)return u_(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return Ic(i,c);{const d=i[o.index];return Er(d)?u_(-1,d):dn(d)}}if(32&a)return ql(o,i)()||dn(i[o.index]);{const c=Wl(i,o);return null!==c?Array.isArray(c)?c[0]:Ic(Zl(i[vn]),c):Ic(i,o.next)}}return null}function Wl(i,o){return null!==o?i[vn][pr].projection[o.projection]:null}function u_(i,o){const a=mr+i+1;if(a<o.length){const c=o[a],d=c[Ye].firstChild;if(null!==d)return Ic(c,d)}return o[nr]}function c_(i,o,a,c,d,p,y){for(;null!=a;){const _=c[a.index],D=a.type;if(y&&0===o&&(_&&br(dn(_),c),a.flags|=2),32!=(32&a.flags))if(8&D)c_(i,o,a.child,c,d,p,!1),v(o,i,d,_,p);else if(32&D){const S=ql(a,c);let x;for(;x=S();)v(o,i,d,x,p);v(o,i,d,_,p)}else 16&D?iE(i,o,c,a,d,p):v(o,i,d,_,p);a=y?a.projectionNext:a.next}}function up(i,o,a,c,d,p){c_(a,c,i.firstChild,o,d,p,!1)}function iE(i,o,a,c,d,p){const y=a[vn],D=y[pr].projection[c.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)v(o,i,d,D[S],p);else{let S=D;const x=y[yn];yc(c)&&(S.flags|=128),c_(i,o,S,x,d,p,!0)}}function oE(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function cp(i,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&Yo(i,o,c),null!==d&&oE(i,o,d),null!==p&&function sE(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function Kl(i){return function Ec(){if(void 0===lp&&(lp=null,Qt.trustedTypes))try{lp=Qt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return lp}()?.createHTML(i)||i}function h_(i){d_=i}function Yl(){if(void 0!==d_)return d_;if(typeof document<"u")return document;throw new te(210,!1)}function f_(){if(void 0===Zm&&(Zm=null,Qt.trustedTypes))try{Zm=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Zm}function aE(i){return f_()?.createHTML(i)||i}function dp(i){return f_()?.createScriptURL(i)||i}class cE{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}function fu(i){return i instanceof cE?i.changingThisBreaksApplicationSecurity:i}function Wm(i,o){const a=function lE(i){return i instanceof cE&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${at})`)}return a===o}class PT{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Kl(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class hE{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=Kl(o),a}}const Eh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hp(i){return(i=String(i)).match(Eh)?i:"unsafe:"+i}function pu(i){const o={};for(const a of i.split(","))o[a]=!0;return o}function Dh(...i){const o={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const fp=pu("area,br,col,hr,img,wbr"),g_=pu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m_=pu("rp,rt"),y_=Dh(fp,Dh(g_,pu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dh(m_,pu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dh(m_,g_)),Ch=pu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bh=Dh(Ch,pu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fE=pu("script,style,template");class OT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!y_.hasOwnProperty(a))return this.sanitizedSomething=!0,!fE.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let d=0;d<c.length;d++){const p=c.item(d),y=p.name,_=y.toLowerCase();if(!bh.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let D=p.value;Ch[_]&&(D=hp(D)),this.buf.push(" ",y,'="',pE(D),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();y_.hasOwnProperty(a)&&!fp.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(pE(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const kT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,FT=/([^\#-~ |!])/g;function pE(i){return i.replace(/&/g,"&amp;").replace(kT,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(FT,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ki;function Km(i){return"content"in i&&function Ym(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Th=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Th||{});function gE(i){const o=Qm();return o?aE(o.sanitize(Th.HTML,i)||""):Wm(i,"HTML")?aE(fu(i)):function LT(i,o){let a=null;try{ki=ki||function dE(i){const o=new hE(i);return function p_(){try{return!!(new window.DOMParser).parseFromString(Kl(""),"text/html")}catch{return!1}}()?new PT(o):o}(i);let c=o?String(o):"";a=ki.getInertBodyElement(c);let d=5,p=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=p,p=a.innerHTML,a=ki.getInertBodyElement(c)}while(c!==p);return Kl((new OT).sanitizeChildren(Km(a)||a))}finally{if(a){const c=Km(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(Yl(),X(i))}function yE(i){const o=Qm();return o?o.sanitize(Th.URL,i)||"":Wm(i,"URL")?fu(i):hp(X(i))}function VT(i){const o=Qm();if(o)return dp(o.sanitize(Th.RESOURCE_URL,i)||"");if(Wm(i,"ResourceURL"))return dp(fu(i));throw new te(904,!1)}function __(i,o,a){return function vM(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?VT:yE}(o,a)(i)}function Qm(){const i=fe();return i&&i[ea].sanitizer}class hn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Nt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jm=new hn("ENVIRONMENT_INITIALIZER"),w_=new hn("INJECTOR",-1),I_=new hn("INJECTOR_DEF_TYPES");class pp{get(o,a=Yr){if(a===Yr){const c=new Error(`NullInjectorError: No provider for ${Y(o)}!`);throw c.name="NullInjectorError",c}return a}}function BT(...i){return{\u0275providers:jT(0,i),\u0275fromNgModule:!0}}function jT(i,...o){const a=[],c=new Set;let d;const p=y=>{a.push(y)};return $(o,y=>{const _=y;Xm(_,p,[],c)&&(d||=[],d.push(_))}),void 0!==d&&E_(d,p),a}function E_(i,o){for(let a=0;a<i.length;a++){const{ngModule:c,providers:d}=i[a];wE(d,p=>{o(p,c)})}}function Xm(i,o,a,c){if(!(i=xe(i)))return!1;let d=null,p=io(i);const y=!p&&Gt(i);if(p||y){if(y&&!y.standalone)return!1;d=i}else{const D=i.ngModule;if(p=io(D),!p)return!1;d=D}const _=c.has(d);if(y){if(_)return!1;if(c.add(d),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of D)Xm(S,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!_){let S;c.add(d);try{$(p.imports,x=>{Xm(x,o,a,c)&&(S||=[],S.push(x))})}finally{}void 0!==S&&E_(S,o)}if(!_){const S=go(d)||(()=>new d);o({provide:d,useFactory:S,deps:qe},d),o({provide:I_,useValue:d,multi:!0},d),o({provide:Jm,useValue:()=>wt(d),multi:!0},d)}const D=p.providers;if(null!=D&&!_){const S=i;wE(D,x=>{o(x,S)})}}}return d!==i&&void 0!==i.providers}function wE(i,o){for(let a of i)Oe(a)&&(a=a.\u0275providers),Array.isArray(a)?wE(a,o):o(a)}const wM=L({provide:String,useValue:L});function D_(i){return null!==i&&"object"==typeof i&&wM in i}function Ql(i){return"function"==typeof i}const Sh=new hn("Set Injector scope."),ey={},zT={};let b_;function ty(){return void 0===b_&&(b_=new pp),b_}class Da{}class gp extends Da{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,S_(o,y=>this.processProvider(y)),this.records.set(w_,mp(void 0,this)),d.has("environment")&&this.records.set(Da,mp(void 0,this));const p=this.records.get(Sh);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(I_.multi,qe,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=Ke(this),c=un(void 0);try{return o()}finally{Ke(a),un(c)}}get(o,a=Yr,c=lt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Ko))return o[Ko](this);c=Cn(c);const p=Ke(this),y=un(void 0);try{if(!(c&lt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const S=function IE(i){return"function"==typeof i||"object"==typeof i&&i instanceof hn}(o)&&dr(o);D=S&&this.injectableDefInScope(S)?mp(T_(o),ey):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&lt.Self?ty():this.parent).get(o,a=c&lt.Optional&&a===Yr?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Di]=_[Di]||[]).unshift(Y(o)),p)throw _;return function gs(i,o,a,c){const d=i[Di];throw o[G]&&d.unshift(o[G]),i.message=function Fa(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=Y(o);if(Array.isArray(o))d=o.map(Y).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let _=o[y];p.push(y+":"+("string"==typeof _?JSON.stringify(_):Y(_)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(U,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Di]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{un(y),Ke(p)}}resolveInjectorInitializers(){const o=Ke(this),a=un(void 0);try{const d=this.get(Jm.multi,qe,lt.Self);for(const p of d)p()}finally{Ke(o),un(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(Y(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(o){let a=Ql(o=xe(o))?o:xe(o&&o.provide);const c=function EM(i){return D_(i)?mp(void 0,i.useValue):mp(GT(i),ey)}(o);if(Ql(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=mp(void 0,ey,!0),d.factory=()=>zt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===ey&&(a.value=zT,a.value=a.factory()),"object"==typeof a.value&&a.value&&function CM(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=xe(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function T_(i){const o=dr(i),a=null!==o?o.factory:go(i);if(null!==a)return a;if(i instanceof hn)throw new te(204,!1);if(i instanceof Function)return function IM(i){const o=i.length;if(o>0)throw je(o,"?"),new te(204,!1);const a=function li(i){return i&&(i[di]||i[Bs])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new te(204,!1)}function GT(i,o,a){let c;if(Ql(i)){const d=xe(i);return go(d)||T_(d)}if(D_(i))c=()=>xe(i.useValue);else if(function C_(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...zt(i.deps||[]));else if(function $T(i){return!(!i||!i.useExisting)}(i))c=()=>wt(xe(i.useExisting));else{const d=xe(i&&(i.useClass||i.provide));if(!function DM(i){return!!i.deps}(i))return go(d)||T_(d);c=()=>new d(...zt(i.deps))}return c}function mp(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function S_(i,o){for(const a of i)Array.isArray(a)?S_(a,o):a&&Oe(a)?S_(a.\u0275providers,o):o(a)}const EE=new hn("AppId",{providedIn:"root",factory:()=>qT}),qT="ng",DE=new hn("Platform Initializer"),A_=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZT=new hn("CSP nonce",{providedIn:"root",factory:()=>Yl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ah=(i,o,a)=>null;function P_(i,o,a=!1){return Ah(i,o,a)}class YT{}class Mh{}class QT{resolveComponentFactory(o){throw function oy(i){const o=Error(`No component factory found for ${Y(i)}.`);return o.ngComponent=i,o}(o)}}let ay=(()=>{class o{}return o.NULL=new QT,o})();function xh(){return Xl(Zn(),fe())}function Xl(i,o){return new ed(Fr(i,o))}let ed=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=xh,o})();function ME(i){return i instanceof ed?i.nativeElement:i}class xE{}let NE=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function F_(){const i=fe(),a=On(Zn().index,i);return(ir(a)?a:i)[Et]}(),o})(),L_=(()=>{var i;class o{}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:()=>null}),o})();class uy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const cy=new uy("16.2.3"),_p={};function B_(i,o=null,a=null,c){const d=j_(i,o,a,c);return d.resolveInjectorInitializers(),d}function j_(i,o=null,a=null,c,d=new Set){const p=[a||qe,BT(i)];return c=c||("object"==typeof i?void 0:Y(i)),new gp(p,o||ty(),c||null,d)}let is=(()=>{var i;class o{static create(c,d){if(Array.isArray(c))return B_({name:""},d,c,"");{const p=c.name??"";return B_({name:p},c.parent,c.providers,p)}}}return(i=o).THROW_IF_NOT_FOUND=Yr,i.NULL=new pp,i.\u0275prov=Nt({token:i,providedIn:"any",factory:()=>wt(w_)}),i.__NG_ELEMENT_ID__=-1,o})();function ly(i){return o=>{setTimeout(i,void 0,o)}}const jo=class H_ extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),y=c;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),p=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(p=ly(p),d&&(d=ly(d)),y&&(y=ly(y)));const _=super.subscribe({next:d,error:p,complete:y});return o instanceof Q.w0&&o.add(_),_}};function OE(...i){}class Sr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jo(!1),this.onMicrotaskEmpty=new jo(!1),this.onStable=new jo(!1),this.onError=new jo(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function kE(){const i="function"==typeof Qt.requestAnimationFrame;let o=Qt[i?"requestAnimationFrame":"setTimeout"],a=Qt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function q_(i){const o=()=>{!function G_(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Qt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Dp(i),i.isCheckStableRunning=!0,z_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Dp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,y,_)=>{try{return jr(i),a.invokeTask(d,p,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),si(i)}},onInvoke:(a,c,d,p,y,_,D)=>{try{return jr(i),a.invoke(d,p,y,_,D)}finally{i.shouldCoalesceRunChangeDetection&&o(),si(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Dp(i),z_(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sr.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(Sr.isInAngularZone())throw new te(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,FE,OE,OE);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const FE={};function z_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Dp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function jr(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function si(i){i._nesting--,z_(i)}class dy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jo,this.onMicrotaskEmpty=new jo,this.onStable=new jo,this.onError=new jo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const hy=new hn("",{providedIn:"root",factory:LE});function LE(){const i=Mt(Sr);let o=!0;const a=new k.y(d=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(o),d.complete()})}),c=new k.y(d=>{let p;i.runOutsideAngular(()=>{p=i.onStable.subscribe(()=>{Sr.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{Sr.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,J.T)(a,c.pipe((0,pe.B)()))}function VE(i){return i.ownerDocument.defaultView}function gu(i){return i instanceof Function?i():i}let py=(()=>{var i;class o{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new te(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const c of this.callbacks)c.invoke()}finally{this.runningCallbacks=!1;for(const c of this.deferredCallbacks)this.callbacks.add(c);this.deferredCallbacks.clear()}}register(c){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(c)}unregister(c){this.callbacks.delete(c),this.deferredCallbacks.delete(c)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:()=>new i}),o})();function Tp(i){for(;i;){i[vt]|=64;const o=Zl(i);if(na(i)&&!o)return i;i=o}return null}function Ap(i){return i.ngOriginalError}class td{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Ap(o);for(;a&&Ap(a);)a=Ap(a);return a||null}}const W_=new hn("",{providedIn:"root",factory:()=>!1});class Fh extends kf{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Tp(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,a,c){const d=Pn(this);this.trackingVersion++;try{o(a,c)}finally{Pn(d)}}destroy(){this.trackingVersion++}}let Np=null;function Vi(){return Np??=new Fh,Np}function Y_(i,o){return i[o]??Vi()}function Lh(i,o){const a=Vi();a.hasReadASignal&&(i[o]=Np,a.lView=i,Np=new Fh)}const kt={};function Q_(i){yy(Wt(),fe(),ei()+i,!1)}function yy(i,o,a,c){if(!c)if(3==(3&o[vt])){const p=i.preOrderCheckHooks;null!==p&&bo(o,p,a)}else{const p=i.preOrderHooks;null!==p&&Ys(o,p,0,a)}Ws(a)}function nd(i,o=lt.Default){const a=fe();return null===a?wt(i,o):Ri(Zn(),a,xe(i),o)}function J_(){throw new Error("invalid")}function Vh(i,o,a,c,d,p,y,_,D,S,x){const F=o.blueprint.slice();return F[mn]=d,F[vt]=140|c,(null!==S||i&&2048&i[vt])&&(F[vt]|=2048),ml(F),F[yn]=F[ys]=i,F[ln]=a,F[ea]=y||i&&i[ea],F[Et]=_||i&&i[Et],F[ms]=D||i&&i[ms]||null,F[pr]=p,F[vs]=function _c(){return Ns++}(),F[Ai]=x,F[_s]=S,F[vn]=2==o.type?i[vn]:F,F}function Cc(i,o,a,c,d){let p=i.data[o];if(null===p)p=function Pp(i,o,a,c,d){const p=qa(),y=sr(),D=i.data[o]=function Vp(i,o,a,c,d,p){let y=o?o.injectorIndex:-1,_=0;return da()&&(_|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D,D.prev=p)),D}(i,o,a,c,d),function Il(){return It.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const y=function bn(){const i=It.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Hi(p,!0),p}function bc(i,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function Uh(i,o,a,c,d){const p=Y_(o,Vu),y=ei(),_=2&c;try{if(Ws(-1),_&&o.length>Lt&&yy(i,o,Lt,!1),Mi(_?2:0,d),_)p.runInContext(a,c,d);else{const S=Pn(null);try{a(c,d)}finally{Pn(S)}}}finally{_&&null===o[Vu]&&Lh(o,Vu),Ws(y),Mi(_?3:1,d)}}function vy(i,o,a){if(Bu(o)){const c=Pn(null);try{const p=o.directiveEnd;for(let y=o.directiveStart;y<p;y++){const _=i.data[y];_.contentQueries&&_.contentQueries(1,a[y],y)}}finally{Pn(c)}}}function X_(i,o,a){wo()&&(function Fn(i,o,a,c){const d=a.directiveStart,p=a.directiveEnd;po(a)&&function pS(i,o,a){const c=Fr(o,i),d=kp(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const _=Ey(i,Vh(i,d,null,y,c,o,null,i[ea].rendererFactory.createRenderer(c,a),null,null,null));i[o.index]=_}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||Ja(a,o),br(c,o);const y=a.initialInputs;for(let _=d;_<p;_++){const D=i.data[_],S=bs(o,i,_,a);br(S,o),null!==y&&QE(0,_-d,S,D,0,y),Jr(D)&&(On(a.index,o)[ln]=bs(o,i,_,a))}}(i,o,a,Fr(a,o)),64==(64&a.flags)&&Bp(i,o,a))}function Op(i,o,a=Fr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],_=-1===y?a(o,i):i[y];i[d++]=_}}}function kp(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Fp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function Fp(i,o,a,c,d,p,y,_,D,S,x){const F=Lt+c,z=F+d,K=function HE(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:kt);return a}(F,z),me="function"==typeof S?S():S;return K[Ye]={type:i,blueprint:K,template:a,queries:null,viewQuery:_,declTNode:o,data:K.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:me,incompleteFirstPass:!1,ssrId:x}}let qE=i=>null;function Tc(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===c?wy(a,o,d,p):c.hasOwnProperty(d)&&wy(a,o,c[d],p)}return a}function wy(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function ss(i,o,a,c,d,p,y,_){const D=Fr(o,a);let x,S=o.inputs;!_&&null!=S&&(x=S[c])?(Ty(i,a,x,c,d),po(o)&&function WE(i,o){const a=On(o,i);16&a[vt]||(a[vt]|=64)}(a,o.index)):3&o.type&&(c=function cS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,o.value||"",c):d,p.setProperty(D,c,d))}function $o(i,o,a,c){if(wo()){const d=null===c?null:{"":-1},p=function $p(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(tl(o,y.selectors,!1))if(c||(c=[]),Jr(y))if(null!==y.findHostDirectiveDefs){const _=[];d=d||new Map,y.findHostDirectiveDefs(y,_,d),c.unshift(..._,y),e0(i,o,_.length)}else c.unshift(y),e0(i,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,_;null===p?y=_=null:[y,_]=p,null!==y&&Up(i,o,a,y,d,_),d&&function YE(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new te(-301,!1);c.push(o[d],p)}}}(a,c,d)}a.mergedAttrs=ao(a.mergedAttrs,a.attrs)}function Up(i,o,a,c,d,p){for(let S=0;S<c.length;S++)Ni(Ja(a,o),i,c[S].type);!function hS(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let S=0;S<c.length;S++){const x=c[S];x.providersResolver&&x.providersResolver(x)}let y=!1,_=!1,D=bc(i,o,c.length,null);for(let S=0;S<c.length;S++){const x=c[S];a.mergedAttrs=ao(a.mergedAttrs,x.hostAttrs),fS(i,a,o,D,x),dS(D,x,d),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const F=x.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!_&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),_=!0),D++}!function uS(i,o,a){const d=o.directiveEnd,p=i.data,y=o.attrs,_=[];let D=null,S=null;for(let x=o.directiveStart;x<d;x++){const F=p[x],z=a?a.get(F):null,me=z?z.outputs:null;D=Tc(F.inputs,x,D,z?z.inputs:null),S=Tc(F.outputs,x,S,me);const Fe=null===D||null===y||$s(o)?null:JE(D,x,y);_.push(Fe)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=_,o.inputs=D,o.outputs=S}(i,a,p)}function Bp(i,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,y=function rh(){return It.lFrame.currentDirectiveIndex}();try{Ws(p);for(let _=c;_<d;_++){const D=i.data[_],S=o[_];zf(_),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&jp(D,S)}}finally{Ws(-1),zf(y)}}function jp(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function e0(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function dS(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;Jr(o)&&(a[""]=i)}}function fS(i,o,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=go(d.type)),y=new mt(p,Jr(d),nd);i.blueprint[c]=y,a[c]=y,function Iy(i,o,a,c,d){const p=d.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const _=~o.index;(function KE(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=_&&y.push(_),y.push(a,c,p)}}(i,o,c,bc(i,a,d.hostVars,kt),d)}function os(i,o,a,c,d,p){const y=Fr(i,o);!function Ca(i,o,a,c,d,p,y){if(null==p)i.removeAttribute(o,d,a);else{const _=null==y?X(p):y(p,c||"",d);i.setAttribute(o,d,_,a)}}(o[Et],y,p,i.value,a,c,d)}function QE(i,o,a,c,d,p){const y=p[o];if(null!==y)for(let _=0;_<y.length;)t0(c,a,y[_++],y[_++],y[_++])}function t0(i,o,a,c,d){const p=Pn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(o,d)),null!==i.setInput?i.setInput(o,d,a,c):o[c]=d}finally{Pn(p)}}function JE(i,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const y=i[p];for(let _=0;_<y.length;_+=2)if(y[_]===o){c.push(p,y[_+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function rd(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null,null]}function XE(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const y=i.data[p];Cl(a[c]),y.contentQueries(2,o[p],p)}}}function Ey(i,o){return i[gr]?i[xf][Pr]=o:i[gr]=o,i[xf]=o,o}function Dy(i,o,a){Cl(0);const c=Pn(null);try{o(i,a)}finally{Pn(c)}}function n0(i){return i[Ba]||(i[Ba]=[])}function r0(i){return i.cleanup||(i.cleanup=[])}function by(i,o){const a=i[ms],c=a?a.get(td,null):null;c&&c.handleError(o)}function Ty(i,o,a,c,d){for(let p=0;p<a.length;){const y=a[p++],_=a[p++];t0(i.data[y],o[y],c,_,d)}}function gS(i,o){const a=On(o,i),c=a[Ye];!function mS(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(c,a);const d=a[mn];null!==d&&null===a[Ai]&&(a[Ai]=P_(d,a[ms])),s0(c,a,a[ln])}function s0(i,o,a){sh(o);try{const c=i.viewQuery;null!==c&&Dy(1,c,a);const d=i.template;null!==d&&Uh(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&XE(i,o),i.staticViewQueries&&Dy(2,i.viewQuery,a);const p=i.components;null!==p&&function yS(i,o){for(let a=0;a<o.length;a++)gS(i,o[a])}(o,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[vt]&=-5,tc()}}let Hp=(()=>{var i;class o{constructor(){this.all=new Set,this.queue=new Map}create(c,d,p){const y=typeof Zone>"u"?null:Zone.current,_=new Wd(c,x=>{this.all.has(x)&&this.queue.set(x,y)},p);let D;this.all.add(_),_.notify();const S=()=>{_.cleanup(),D?.(),this.all.delete(_),this.queue.delete(_)};return D=d?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:()=>new i}),o})();function id(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const _=o[y];"number"==typeof _?p=_:1==p?d=Le(d,_):2==p&&(c=Le(c,_+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function sd(i,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];null!==p&&c.push(dn(p)),Er(p)&&o0(p,c);const y=a.type;if(8&y)sd(i,o,a.child,c);else if(32&y){const _=ql(a,o);let D;for(;D=_();)c.push(D)}else if(16&y){const _=Wl(o,a);if(Array.isArray(_))c.push(..._);else{const D=Zl(o[vn]);sd(D[Ye],D,_,c,!0)}}a=d?a.projectionNext:a.next}return c}function o0(i,o){for(let a=mr;a<i.length;a++){const c=i[a],d=c[Ye].firstChild;null!==d&&sd(c[Ye],c,d,o)}i[nr]!==i[mn]&&o.push(i[nr])}function Sc(i,o,a,c=!0){const d=o[ea],p=d.rendererFactory,y=d.afterRenderEventManager;p.begin?.(),y?.begin();try{Wn(i,o,i.template,a)}catch(D){throw c&&by(o,D),D}finally{p.end?.(),d.effectManager?.flush(),y?.end()}}function Wn(i,o,a,c){const d=o[vt];if(256!=(256&d)){o[ea].effectManager?.flush(),sh(o);try{ml(o),function Do(i){return It.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Uh(i,o,a,2,c);const y=3==(3&d);if(y){const S=i.preOrderCheckHooks;null!==S&&bo(o,S,null)}else{const S=i.preOrderHooks;null!==S&&Ys(o,S,0,null),Wa(o,0)}if(function _S(i){for(let o=Hm(i);null!==o;o=s_(o)){if(!o[Uu])continue;const a=o[rr];for(let c=0;c<a.length;c++){jf(a[c])}}}(o),a0(o,2),null!==i.contentQueries&&XE(i,o),y){const S=i.contentCheckHooks;null!==S&&bo(o,S)}else{const S=i.contentHooks;null!==S&&Ys(o,S,1),Wa(o,1)}!function Rp(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const c=Y_(o,ho);try{for(let d=0;d<a.length;d++){const p=a[d];if(p<0)Ws(~p);else{const y=p,_=a[++d],D=a[++d];Dl(_,y),c.runInContext(D,2,o[y])}}}finally{null===o[ho]&&Lh(o,ho),Ws(-1)}}(i,o);const _=i.components;null!==_&&u0(o,_,0);const D=i.viewQuery;if(null!==D&&Dy(2,D,c),y){const S=i.viewCheckHooks;null!==S&&bo(o,S)}else{const S=i.viewHooks;null!==S&&Ys(o,S,2),Wa(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[vt]&=-73,Xd(o)}finally{tc()}}}function a0(i,o){for(let a=Hm(i);null!==a;a=s_(a))for(let c=mr;c<a.length;c++)eD(a[c],o)}function wS(i,o,a){eD(On(o,i),a)}function eD(i,o){if(!function Jd(i){return 128==(128&i[vt])}(i))return;const a=i[Ye];if(80&i[vt]&&0===o||1024&i[vt]||2===o)Wn(a,i,a.template,i[ln]);else if(i[co]>0){a0(i,1);const d=i[Ye].components;null!==d&&u0(i,d,1)}}function u0(i,o,a){for(let c=0;c<o.length;c++)wS(i,o[c],a)}class jh{get rootNodes(){const o=this._lView,a=o[Ye];return sd(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(o){this._lView[ln]=o}get destroyed(){return 256==(256&this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[yn];if(Er(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(In(o,c),ce(a,c))}this._attachedToViewContainer=!1}Oi(this._lView[Ye],this._lView)}onDestroy(o){!function la(i,o){if(256==(256&i[vt]))throw new te(911,!1);null===i[zs]&&(i[zs]=[]),i[zs].push(o)}(this._lView,o)}markForCheck(){Tp(this._cdRefInjectingView||this._lView)}detach(){this._lView[vt]&=-129}reattach(){this._lView[vt]|=128}detectChanges(){Sc(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function W(i,o){up(i,o,o[Et],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=o}}class tD extends jh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Sc(o[Ye],o,o[ln],!1)}checkNoChanges(){}get context(){return null}}class Gp extends ay{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Gt(o);return new qp(a,this.ngModule)}}function c0(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class nD{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=Cn(c);const d=this.injector.get(o,_p,c);return d!==_p||a===_p?d:this.parentInjector.get(o,a,c)}}class qp extends Mh{get inputs(){const o=this.componentDef,a=o.inputTransforms,c=c0(o.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return c0(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Ud(i){return i.map(Vd).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof Da?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new nD(o,p):o,_=y.get(xE,null);if(null===_)throw new te(407,!1);const F={rendererFactory:_,sanitizer:y.get(L_,null),effectManager:y.get(Hp,null),afterRenderEventManager:y.get(py,null)},z=_.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",me=c?function zE(i,o,a,c){const p=c.get(W_,!1)||a===Me.ShadowDom,y=i.selectRootElement(o,p);return function GE(i){qE(i)}(y),y}(z,c,this.componentDef.encapsulation,y):T(z,K,function Ta(i){const o=i.toLowerCase();return"svg"===o?Bf:"math"===o?"math":null}(K)),gt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ae=null;null!==me&&(Ae=P_(me,y,!0));const Pt=Fp(0,null,null,1,0,null,null,null,null,null,null),Vt=Vh(null,Pt,null,gt,null,null,F,z,y,null,Ae);let pn,Qn;sh(Vt);try{const Ii=this.componentDef;let om,Pu=null;Ii.findHostDirectiveDefs?(om=[],Pu=new Map,Ii.findHostDirectiveDefs(Ii,om,Pu),om.push(Ii)):om=[Ii];const Bv=function l0(i,o){const a=i[Ye],c=Lt;return i[c]=o,Cc(a,c,2,"#host",null)}(Vt,me),XA=function Zp(i,o,a,c,d,p,y){const _=d[Ye];!function iD(i,o,a,c){for(const d of i)o.mergedAttrs=ao(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(id(o,o.mergedAttrs,!0),null!==a&&cp(c,a,o))}(c,i,o,y);let D=null;null!==o&&(D=P_(o,d[ms]));const S=p.rendererFactory.createRenderer(o,a);let x=16;a.signals?x=4096:a.onPush&&(x=64);const F=Vh(d,kp(a),null,x,d[i.index],i,p,S,null,null,D);return _.firstCreatePass&&e0(_,i,c.length-1),Ey(d,F),d[i.index]=F}(Bv,me,Ii,om,Vt,F,z);Qn=Qd(Pt,Lt),me&&function Ay(i,o,a,c){if(c)Yo(i,a,["ng-version",cy.full]);else{const{attrs:d,classes:p}=function Ti(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&o.push(p,i[++c]):8===d&&a.push(p);else{if(!Qr(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&Yo(i,a,d),p&&p.length>0&&oE(i,a,p.join(" "))}}(z,Ii,me,c),void 0!==a&&function sD(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(Qn,this.ngContentSelectors,a),pn=function d0(i,o,a,c,d,p){const y=Zn(),_=d[Ye],D=Fr(y,d);Up(_,d,y,a,null,c);for(let x=0;x<a.length;x++)br(bs(d,_,y.directiveStart+x,y),d);Bp(_,d,y),D&&br(D,d);const S=bs(d,_,y.directiveStart+y.componentOffset,y);if(i[ln]=d[ln]=S,null!==p)for(const x of p)x(S,o);return vy(_,y,i),S}(XA,Ii,om,Pu,Vt,[My]),s0(Pt,Vt,null)}finally{tc()}return new rD(this.componentType,pn,Xl(Qn,Vt),Vt,Qn)}}class rD extends YT{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new tD(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const p=this._rootLView;Ty(p[Ye],p,d,o,a),this.previousInputValues.set(o,a),Tp(On(this._tNode.index,p))}}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function My(){const i=Zn();Dr(fe()[Ye],i)}function xy(i){let o=function oD(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(Jr(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new te(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=Kp(i.inputs),y.inputTransforms=Kp(i.inputTransforms),y.declaredInputs=Kp(i.declaredInputs),y.outputs=Kp(i.outputs);const _=d.hostBindings;_&&f0(i,_);const D=d.viewQuery,S=d.contentQueries;if(D&&aD(i,D),S&&h0(i,S),j(i.inputs,d.inputs),j(i.declaredInputs,d.declaredInputs),j(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),j(y.inputTransforms,d.inputTransforms)),Jr(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const _=p[y];_&&_.ngInherit&&_(i),_===xy&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Wp(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=ao(d.hostAttrs,a=ao(a,d.hostAttrs))}}(c)}function Kp(i){return i===nt?{}:i===qe?[]:i}function aD(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function h0(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,p)=>{o(c,d,p),a(c,d,p)}:o}function f0(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function Yp(i){const o=i.inputConfig,a={};for(const c in o)if(o.hasOwnProperty(c)){const d=o[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function Qp(i){return!!m0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function m0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ui(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Jp(i,o,a,c){const d=fe();return Ui(d,Is(),o)&&(Wt(),os(Tn(),d,i,o,a,c)),Jp}function Mc(i,o,a,c){return Ui(i,Is(),a)?o+X(a)+c:kt}function Ln(i,o,a,c,d,p,y,_){const D=fe(),S=Wt(),x=i+Lt,F=S.firstCreatePass?function wD(i,o,a,c,d,p,y,_,D){const S=o.consts,x=Cc(o,i,4,y||null,Zs(S,_));$o(o,a,x,Zs(S,D)),Dr(o,x);const F=x.tView=Fp(2,x,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S,null);return null!==o.queries&&(o.queries.template(o,x),F.queries=o.queries.embeddedTView(x)),x}(x,S,D,o,a,c,d,p,y):S.data[x];Hi(F,!1);const z=dt(S,D,F,i);Ks()&&ap(S,D,z,F),br(z,D),Ey(D,D[x]=rd(z,D,z,F)),fi(F)&&X_(S,D,F),null!=y&&Op(D,F,_)}let dt=function qh(i,o,a,c){return rn(!0),o[Et].createComment("")};function We(i){return function xi(i,o){return i[o]}(function _l(){return It.lFrame.contextLView}(),Lt+i)}function Zh(i,o,a){const c=fe();return Ui(c,Is(),o)&&ss(Wt(),Tn(),c,i,o,c[Et],a,!1),Zh}function ng(i,o,a,c,d){const y=d?"class":"style";Ty(i,a,o.inputs[y],y,c)}function Fy(i,o,a,c){const d=fe(),p=Wt(),y=Lt+i,_=d[Et],D=p.firstCreatePass?function cd(i,o,a,c,d,p){const y=o.consts,D=Cc(o,i,2,c,Zs(y,d));return $o(o,a,D,Zs(y,p)),null!==D.attrs&&id(D,D.attrs,!1),null!==D.mergedAttrs&&id(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(y,p,d,o,a,c):p.data[y],S=Wh(p,d,D,_,o,i);d[y]=S;const x=fi(D);return Hi(D,!0),cp(_,S,D),32!=(32&D.flags)&&Ks()&&ap(p,d,S,D),0===function th(){return It.lFrame.elementDepthCount}()&&br(S,d),function Ga(){It.lFrame.elementDepthCount++}(),x&&(X_(p,d,D),vy(p,D,d)),null!==c&&Op(d,D),Fy}function ld(){let i=Zn();sr()?Eo():(i=i.parent,Hi(i,!1));const o=i;(function Io(i){return It.skipHydrationRootTNode===i})(o)&&function Yv(){It.skipHydrationRootTNode=null}(),function Hf(){It.lFrame.elementDepthCount--}();const a=Wt();return a.firstCreatePass&&(Dr(a,i),Bu(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function sc(i){return 0!=(8&i.flags)}(o)&&ng(a,o,fe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Sn(i){return 0!=(16&i.flags)}(o)&&ng(a,o,fe(),o.stylesWithoutHost,!1),ld}function D0(i,o,a,c){return Fy(i,o,a,c),ld(),D0}let Wh=(i,o,a,c,d,p)=>(rn(!0),T(c,d,function ti(){return It.lFrame.currentNamespace}()));function ig(){return fe()}function Fs(i){return!!i&&"function"==typeof i.then}function DD(i){return!!i&&"function"==typeof i.subscribe}function dd(i,o,a,c){const d=fe(),p=Wt(),y=Zn();return function xc(i,o,a,c,d,p,y){const _=fi(c),S=i.firstCreatePass&&r0(i),x=o[ln],F=n0(o);let z=!0;if(3&c.type||y){const Fe=Fr(c,o),Je=y?y(Fe):Fe,gt=F.length,Ae=y?Vt=>y(dn(Vt[c.index])):c.index;let Pt=null;if(!y&&_&&(Pt=function AS(i,o,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===c){const _=o[Ba],D=d[p+2];return _.length>D?_[D]:null}"string"==typeof y&&(p+=2)}return null}(i,o,d,c.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=p,Pt.__ngLastListenerFn__=p,z=!1;else{p=Vy(c,o,x,p,!1);const Vt=a.listen(Je,d,p);F.push(p,Vt),S&&S.push(d,Ae,gt,gt+1)}}else p=Vy(c,o,x,p,!1);const K=c.outputs;let me;if(z&&null!==K&&(me=K[d])){const Fe=me.length;if(Fe)for(let Je=0;Je<Fe;Je+=2){const pn=o[me[Je]][me[Je+1]].subscribe(p),Qn=F.length;F.push(p,pn),S&&S.push(d,c.index,Qn,-(Qn+1))}}}(p,d,d[Et],y,i,o,c),dd}function T0(i,o,a,c){try{return Mi(6,o,a),!1!==a(c)}catch(d){return by(i,d),!1}finally{Mi(7,o,a)}}function Vy(i,o,a,c,d){return function p(y){if(y===Function)return c;Tp(i.componentOffset>-1?On(i.index,o):o);let D=T0(o,a,c,y),S=p.__ngNextListenerFn__;for(;S;)D=T0(o,a,S,y)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&y.preventDefault(),D}}function CD(i=1){return function qf(i){return(It.lFrame.contextLView=function nc(i,o){for(;i>0;)o=o[ys],i--;return o}(i,It.lFrame.contextLView))[ln]}(i)}function MS(i,o){let a=null;const c=function Ld(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(i);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===c?tl(i,p,!0):Af(c,p))return d}else a=d}return a}function us(i){const o=fe()[vn][pr];if(!o.projection){const c=o.projection=je(i?i.length:1,null),d=c.slice();let p=o.child;for(;null!==p;){const y=i?MS(p,i):0;null!==y&&(d[y]?d[y].projectionNext=p:c[y]=p,d[y]=p),p=p.next}}}function Kh(i,o=0,a){const c=fe(),d=Wt(),p=Cc(d,Lt+i,16,null,a||null);null===p.projection&&(p.projection=o),Eo(),(!c[Ai]||da())&&32!=(32&p.flags)&&function ET(i,o,a){iE(o[Et],0,o,a,Fo(i,a,o),Gm(a.parent||o[pr],a,o))}(d,c,p)}function hd(i,o,a){return sg(i,"",o,"",a),hd}function sg(i,o,a,c,d){const p=fe(),y=Mc(p,o,a,c);return y!==kt&&ss(Wt(),Tn(),p,i,y,p[Et],d,!1),sg}function Uy(i,o){return i<<17|o<<2}function Nc(i){return i>>17&32767}function x0(i){return 2|i}function fd(i){return(131068&i)>>2}function N0(i,o){return-131069&i|o<<2}function R0(i){return 1|i}function SD(i,o,a,c,d){const p=i[a+1],y=null===o;let _=c?Nc(p):fd(p),D=!1;for(;0!==_&&(!1===D||y);){const x=i[_+1];AD(i[_],o)&&(D=!0,i[_+1]=c?R0(x):x0(x)),_=c?Nc(x):fd(x)}D&&(i[a+1]=c?x0(p):R0(p))}function AD(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&As(i,o)>=0}function $y(i,o){return function an(i,o,a,c){const d=fe(),p=Wt(),y=function or(i){const o=It.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);p.firstUpdatePass&&function cg(i,o,a,c){const d=i.data;if(null===d[a+1]){const p=d[ei()],y=function ug(i,o){return o>=i.expandoStartIndex}(i,a);(function zy(i,o){return 0!=(i.flags&(o?8:16))})(p,c)&&null===o&&!y&&(o=!1),o=function lg(i,o,a,c){const d=function Co(i){const o=It.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=no(a=Yh(null,i,o,a,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==d)if(a=Yh(d,i,o,a,c),null===p){let D=function LS(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==fd(c))return i[Nc(c)]}(i,o,c);void 0!==D&&Array.isArray(D)&&(D=Yh(null,i,o,D[1],c),D=no(D,o.attrs,c),function Rc(i,o,a,c){i[Nc(a?o.classBindings:o.styleBindings)]=c}(i,o,c,D))}else p=function Pc(i,o,a){let c;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)c=no(c,i[p].hostAttrs,a);return no(c,o.attrs,a)}(i,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,c),function PS(i,o,a,c,d,p){let y=p?o.classBindings:o.styleBindings,_=Nc(y),D=fd(y);i[c]=a;let x,S=!1;if(Array.isArray(a)?(x=a[1],(null===x||As(a,x)>0)&&(S=!0)):x=a,d)if(0!==D){const z=Nc(i[_+1]);i[c+1]=Uy(z,_),0!==z&&(i[z+1]=N0(i[z+1],c)),i[_+1]=function NS(i,o){return 131071&i|o<<17}(i[_+1],c)}else i[c+1]=Uy(_,0),0!==_&&(i[_+1]=N0(i[_+1],c)),_=c;else i[c+1]=Uy(D,0),0===_?_=c:i[D+1]=N0(i[D+1],c),D=c;S&&(i[c+1]=x0(i[c+1])),SD(i,x,c,!0),SD(i,x,c,!1),function OS(i,o,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&As(p,o)>=0&&(a[c+1]=R0(a[c+1]))}(o,x,i,c,p),y=Uy(_,D),p?o.classBindings=y:o.styleBindings=y}(d,p,o,a,y,c)}}(p,i,y,c),o!==kt&&Ui(d,y,o)&&function gd(i,o,a,c,d,p,y,_){if(!(3&o.type))return;const D=i.data,S=D[_+1],x=function RS(i){return 1==(1&i)}(S)?Hy(D,o,a,d,fd(S),y):void 0;md(x)||(md(p)||function xS(i){return 2==(2&i)}(S)&&(p=Hy(D,null,a,d,_,y)),function CT(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:ep.DashCase;null==d?i.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ep.Important),i.setStyle(a,c,d,p))}}(c,y,Qu(ei(),a),d,p))}(p,p.data[ei()],d,d[Et],i,d[y+1]=function yd(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=Y(fu(i)))),i}(o,a),c,y)}(i,o,null,!0),$y}function Yh(i,o,a,c,d){let p=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(p=o[_],c=no(c,p.hostAttrs,d),p!==i);)_++;return null!==i&&(a.directiveStylingLast=_),c}function no(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),cn(i,y,!!a||o[++p]))}return void 0===i?null:i}function Hy(i,o,a,c,d,p){const y=null===o;let _;for(;d>0;){const D=i[d],S=Array.isArray(D),x=S?D[1]:D,F=null===x;let z=a[d+1];z===kt&&(z=F?qe:void 0);let K=F?wn(z,c):x===c?z:void 0;if(S&&!md(K)&&(K=wn(D,c)),md(K)&&(_=K,y))return _;const me=i[d+1];d=y?Nc(me):fd(me)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(_=wn(D,c))}return _}function md(i){return void 0!==i}function Jh(i,o=""){const a=fe(),c=Wt(),d=i+Lt,p=c.firstCreatePass?Cc(c,d,1,o,null):c.data[d],y=F0(c,a,p,o,i);a[d]=y,Ks()&&ap(c,a,y,p),Hi(p,!1)}let F0=(i,o,a,c,d)=>(rn(!0),function f(i,o){return i.createText(o)}(o[Et],c));function vd(i){return dg("",i,""),vd}function dg(i,o,a){const c=fe(),d=Mc(c,i,o,a);return d!==kt&&function ba(i,o,a){const c=Qu(o,i);!function g(i,o,a){i.setValue(o,a)}(i[Et],c,a)}(c,ei(),d),dg}const Fc=void 0;var Du=["en",[["a","p"],["AM","PM"],Fc],[["AM","PM"],Fc,Fc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fc,"{1} 'at' {0}",Fc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GD(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let _d={};function Zy(i){const o=function G0(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Wy(o);if(a)return a;const c=o.split("-")[0];if(a=Wy(c),a)return a;if("en"===c)return Du;throw new te(701,!1)}function gg(i){return Zy(i)[Ar.PluralCase]}function Wy(i){return i in _d||(_d[i]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[i]),_d[i]}var Ar=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Ar||{});const wd="en-US";let xa=wd;function ro(i,o,a,c,d){if(i=xe(i),Array.isArray(i))for(let p=0;p<i.length;p++)ro(i[p],o,a,c,d);else{const p=Wt(),y=fe(),_=Zn();let D=Ql(i)?i:xe(i.provide);const S=GT(i),x=1048575&_.providerIndexes,F=_.directiveStart,z=_.providerIndexes>>20;if(Ql(i)||!i.multi){const K=new mt(S,d,nd),me=Cd(D,o,d?x:x+z,F);-1===me?(Ni(Ja(_,y),p,D),xg(p,i,o.length),o.push(D),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),a.push(K),y.push(K)):(a[me]=K,y[me]=K)}else{const K=Cd(D,o,x+z,F),me=Cd(D,o,x,x+z),Je=me>=0&&a[me];if(d&&!Je||!d&&!(K>=0&&a[K])){Ni(Ja(_,y),p,D);const gt=function XS(i,o,a,c,d){const p=new mt(i,a,nd);return p.multi=[],p.index=o,p.componentProviders=0,fw(p,d,c&&!a),p}(d?lC:cC,a.length,d,c,S);!d&&Je&&(a[me].providerFactory=gt),xg(p,i,o.length,0),o.push(D),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),a.push(gt),y.push(gt)}else xg(p,i,K>-1?K:me,fw(a[d?me:K],S,!d&&c));!d&&c&&Je&&a[me].componentProviders++}}}function xg(i,o,a,c){const d=Ql(o),p=function HT(i){return!!i.useClass}(o);if(d||p){const D=(p?xe(o.useClass):o).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const x=S.indexOf(a);-1===x?S.push(a,[c,D]):S[x+1].push(c,D)}else S.push(a,D)}}}function fw(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Cd(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function cC(i,o,a,c){return rv(this.multi,[])}function lC(i,o,a,c){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=bs(a,a[Ye],this.providerFactory.index,c);p=_.slice(0,y),rv(d,p);for(let D=y;D<_.length;D++)p.push(_[D])}else p=[],rv(d,p);return p}function rv(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function dC(i,o=[]){return a=>{a.providersResolver=(c,d)=>function Mg(i,o,a){const c=Wt();if(c.firstCreatePass){const d=Jr(i);ro(a,c.data,c.blueprint,d,!0),ro(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class Zo{}class iv{}function eA(i,o){return new Ng(i,o??null,[])}class Ng extends Zo{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gp(this);const d=Rr(o);this._bootstrapComponents=gu(d.bootstrap),this._r3Injector=j_(o,a,[{provide:Zo,useValue:this},{provide:ay,useValue:this.componentFactoryResolver},...c],Y(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class sv extends iv{constructor(o){super(),this.moduleType=o}create(o){return new Ng(this.moduleType,o,[])}}class pw extends Zo{constructor(o){super(),this.componentFactoryResolver=new Gp(this),this.instance=null;const a=new gp([...o.providers,{provide:Zo,useValue:this},{provide:ay,useValue:this.componentFactoryResolver}],o.parent||ty(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function hC(i,o,a=null){return new pw({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let rA=(()=>{var i;class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=jT(0,c.type),p=d.length>0?hC([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,p)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return(i=o).\u0275prov=Nt({token:i,providedIn:"environment",factory:()=>new i(wt(Da))}),o})();function fC(i){i.getStandaloneInjector=o=>o.get(rA).getOrCreateStandaloneInjector(i)}function av(){return this._results[Symbol.iterator]()}class Dw{get changes(){return this._changes||(this._changes=new jo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Dw.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=av)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function O(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function A(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function lA(i,o,a,c=!0){const d=o[Ye];if(function Ue(i,o,a,c){const d=mr+c,p=a.length;c>0&&(a[d-1][Pr]=o),c<p-mr?(o[Pr]=a[d],Z(a,mr+c,o)):(a.push(o),o[Pr]=null),o[yn]=a;const y=o[sl];null!==y&&a!==y&&function rt(i,o){const a=i[rr];o[vn]!==o[yn][yn][vn]&&(i[Uu]=!0),null===a?i[rr]=[o]:a.push(o)}(y,o);const _=o[tr];null!==_&&_.insertView(i),o[vt]|=128}(d,o,i,a),c){const p=u_(a,i),y=o[Et],_=Ih(y,i[nr]);null!==_&&function B(i,o,a,c,d,p){c[mn]=d,c[pr]=o,up(i,c,a,1,d,p)}(d,i[pr],y,o,_,p)}}let Su=(()=>{class o{}return o.__NG_ELEMENT_ID__=TC,o})();const uv=Su,Fg=class extends uv{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,c){const d=function Cw(i,o,a,c){const d=o.tView,_=Vh(i,d,a,4096&i[vt]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);_[sl]=i[o.index];const S=i[tr];return null!==S&&(_[tr]=S.createEmbeddedView(d)),s0(d,_,a),_}(this._declarationLView,this._declarationTContainer,o,{injector:a,hydrationInfo:c});return new jh(d)}};function TC(){return Lg(Zn(),fe())}function Lg(i,o){return 4&i.type?new Fg(o,i,Xl(i,o)):null}let Au=(()=>{class o{}return o.__NG_ELEMENT_ID__=NC,o})();function NC(){return PC(Zn(),fe())}const $c=Au,Tw=class extends $c{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Xl(this._hostTNode,this._hostLView)}get injector(){return new An(this._hostTNode,this._hostLView)}get parentInjector(){const o=Mo(this._hostTNode,this._hostLView);if(Ml(o)){const a=es(o,this._hostLView),c=Qs(o);return new An(a[Ye].data[c+8],a)}return new An(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=RC(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-mr}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const _=o.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(_,d,false),_}createComponent(o,a,c,d,p){const y=o&&!function b(i){return"function"==typeof i}(o);let _;if(y)_=a;else{const Fe=a||{};_=Fe.index,c=Fe.injector,d=Fe.projectableNodes,p=Fe.environmentInjector||Fe.ngModuleRef}const D=y?o:new qp(Gt(o)),S=c||this.parentInjector;if(!p&&null==D.ngModule){const Je=(y?S:this.parentInjector).get(Da,null);Je&&(p=Je)}Gt(D.componentType??{});const K=D.create(S,d,null,p);return this.insertImpl(K.hostView,_,false),K}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const d=o._lView;if(function gl(i){return Er(i[yn])}(d)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const S=d[yn],x=new Tw(S,S[pr],S[yn]);x.detach(x.indexOf(o))}}const y=this._adjustIndex(a),_=this._lContainer;return lA(_,d,y,!c),o.attachToViewContainerRef(),Z(cv(_),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=RC(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=In(this._lContainer,a);c&&(ce(cv(this._lContainer),a),Oi(c[Ye],c))}detach(o){const a=this._adjustIndex(o,-1),c=In(this._lContainer,a);return c&&null!=ce(cv(this._lContainer),a)?new jh(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function RC(i){return i[8]}function cv(i){return i[8]||(i[8]=[])}function PC(i,o){let a;const c=o[i.index];return Er(c)?a=c:(a=rd(c,o,null,i),o[i.index]=a,Ey(o,a)),kC(a,o,i,c),new Tw(a,i,o)}let kC=function Ug(i,o,a,c){if(i[nr])return;let d;d=8&a.type?dn(c):function OC(i,o){const a=i[Et],c=a.createComment(""),d=Fr(o,i);return Lo(a,Ih(a,d),c,function op(i,o){return i.nextSibling(o)}(a,d),!1),c}(o,a),i[nr]=d};class lv{constructor(o){this.queryList=o,this.matches=null}clone(){return new lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new Sw(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Bg(o,a).matches&&this.queries[a].setDirty()}}class Aw{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Mu{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Mu(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Nd{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Nd(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,LC(a,p)),this.matchTNodeWithReadOption(o,a,cc(a,o,p,!1,!1))}else c===Su?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,cc(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ed||d===Au||d===Su&&4&a.type)this.addMatch(a.index,-2);else{const p=cc(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function LC(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function fA(i,o,a,c){return-1===a?function VC(i,o){return 11&i.type?Xl(i,o):4&i.type?Lg(i,o):null}(o,i):-2===a?function UC(i,o,a){return a===ed?Xl(o,i):a===Su?Lg(o,i):a===Au?PC(o,i):void 0}(i,o,c):bs(i,i[Ye],a,o)}function BC(i,o,a,c){const d=o[tr].queries[c];if(null===d.matches){const p=i.data,y=a.matches,_=[];for(let D=0;D<y.length;D+=2){const S=y[D];_.push(S<0?null:fA(o,p[S],y[D+1],a.metadata.read))}d.matches=_}return d.matches}function Mw(i,o,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=BC(i,o,d,a);for(let _=0;_<p.length;_+=2){const D=p[_];if(D>0)c.push(y[_/2]);else{const S=p[_+1],x=o[-D];for(let F=mr;F<x.length;F++){const z=x[F];z[sl]===z[yn]&&Mw(z[Ye],z,S,c)}if(null!==x[rr]){const F=x[rr];for(let z=0;z<F.length;z++){const K=F[z];Mw(K[Ye],K,S,c)}}}}}return c}function dv(i){const o=fe(),a=Wt(),c=ih();Cl(c+1);const d=Bg(a,c);if(i.dirty&&function ca(i){return 4==(4&i[vt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Mw(a,o,c,[]):BC(a,o,d,c);i.reset(p,ME),i.notifyOnChanges()}return!0}return!1}function jC(i,o,a,c){const d=Wt();if(d.firstCreatePass){const p=Zn();(function hv(i,o,a){null===i.queries&&(i.queries=new Mu),i.queries.track(new Nd(o,a))})(d,new Aw(o,a,c),p.index),function gA(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function HC(i,o,a){const c=new Dw(4==(4&a));(function _y(i,o,a,c){const d=n0(o);d.push(a),i.firstCreatePass&&r0(i).push(c,d.length-1)})(i,o,c,c.destroy),null===o[tr]&&(o[tr]=new Sw),o[tr].queries.push(new lv(c))}(d,fe(),a)}function $C(){return function pA(i,o){return i[tr].queries[o].queryList}(fe(),ih())}function Bg(i,o){return i.queries.getByIndex(o)}function jg(i){return!!Rr(i)}const gf=new hn("Application Initializer");let Wg=(()=>{var i;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Mt(gf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const p of this.appInits){const y=p();if(Fs(y))c.push(y);else if(DD(y)){const _=new Promise((D,S)=>{y.subscribe({complete:D,error:S})});c.push(_)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(p=>{this.reject(p)}),0===c.length&&d(),this.initialized=!0}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})(),Gw=(()=>{var i;class o{log(c){console.log(c)}warn(c){console.warn(c)}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();const mf=new hn("LocaleId",{providedIn:"root",factory:()=>Mt(mf,lt.Optional|lt.SkipSelf)||function qw(){return typeof $localize<"u"&&$localize.locale||wd}()}),Gc=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let rb=(()=>{var i;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ne.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();class Ww{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let bA=(()=>{var i;class o{compileModuleSync(c){return new sv(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),y=gu(Rr(c).declarations).reduce((_,D)=>{const S=Gt(D);return S&&_.push(new qp(S)),_},[]);return new Ww(d,y)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();const ab=new hn(""),ub=new hn("");let Yg,sI=(()=>{var i;class o{constructor(c,d,p){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yg||(function oI(i){Yg=i}(p),p.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,p){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==y),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:y,updateCb:p})}whenStable(c,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,p){return[]}}return(i=o).\u0275fac=function(c){return new(c||i)(wt(Sr),wt(Dv),wt(ub))},i.\u0275prov=Nt({token:i,factory:i.\u0275fac}),o})(),Dv=(()=>{var i;class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Yg?.findTestabilityInTree(this,c,d)??null}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})(),Wc=null;const cb=new hn("AllowMultipleToken"),Qg=new hn("PlatformDestroyListeners"),Jg=new hn("appBootstrapListener");class hb{constructor(o,a){this.name=o,this.token=a}}function mb(i,o,a=[]){const c=`Platform: ${o}`,d=new hn(c);return(p=[])=>{let y=Xg();if(!y||y.injector.get(cb,!1)){const _=[...a,...p,{provide:d,useValue:!0}];i?i(_):function fb(i){if(Wc&&!Wc.get(cb,!1))throw new te(400,!1);(function lb(){!function hl(i){Wu=i}(()=>{throw new te(600,!1)})})(),Wc=i;const o=i.get(vb);(function gb(i){i.get(DE,null)?.forEach(a=>a())})(i)}(function Cv(i=[],o){return is.create({name:o,providers:[{provide:Sh,useValue:"platform"},{provide:Qg,useValue:new Set([()=>Wc=null])},...i]})}(_,c))}return function kA(i){const o=Xg();if(!o)throw new te(401,!1);return o}()}}function Xg(){return Wc?.get(vb)??null}let vb=(()=>{var i;class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const p=function FA(i="zone.js",o){return"noop"===i?new dy:"zone.js"===i?new Sr(o):i}(d?.ngZone,function bv(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return p.run(()=>{const y=function nA(i,o,a){return new Ng(i,o,a)}(c.moduleType,this.injector,function Av(i){return[{provide:Sr,useFactory:i},{provide:Jm,multi:!0,useFactory:()=>{const o=Mt(uI,{optional:!0});return()=>o.initialize()}},{provide:Sv,useFactory:LA},{provide:hy,useFactory:LE}]}(()=>p)),_=y.injector.get(td,null);return p.runOutsideAngular(()=>{const D=p.onError.subscribe({next:S=>{_.handleError(S)}});y.onDestroy(()=>{em(this._modules,y),D.unsubscribe()})}),function Tv(i,o,a){try{const c=a();return Fs(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(_,p,()=>{const D=y.injector.get(Wg);return D.runInitializers(),D.donePromise.then(()=>(function ZD(i){Xe(i,"Expected localeId to be defined"),"string"==typeof i&&(xa=i.toLowerCase().replace(/_/g,"-"))}(y.injector.get(mf,wd)||wd),this._moduleDoBootstrap(y),y))})})}bootstrapModule(c,d=[]){const p=aI({},d);return function PA(i,o,a){const c=new sv(a);return Promise.resolve(c)}(0,0,c).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(c){const d=c.injector.get(Kc);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new te(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Qg,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=o).\u0275fac=function(c){return new(c||i)(wt(is))},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();function aI(i,o){return Array.isArray(o)?o.reduce(aI,i):{...i,...o}}let Kc=(()=>{var i;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Mt(Sv),this.zoneIsStable=Mt(hy),this.componentTypes=[],this.components=[],this.isStable=Mt(rb).hasPendingTasks.pipe((0,Re.w)(c=>c?(0,he.of)(!1):this.zoneIsStable),(0,de.x)(),(0,pe.B)()),this._injector=Mt(Da)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const p=c instanceof Mh;if(!this._injector.get(Wg).done)throw!p&&Hs(c),new te(405,!1);let _;_=p?c:this._injector.get(ay).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const D=function db(i){return i.isBoundToModule}(_)?void 0:this._injector.get(Zo),x=_.create(is.NULL,[],d||_.selector,D),F=x.location.nativeElement,z=x.injector.get(ab,null);return z?.registerApplication(F),x.onDestroy(()=>{this.detachView(x.hostView),em(this.components,x),z?.unregisterApplication(F)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;em(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Jg,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>em(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function em(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const Sv=new hn("",{providedIn:"root",factory:()=>Mt(td).handleError.bind(void 0)});function LA(){const i=Mt(Sr),o=Mt(td);return a=>i.runOutsideAngular(()=>o.handleError(a))}let uI=(()=>{var i;class o{constructor(){this.zone=Mt(Sr),this.applicationRef=Mt(Kc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Nt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function cI(){return!1}let dI=(()=>{class o{}return o.__NG_ELEMENT_ID__=UA,o})();function UA(i){return function hI(i,o,a){if(po(i)&&!a){const c=On(i.index,o);return new jh(c,c)}return 47&i.type?new jh(o[vn],o):null}(Zn(),fe(),16==(16&i))}class Rv{constructor(){}supports(o){return Qp(o)}create(o){return new $A(o)}}const mI=(i,o)=>o;class $A{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||mI}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<yI(c,d,p)?a:c,_=yI(y,d,p),D=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const S=_-d,x=D-d;if(S!=x){for(let z=0;z<S;z++){const K=z<p.length?p[z]:p[z]=0,me=K+z;x<=me&&me<S&&(p[z]=K+1)}p[y.previousIndex]=x-S}}_!==D&&o(y,_,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Qp(o))throw new te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let _=0;_<this.length;_++)p=o[_],y=this._trackByFn(_,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,_)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,_),c=!0),a=a._next}else d=0,function $h(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,_=>{y=this._trackByFn(d,_),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,_,y,d)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new rm(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Pv),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class rm{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Pv{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new HA,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yI(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class kd{constructor(){}supports(o){return o instanceof Map||m0(o)}create(){return new Ab}}class Ab{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||m0(o)))throw new te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const c=new Ov(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class Ov{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mb(){return new vI([new Rv])}let vI=(()=>{var i;class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const p=d.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Mb()),deps:[[o,new fh,new Rl]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(null!=d)return d;throw new te(901,!1)}}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:Mb}),o})();function xb(){return new _f([new kd])}let _f=(()=>{var i;class o{constructor(c){this.factories=c}static create(c,d){if(d){const p=d.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||xb()),deps:[[o,new fh,new Rl]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new te(901,!1)}}return(i=o).\u0275prov=Nt({token:i,providedIn:"root",factory:xb}),o})();const II=mb(null,"core",[]);let EI=(()=>{var i;class o{constructor(c){}}return(i=o).\u0275fac=function(c){return new(c||i)(wt(Kc))},i.\u0275mod=Va({type:i}),i.\u0275inj=En({}),o})();function Vv(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function jb(i){const o=Gt(i);if(!o)return null;const a=new qp(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3106:(ot,De,P)=>{P.d(De,{Z:()=>Ze});var h=P(9058),Q=P(4537),k=P(534),J=P(7879);class ne{constructor(ze,Oe){this._delegate=ze,this.firebase=Oe,(0,k._addComponent)(ze,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ze,Oe=k._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(ze);return!at.isInitialized()&&"EXPLICIT"===(null===(ht=at.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&at.initialize(),at.getImmediate({identifier:Oe})}_removeServiceInstance(ze,Oe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(Oe)}_addComponent(ze){(0,k._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,k._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function de(){const xe=function Re(xe){const ze={},Oe={__esModule:!0,initializeApp:function te(Pe,Ge={}){const se=k.initializeApp(Pe,Ge);if((0,h.r3)(ze,se.name))return ze[se.name];const yt=new xe(se,Oe);return ze[se.name]=yt,yt},app:at,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function X(Pe){const Ge=Pe.name,se=Ge.replace("-compat","");if(k._registerComponent(Pe)&&"PUBLIC"===Pe.type){const yt=(Ut=at())=>{if("function"!=typeof Ut[se])throw pe.create("invalid-app-argument",{appName:Ge});return Ut[se]()};void 0!==Pe.serviceProps&&(0,h.ZB)(yt,Pe.serviceProps),Oe[se]=yt,xe.prototype[se]=function(...Ut){return this._getService.bind(this,Ge).apply(this,Pe.multipleInstances?Ut:[])}}return"PUBLIC"===Pe.type?Oe[se]:null},removeApp:function ht(Pe){delete ze[Pe]},useAsService:function Ce(Pe,Ge){return"serverAuth"===Ge?null:Ge},modularAPIs:k}};function at(Pe){if(!(0,h.r3)(ze,Pe=Pe||k._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:Pe});return ze[Pe]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function ve(){return Object.keys(ze).map(Pe=>ze[Pe])}}),at.App=xe,Oe}(ne);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ze(Oe){(0,h.ZB)(xe,Oe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),xe}(),j=new J.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=L;!function Se(xe){(0,k.registerVersion)("@firebase/app-compat","0.2.13",xe)}()},534:(ot,De,P)=>{P.r(De),P.d(De,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>so,_DEFAULT_ENTRY_NAME:()=>lt,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>Wr,_apps:()=>At,_clearComponents:()=>Kt,_components:()=>un,_getProvider:()=>hr,_registerComponent:()=>Qt,_removeServiceInstance:()=>ka,deleteApp:()=>$i,getApp:()=>Ei,getApps:()=>js,initializeApp:()=>oo,onLog:()=>Yr,registerVersion:()=>Xn,setLogLevel:()=>jn});var h=P(5861),Q=P(4537),k=P(7879),J=P(9058);const ne=(ue,ee)=>ee.some(Me=>ue instanceof Me);let he,pe;const L=new WeakMap,j=new WeakMap,Y=new WeakMap,Le=new WeakMap,Se=new WeakMap;let ze={get(ue,ee,Me){if(ue instanceof IDBTransaction){if("done"===ee)return j.get(ue);if("objectStoreNames"===ee)return ue.objectStoreNames||Y.get(ue);if("store"===ee)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return te(ue[ee])},set:(ue,ee,Me)=>(ue[ee]=Me,!0),has:(ue,ee)=>ue instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in ue};function at(ue){return"function"==typeof ue?function ht(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...ee){return ue.apply(ve(this),ee),te(L.get(this))}:function(...ee){return te(ue.apply(ve(this),ee))}:function(ee,...Me){const nt=ue.call(ve(this),ee,...Me);return Y.set(nt,ee.sort?ee.sort():[ee]),te(nt)}}(ue):(ue instanceof IDBTransaction&&function xe(ue){if(j.has(ue))return;const ee=new Promise((Me,nt)=>{const qe=()=>{ue.removeEventListener("complete",Rt),ue.removeEventListener("error",Zt),ue.removeEventListener("abort",Zt)},Rt=()=>{Me(),qe()},Zt=()=>{nt(ue.error||new DOMException("AbortError","AbortError")),qe()};ue.addEventListener("complete",Rt),ue.addEventListener("error",Zt),ue.addEventListener("abort",Zt)});j.set(ue,ee)}(ue),ne(ue,function Re(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,ze):ue)}function te(ue){if(ue instanceof IDBRequest)return function Ze(ue){const ee=new Promise((Me,nt)=>{const qe=()=>{ue.removeEventListener("success",Rt),ue.removeEventListener("error",Zt)},Rt=()=>{Me(te(ue.result)),qe()},Zt=()=>{nt(ue.error),qe()};ue.addEventListener("success",Rt),ue.addEventListener("error",Zt)});return ee.then(Me=>{Me instanceof IDBCursor&&L.set(Me,ue)}).catch(()=>{}),Se.set(ee,ue),ee}(ue);if(Le.has(ue))return Le.get(ue);const ee=at(ue);return ee!==ue&&(Le.set(ue,ee),Se.set(ee,ue)),ee}const ve=ue=>Se.get(ue),Pe=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],se=new Map;function yt(ue,ee){if(!(ue instanceof IDBDatabase)||ee in ue||"string"!=typeof ee)return;if(se.get(ee))return se.get(ee);const Me=ee.replace(/FromIndex$/,""),nt=ee!==Me,qe=Ge.includes(Me);if(!(Me in(nt?IDBIndex:IDBObjectStore).prototype)||!qe&&!Pe.includes(Me))return;const Rt=function(){var Zt=(0,h.Z)(function*($n,...Hn){const fr=this.transaction($n,qe?"readwrite":"readonly");let Ji=fr.store;return nt&&(Ji=Ji.index(Hn.shift())),(yield Promise.all([Ji[Me](...Hn),qe&&fr.done]))[0]});return function(Hn){return Zt.apply(this,arguments)}}();return se.set(ee,Rt),Rt}!function Oe(ue){ze=ue(ze)}(ue=>({...ue,get:(ee,Me,nt)=>yt(ee,Me)||ue.get(ee,Me,nt),has:(ee,Me)=>!!yt(ee,Me)||ue.has(ee,Me)}));class Ut{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function lr(ue){const ee=ue.getComponent();return"VERSION"===ee?.type}(Me)){const nt=Me.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(Me=>Me).join(" ")}}const Zr="@firebase/app",Bn=new k.Yd("@firebase/app"),lt="[DEFAULT]",Bt={[Zr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},At=new Map,un=new Map;function Dn(ue,ee){try{ue.container.addComponent(ee)}catch(Me){Bn.debug(`Component ${ee.name} failed to register with FirebaseApp ${ue.name}`,Me)}}function Wr(ue,ee){ue.container.addOrOverwriteComponent(ee)}function Qt(ue){const ee=ue.name;if(un.has(ee))return Bn.debug(`There were multiple attempts to register component ${ee}.`),!1;un.set(ee,ue);for(const Me of At.values())Dn(Me,ue);return!0}function hr(ue,ee){const Me=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),ue.container.getProvider(ee)}function ka(ue,ee,Me=lt){hr(ue,ee).clearInstance(Me)}function Kt(){un.clear()}const jt=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ps{constructor(ee,Me,nt){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const so="9.23.0";function oo(ue,ee={}){let Me=ue;"object"!=typeof ee&&(ee={name:ee});const nt=Object.assign({name:lt,automaticDataCollectionEnabled:!1},ee),qe=nt.name;if("string"!=typeof qe||!qe)throw jt.create("bad-app-name",{appName:String(qe)});if(Me||(Me=(0,J.aH)()),!Me)throw jt.create("no-options");const Rt=At.get(qe);if(Rt){if((0,J.vZ)(Me,Rt.options)&&(0,J.vZ)(nt,Rt.config))return Rt;throw jt.create("duplicate-app",{appName:qe})}const Zt=new Q.H0(qe);for(const Hn of un.values())Zt.addComponent(Hn);const $n=new ps(Me,nt,Zt);return At.set(qe,$n),$n}function Ei(ue=lt){const ee=At.get(ue);if(!ee&&ue===lt&&(0,J.aH)())return oo();if(!ee)throw jt.create("no-app",{appName:ue});return ee}function js(){return Array.from(At.values())}function $i(ue){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(ue){const ee=ue.name;At.has(ee)&&(At.delete(ee),yield Promise.all(ue.container.getProviders().map(Me=>Me.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function Xn(ue,ee,Me){var nt;let qe=null!==(nt=Bt[ue])&&void 0!==nt?nt:ue;Me&&(qe+=`-${Me}`);const Rt=qe.match(/\s|\//),Zt=ee.match(/\s|\//);if(Rt||Zt){const $n=[`Unable to register library "${qe}" with version "${ee}":`];return Rt&&$n.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),Rt&&Zt&&$n.push("and"),Zt&&$n.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void Bn.warn($n.join(" "))}Qt(new Q.wA(`${qe}-version`,()=>({library:qe,version:ee}),"VERSION"))}function Yr(ue,ee){if(null!==ue&&"function"!=typeof ue)throw jt.create("invalid-log-argument");(0,k.Am)(ue,ee)}function jn(ue){(0,k.Ub)(ue)}const Di="firebase-heartbeat-database",Ci=1,U="firebase-heartbeat-store";let V=null;function G(){return V||(V=function X(ue,ee,{blocked:Me,upgrade:nt,blocking:qe,terminated:Rt}={}){const Zt=indexedDB.open(ue,ee),$n=te(Zt);return nt&&Zt.addEventListener("upgradeneeded",Hn=>{nt(te(Zt.result),Hn.oldVersion,Hn.newVersion,te(Zt.transaction),Hn)}),Me&&Zt.addEventListener("blocked",Hn=>Me(Hn.oldVersion,Hn.newVersion,Hn)),$n.then(Hn=>{Rt&&Hn.addEventListener("close",()=>Rt()),qe&&Hn.addEventListener("versionchange",fr=>qe(fr.oldVersion,fr.newVersion,fr))}).catch(()=>{}),$n}(Di,Ci,{upgrade:(ue,ee)=>{0===ee&&ue.createObjectStore(U)}}).catch(ue=>{throw jt.create("idb-open",{originalErrorMessage:ue.message})})),V}function ie(){return(ie=(0,h.Z)(function*(ue){try{return yield(yield G()).transaction(U).objectStore(U).get(wt(ue))}catch(ee){if(ee instanceof J.ZR)Bn.warn(ee.message);else{const Me=jt.create("idb-get",{originalErrorMessage:ee?.message});Bn.warn(Me.message)}}})).apply(this,arguments)}function Ke(ue,ee){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,h.Z)(function*(ue,ee){try{const nt=(yield G()).transaction(U,"readwrite");yield nt.objectStore(U).put(ee,wt(ue)),yield nt.done}catch(Me){if(Me instanceof J.ZR)Bn.warn(Me.message);else{const nt=jt.create("idb-set",{originalErrorMessage:Me?.message});Bn.warn(nt.message)}}})).apply(this,arguments)}function wt(ue){return`${ue.name}!${ue.options.appId}`}class Cn{constructor(ee){this.container=ee,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new Qi(Me),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}triggerHeartbeat(){var ee=this;return(0,h.Z)(function*(){const nt=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=zt();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==qe&&!ee._heartbeatsCache.heartbeats.some(Rt=>Rt.date===qe))return ee._heartbeatsCache.heartbeats.push({date:qe,agent:nt}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Rt=>{const Zt=new Date(Rt.date).valueOf();return Date.now()-Zt<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,h.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const Me=zt(),{heartbeatsToSend:nt,unsentEntries:qe}=function qn(ue,ee=1024){const Me=[];let nt=ue.slice();for(const qe of ue){const Rt=Me.find(Zt=>Zt.agent===qe.agent);if(Rt){if(Rt.dates.push(qe.date),gs(Me)>ee){Rt.dates.pop();break}}else if(Me.push({agent:qe.agent,dates:[qe.date]}),gs(Me)>ee){Me.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:Me,unsentEntries:nt}}(ee._heartbeatsCache.heartbeats),Rt=(0,J.L)(JSON.stringify({version:2,heartbeats:nt}));return ee._heartbeatsCache.lastSentHeartbeatDate=Me,qe.length>0?(ee._heartbeatsCache.heartbeats=qe,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Rt})()}}function zt(){return(new Date).toISOString().substring(0,10)}class Qi{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,h.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function Ie(ue){return ie.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var Me=this;return(0,h.Z)(function*(){var nt;if(yield Me._canUseIndexedDBPromise){const Rt=yield Me.read();return Ke(Me.app,{lastSentHeartbeatDate:null!==(nt=ee.lastSentHeartbeatDate)&&void 0!==nt?nt:Rt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var Me=this;return(0,h.Z)(function*(){var nt;if(yield Me._canUseIndexedDBPromise){const Rt=yield Me.read();return Ke(Me.app,{lastSentHeartbeatDate:null!==(nt=ee.lastSentHeartbeatDate)&&void 0!==nt?nt:Rt.lastSentHeartbeatDate,heartbeats:[...Rt.heartbeats,...ee.heartbeats]})}})()}}function gs(ue){return(0,J.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function Fa(ue){Qt(new Q.wA("platform-logger",ee=>new Ut(ee),"PRIVATE")),Qt(new Q.wA("heartbeat",ee=>new Cn(ee),"PRIVATE")),Xn(Zr,"0.9.13",ue),Xn(Zr,"0.9.13","esm2017"),Xn("fire-js","")}("")},4537:(ot,De,P)=>{P.d(De,{H0:()=>Re,wA:()=>k});var h=P(5861),Q=P(9058);class k{constructor(L,j,Y){this.name=L,this.instanceFactory=j,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const J="[DEFAULT]";class ne{constructor(L,j){this.name=L,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const j=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(j)){const Y=new Q.BH;if(this.instancesDeferred.set(j,Y),this.isInitialized(j)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:j});Le&&Y.resolve(Le)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(L){var j;const Y=this.normalizeInstanceIdentifier(L?.identifier),Le=null!==(j=L?.optional)&&void 0!==j&&j;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Se){if(Le)return null;throw Se}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function pe(de){return"EAGER"===de.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[j,Y]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(j);try{const Se=this.getOrInitializeService({instanceIdentifier:Le});Y.resolve(Se)}catch{}}}}clearInstance(L=J){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,h.Z)(function*(){const j=Array.from(L.instances.values());yield Promise.all([...j.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...j.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=J){return this.instances.has(L)}getOptions(L=J){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:j={}}=L,Y=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Y,options:j});for(const[Se,Ze]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Se)&&Ze.resolve(Le);return Le}onInit(L,j){var Y;const Le=this.normalizeInstanceIdentifier(j),Se=null!==(Y=this.onInitCallbacks.get(Le))&&void 0!==Y?Y:new Set;Se.add(L),this.onInitCallbacks.set(Le,Se);const Ze=this.instances.get(Le);return Ze&&L(Ze,Le),()=>{Se.delete(L)}}invokeOnInitCallbacks(L,j){const Y=this.onInitCallbacks.get(j);if(Y)for(const Le of Y)try{Le(L,j)}catch{}}getOrInitializeService({instanceIdentifier:L,options:j={}}){let Y=this.instances.get(L);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(de=L,de===J?void 0:de),options:j}),this.instances.set(L,Y),this.instancesOptions.set(L,j),this.invokeOnInitCallbacks(Y,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,Y)}catch{}var de;return Y||null}normalizeInstanceIdentifier(L=J){return this.component?this.component.multipleInstances?L:J:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const j=this.getProvider(L.name);if(j.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);j.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const j=new ne(L,this);return this.providers.set(L,j),j}getProviders(){return Array.from(this.providers.values())}}},7879:(ot,De,P)=>{P.d(De,{Am:()=>de,Ub:()=>Re,Yd:()=>pe,in:()=>Q});const h=[];var Q=function(L){return L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L}(Q||{});const k={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},J=Q.INFO,ne={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},he=(L,j,...Y)=>{if(j<L.logLevel)return;const Le=(new Date).toISOString(),Se=ne[j];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Se](`[${Le}]  ${L.name}:`,...Y)};class pe{constructor(j){this.name=j,this._logLevel=J,this._logHandler=he,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Q))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?k[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...j),this._logHandler(this,Q.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...j),this._logHandler(this,Q.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...j),this._logHandler(this,Q.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...j),this._logHandler(this,Q.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...j),this._logHandler(this,Q.ERROR,...j)}}function Re(L){h.forEach(j=>{j.setLogLevel(L)})}function de(L,j){for(const Y of h){let Le=null;j&&j.level&&(Le=k[j.level]),Y.userLogHandler=null===L?null:(Se,Ze,...xe)=>{const ze=xe.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");Ze>=(Le??Se.logLevel)&&L({level:Q[Ze].toLowerCase(),message:ze,args:xe,type:Se.name})}}}},3182:(ot,De,P)=>{P.d(De,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=P(534);(0,h.registerVersion)("firebase","9.23.0","app")},7142:(ot,De,P)=>{P.d(De,{Z:()=>h.Z});var h=P(3106);h.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(ot,De,P)=>{P.r(De);var h=P(5861),Q=P(3106),k=P(9058),J=P(534),ne=P(7582),he=P(7879),pe=P(4537);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ze=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new he.Yd("@firebase/auth");function te(v,...f){ht.logLevel<=he.in.ERROR&&ht.error(`Auth (${J.SDK_VERSION}): ${v}`,...f)}function ve(v,...f){throw Ge(v,...f)}function X(v,...f){return Ge(v,...f)}function Ce(v,f,g){const w=Object.assign(Object.assign({},xe()),{[f]:g});return new k.LL("auth","Firebase",w).create(f,{appName:v.name})}function Pe(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ve(v,"argument-error"),Ce(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...f){if("string"!=typeof v){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return ze.create(v,...f)}function se(v,f,...g){if(!v)throw Ge(f,...g)}function yt(v){const f="INTERNAL ASSERTION FAILED: "+v;throw te(f),new Error(f)}function Ut(v,f){v||yt(f)}function lr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Zr(){return"http:"===hs()||"https:"===hs()}function hs(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class fs{constructor(f,g){this.shortDelay=f,this.longDelay=g,Ut(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Bn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zr()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oe(v,f){Ut(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class le{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new fs(3e4,6e4);function Ee(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function be(v,f,g,w){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,h.Z)(function*(v,f,g,w,T={}){return He(v,T,(0,h.Z)(function*(){let N={},B={};w&&("GET"===f?B=w:N={body:JSON.stringify(w)});const W=(0,k.xO)(Object.assign({key:v.config.apiKey},B)).slice(1),Ne=yield v._getAdditionalHeaders();return Ne["Content-Type"]="application/json",v.languageCode&&(Ne["X-Firebase-Locale"]=v.languageCode),le.fetch()(Nt(v,v.config.apiHost,g,W),Object.assign({method:f,headers:Ne,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function He(v,f,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(v,f,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},_e),f);try{const T=new gn(v),N=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const B=yield N.json();if("needConfirmation"in B)throw En(v,"account-exists-with-different-credential",B);if(N.ok&&!("errorMessage"in B))return B;{const W=N.ok?B.errorMessage:B.error.message,[Ne,Ue]=W.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw En(v,"credential-already-in-use",B);if("EMAIL_EXISTS"===Ne)throw En(v,"email-already-in-use",B);if("USER_DISABLED"===Ne)throw En(v,"user-disabled",B);const rt=w[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw Ce(v,rt,Ue);ve(v,rt)}}catch(T){if(T instanceof k.ZR)throw T;ve(v,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function ft(v,f,g,w){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(v,f,g,w,T={}){const N=yield be(v,f,g,w,T);return"mfaPendingCredential"in N&&ve(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Nt(v,f,g,w){const T=`${f}${g}?${w}`;return v.config.emulator?oe(v.config,T):`${v.config.apiScheme}://${T}`}class gn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(X(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(v,f,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const T=X(v,f,w);return T.customData._tokenResponse=g,T}function nn(){return(nn=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function di(){return(di=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function hi(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function lt(){return(lt=(0,h.Z)(function*(v,f=!1){const g=(0,k.m9)(v),w=yield g.getIdToken(f),T=At(w);se(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,B=N?.sign_in_provider;return{claims:T,token:w,authTime:hi(Bt(T.auth_time)),issuedAtTime:hi(Bt(T.iat)),expirationTime:hi(Bt(T.exp)),signInProvider:B||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Bt(v){return 1e3*Number(v)}function At(v){const[f,g,w]=v.split(".");if(void 0===f||void 0===g||void 0===w)return te("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,k.tV)(g);return T?JSON.parse(T):(te("Failed to decode base64 JWT payload"),null)}catch(T){return te("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Dn(v,f){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof k.ZR&&function Qt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class hr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class ka{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kt(v){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,h.Z)(function*(v){var f;const g=v.auth,w=yield v.getIdToken(),T=yield Dn(v,function io(v,f){return di.apply(this,arguments)}(g,{idToken:w}));se(T?.users.length,g,"internal-error");const N=T.users[0];v._notifyReloadListener(N);const B=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function oo(v){return v.map(f=>{var{providerId:g}=f,w=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(N.providerUserInfo):[],W=function so(v,f){return[...v.filter(w=>!f.some(T=>T.providerId===w.providerId)),...f]}(v.providerData,B),rt=!!v.isAnonymous&&!(v.email&&N.passwordHash||W?.length),it={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:W,metadata:new ka(N.createdAt,N.lastLoginAt),isAnonymous:rt};Object.assign(v,it)}),Kr.apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(v){const f=(0,k.m9)(v);yield Kt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(v,f){const g=yield He(v,{},(0,h.Z)(function*(){const w=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=v.config,B=Nt(v,T,"/v1/token",`key=${N}`),W=yield v._getAdditionalHeaders();return W["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(B,{method:"POST",headers:W,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class $i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){se(f.idToken,"internal-error"),se(typeof f.idToken<"u","internal-error"),se(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function un(v){const f=At(v);return se(f,"internal-error"),se(typeof f.exp<"u","internal-error"),se(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,h.Z)(function*(){return se(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:B}=yield function Ei(v,f){return js.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(T,N,Number(B))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:T,expirationTime:N}=g,B=new $i;return w&&(se("string"==typeof w,"internal-error",{appName:f}),B.refreshToken=w),T&&(se("string"==typeof T,"internal-error",{appName:f}),B.accessToken=T),N&&(se("number"==typeof N,"internal-error",{appName:f}),B.expirationTime=N),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new $i,this.toJSON())}_performRefresh(){return yt("not implemented")}}function Jn(v,f){se("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Xn{constructor(f){var{uid:g,auth:w,stsTokenManager:T}=f,N=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ka(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const w=yield Dn(g,g.stsTokenManager.getToken(g.auth,f));return se(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function Oa(v){return lt.apply(this,arguments)}(this,f)}reload(){return function jt(v){return ps.apply(this,arguments)}(this)}_assign(f){this!==f&&(se(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Xn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,h.Z)(function*(){let T=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield Kt(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield Dn(f,function dr(v,f){return nn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,T,N,B,W,Ne,Ue,rt;const it=null!==(w=g.displayName)&&void 0!==w?w:void 0,In=null!==(T=g.email)&&void 0!==T?T:void 0,Oi=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,ko=null!==(B=g.photoURL)&&void 0!==B?B:void 0,zm=null!==(W=g.tenantId)&&void 0!==W?W:void 0,ip=null!==(Ne=g._redirectEventId)&&void 0!==Ne?Ne:void 0,Fo=null!==(Ue=g.createdAt)&&void 0!==Ue?Ue:void 0,lu=null!==(rt=g.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:Lo,emailVerified:sp,isAnonymous:du,providerData:hu,stsTokenManager:a_}=g;se(Lo&&a_,f,"internal-error");const Ih=$i.fromJSON(this.name,a_);se("string"==typeof Lo,f,"internal-error"),Jn(it,f.name),Jn(In,f.name),se("boolean"==typeof sp,f,"internal-error"),se("boolean"==typeof du,f,"internal-error"),Jn(Oi,f.name),Jn(ko,f.name),Jn(zm,f.name),Jn(ip,f.name),Jn(Fo,f.name),Jn(lu,f.name);const op=new Xn({uid:Lo,auth:f,email:In,emailVerified:sp,displayName:it,isAnonymous:du,photoURL:ko,phoneNumber:Oi,tenantId:zm,stsTokenManager:Ih,createdAt:Fo,lastLoginAt:lu});return hu&&Array.isArray(hu)&&(op.providerData=hu.map(Gm=>Object.assign({},Gm))),ip&&(op._redirectEventId=ip),op}static _fromIdTokenResponse(f,g,w=!1){return(0,h.Z)(function*(){const T=new $i;T.updateFromServerResponse(g);const N=new Xn({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:w});return yield Kt(N),N})()}}const Yr=new Map;function jn(v){Ut(v instanceof Function,"Expected a class definition");let f=Yr.get(v);return f?(Ut(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Yr.set(v,f),f)}const Ci=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,w){var T=this;return(0,h.Z)(function*(){T.storage[g]=w})()}_get(g){var w=this;return(0,h.Z)(function*(){const T=w.storage[g];return void 0===T?null:T})()}_remove(g){var w=this;return(0,h.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function U(v,f,g){return`firebase:${v}:${f}:${g}`}class V{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:T,name:N}=this.auth;this.fullUserKey=U(this.userKey,T.apiKey,N),this.fullPersistenceKey=U("persistence",T.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Xn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,h.Z)(function*(){if(!g.length)return new V(jn(Ci),f,w);const T=(yield Promise.all(g.map(function(){var Ue=(0,h.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let N=T[0]||jn(Ci);const B=U(w,f.config.apiKey,f.name);let W=null;for(const Ue of g)try{const rt=yield Ue._get(B);if(rt){const it=Xn._fromJSON(f,rt);Ue!==N&&(W=it),N=Ue;break}}catch{}const Ne=T.filter(Ue=>Ue._shouldAllowMigration);return N._shouldAllowMigration&&Ne.length?(N=Ne[0],W&&(yield N._set(B,W.toJSON())),yield Promise.all(g.map(function(){var Ue=(0,h.Z)(function*(rt){if(rt!==N)try{yield rt._remove(B)}catch{}});return function(rt){return Ue.apply(this,arguments)}}())),new V(N,f,w)):new V(N,f,w)})()}}function G(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ct(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ie(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(er(f))return"Blackberry";if(Mt(f))return"Webos";if(ie(f))return"Safari";if((f.includes("chrome/")||Ke(f))&&!f.includes("edge/"))return"Chrome";if(wt(f))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Ie(v=(0,k.z$)()){return/firefox\//i.test(v)}function ie(v=(0,k.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ke(v=(0,k.z$)()){return/crios\//i.test(v)}function Ct(v=(0,k.z$)()){return/iemobile/i.test(v)}function wt(v=(0,k.z$)()){return/android/i.test(v)}function er(v=(0,k.z$)()){return/blackberry/i.test(v)}function Mt(v=(0,k.z$)()){return/webos/i.test(v)}function Cn(v=(0,k.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function gs(v=(0,k.z$)()){return Cn(v)||wt(v)||Mt(v)||er(v)||/windows phone/i.test(v)||Ct(v)}function ue(v,f=[]){let g;switch(v){case"Browser":g=G((0,k.z$)());break;case"Worker":g=`${G((0,k.z$)())}-${v}`;break;default:g=v}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${J.SDK_VERSION}/${w}`}function Me(){return(Me=(0,h.Z)(function*(v){return(yield be(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function nt(v,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(v,f){return be(v,"GET","/v2/recaptchaConfig",Ee(v,f))})).apply(this,arguments)}function Rt(v){return void 0!==v&&void 0!==v.getResponse}function Zt(v){return void 0!==v&&void 0!==v.enterprise}class $n{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function fr(v){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=f,w.onerror=T=>{const N=X("internal-error");N.customData=T,g(N)},w.type="text/javascript",w.charset="UTF-8",function Hn(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(w)})}function Ji(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Xc{constructor(f){this.type="recaptcha-enterprise",this.auth=zn(f)}verify(f="verify",g=!1){var w=this;return(0,h.Z)(function*(){function N(){return N=(0,h.Z)(function*(W){if(!g){if(null==W.tenantId&&null!=W._agentRecaptchaConfig)return W._agentRecaptchaConfig.siteKey;if(null!=W.tenantId&&void 0!==W._tenantRecaptchaConfigs[W.tenantId])return W._tenantRecaptchaConfigs[W.tenantId].siteKey}return new Promise(function(){var Ne=(0,h.Z)(function*(Ue,rt){nt(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(it=>{if(void 0!==it.recaptchaKey){const In=new $n(it);return null==W.tenantId?W._agentRecaptchaConfig=In:W._tenantRecaptchaConfigs[W.tenantId]=In,Ue(In.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(it=>{rt(it)})});return function(Ue,rt){return Ne.apply(this,arguments)}}())}),N.apply(this,arguments)}function B(W,Ne,Ue){const rt=window.grecaptcha;Zt(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(W,{action:f}).then(it=>{Ne(it)}).catch(()=>{Ne("NO_RECAPTCHA")})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((W,Ne)=>{(function T(W){return N.apply(this,arguments)})(w.auth).then(Ue=>{if(!g&&Zt(window.grecaptcha))B(Ue,W,Ne);else{if(typeof window>"u")return void Ne(new Error("RecaptchaVerifier is only supported in browser"));fr("https://www.google.com/recaptcha/enterprise.js?render="+Ue).then(()=>{B(Ue,W,Ne)}).catch(rt=>{Ne(rt)})}}).catch(Ue=>{Ne(Ue)})})})()}}function bi(v,f,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(v,f,g,w=!1){const T=new Xc(v);let N;try{N=yield T.verify(g)}catch{N=yield T.verify(g,!0)}const B=Object.assign({},f);return Object.assign(B,w?{captchaResp:N}:{captchaResponse:N}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class Qo{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const w=N=>new Promise((B,W)=>{try{B(f(N))}catch(Ne){W(Ne)}});w.onAbort=g,this.queue.push(w);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===f)return;const w=[];try{for(const T of g.queue)yield T(f),T.onAbort&&w.push(T.onAbort)}catch(T){w.reverse();for(const N of w)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class el{constructor(f,g,w,T){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=jn(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,N;if(!w._deleted&&(w.persistenceManager=yield V.create(w,f),!w._deleted)){if(null!==(T=w._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var w;const T=yield g.assertedPersistence.getCurrentUser();let N=T,B=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const W=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ne=N?._redirectEventId,Ue=yield g.tryRedirectSignIn(f);(!W||W===Ne)&&Ue?.user&&(N=Ue.user,B=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(B)try{yield g.beforeStateQueue.runMiddleware(N)}catch(W){N=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(W))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){try{yield Kt(f)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Wo(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const w=f?(0,k.m9)(f):null;return w&&se(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f,g=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return f&&se(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(jn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,h.Z)(function*(){const g=yield nt(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new $n(g);null==f.tenantId?f._agentRecaptchaConfig=w:f._tenantRecaptchaConfigs[f.tenantId]=w,w.emailPasswordEnabled&&new Xc(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,h.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&jn(f)||g._popupRedirectResolver;se(w,g,"argument-error"),g.redirectPersistenceManager=yield V.create(g,[jn(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var w,T;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,T){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),B=this._isInitialized?Promise.resolve():this._initializationPromise;return se(B,this,"internal-error"),B.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,w,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(w["X-Firebase-Client"]=T);const N=yield f._getAppCheckToken();return N&&(w["X-Firebase-AppCheck"]=N),w})()}_getAppCheckToken(){var f=this;return(0,h.Z)(function*(){var g;const w=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function at(v,...f){ht.logLevel<=he.in.WARN&&ht.warn(`Auth (${J.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function zn(v){return(0,k.m9)(v)}class $s{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Jo(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Ld(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class uo{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return yt("not implemented")}_getIdTokenResponse(f){return yt("not implemented")}_linkToIdToken(f,g){return yt("not implemented")}_getReauthenticationResolver(f){return yt("not implemented")}}function Af(v,f){return La.apply(this,arguments)}function La(){return(La=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:resetPassword",Ee(v,f))})).apply(this,arguments)}function Vd(v,f){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ou(){return(Ou=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:update",Ee(v,f))})).apply(this,arguments)}function Ir(v,f){return nl.apply(this,arguments)}function nl(){return(nl=(0,h.Z)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithPassword",Ee(v,f))})).apply(this,arguments)}function ku(v,f){return Va.apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:sendOobCode",Ee(v,f))})).apply(this,arguments)}function Fu(){return(Fu=(0,h.Z)(function*(v,f){return ku(v,f)})).apply(this,arguments)}function Xo(v,f){return rl.apply(this,arguments)}function rl(){return(rl=(0,h.Z)(function*(v,f){return ku(v,f)})).apply(this,arguments)}function Gt(v,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(v,f){return ku(v,f)})).apply(this,arguments)}function Hs(){return(Hs=(0,h.Z)(function*(v,f){return ku(v,f)})).apply(this,arguments)}function il(){return(il=(0,h.Z)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithEmailLink",Ee(v,f))})).apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithEmailLink",Ee(v,f))})).apply(this,arguments)}class Lu extends uo{constructor(f,g,w,T=null){super("password",w),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new Lu(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new Lu(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){var w;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=f._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const N=yield bi(f,T,"signInWithPassword");return Ir(f,N)}return Ir(f,T).catch(function(){var N=(0,h.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const W=yield bi(f,T,"signInWithPassword");return Ir(f,W)}return Promise.reject(B)});return function(B){return N.apply(this,arguments)}}());case"emailLink":return function Rr(v,f){return il.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ve(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return Vd(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Mf(v,f){return Ua.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:ve(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Si(v,f){return mn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithIdp",Ee(v,f))})).apply(this,arguments)}class vt extends uo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new vt(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ve("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T}=g,N=(0,ne._T)(g,["providerId","signInMethod"]);if(!w||!T)return null;const B=new vt(w,T);return B.idToken=N.idToken||void 0,B.accessToken=N.accessToken||void 0,B.secret=N.secret,B.nonce=N.nonce,B.pendingToken=N.pendingToken||null,B}_getIdTokenResponse(f){return Si(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Si(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Si(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function Pr(){return(Pr=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:sendVerificationCode",Ee(v,f))})).apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithPhoneNumber",Ee(v,f))})).apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(v,f){const g=yield ft(v,"POST","/v1/accounts:signInWithPhoneNumber",Ee(v,f));if(g.temporaryProof)throw En(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ms={USER_NOT_FOUND:"user-not-found"};function Et(){return(Et=(0,h.Z)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithPhoneNumber",Ee(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ms)})).apply(this,arguments)}class gr extends uo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new gr({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new gr({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function co(v,f){return pr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ba(v,f){return ln.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ea(v,f){return Et.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:N}=f;return w||g||T||N?new gr({verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:N}):null}}class vn{constructor(f){var g,w,T,N,B,W;const Ne=(0,k.zd)((0,k.pd)(f)),Ue=null!==(g=Ne.apiKey)&&void 0!==g?g:null,rt=null!==(w=Ne.oobCode)&&void 0!==w?w:null,it=function xf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ne.mode)&&void 0!==T?T:null);se(Ue&&rt&&it,"argument-error"),this.apiKey=Ue,this.operation=it,this.code=rt,this.continueUrl=null!==(N=Ne.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(B=Ne.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(W=Ne.tenantId)&&void 0!==W?W:null}static parseLink(f){const g=function ys(v){const f=(0,k.zd)((0,k.pd)(v)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,w=(0,k.zd)((0,k.pd)(v)).deep_link_id;return(w?(0,k.zd)((0,k.pd)(w)).link:null)||w||g||f||v}(f);try{return new vn(g)}catch{return null}}}let lo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return Lu._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const T=vn.parseLink(w);return se(T,"argument-error"),Lu._fromEmailAndCode(g,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class tr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class vs extends tr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class _s extends vs{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return se("providerId"in g&&"signInMethod"in g,"argument-error"),vt._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return se(f.idToken||f.accessToken,"argument-error"),vt._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return _s.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return _s.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:N,nonce:B,providerId:W}=f;if(!w&&!T&&!g&&!N||!W)return null;try{return new _s(W)._credential({idToken:g,accessToken:w,nonce:B,pendingToken:N})}catch{return null}}}let zs=(()=>{class v extends vs{constructor(){super("facebook.com")}static credential(g){return vt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ai=(()=>{class v extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return vt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:T}=g;if(!w&&!T)return null;try{return v.credential(w,T)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Vu=(()=>{class v extends vs{constructor(){super("github.com")}static credential(g){return vt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Lt extends uo{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Si(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Si(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Si(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T,pendingToken:N}=g;return w&&T&&N&&w===T?new Lt(w,N):null}static _create(f,g){return new Lt(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ta extends tr{constructor(f){se(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ta.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ta.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Lt.fromJSON(f);return se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return Lt._create(w,g)}catch{return null}}}let Uu=(()=>{class v extends vs{constructor(){super("twitter.com")}static credential(g,w){return vt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=g;if(!w||!T)return null;try{return v.credential(w,T)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function nr(v,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(v,f){return ft(v,"POST","/v1/accounts:signUp",Ee(v,f))})).apply(this,arguments)}class rr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,T=!1){return(0,h.Z)(function*(){const N=yield Xn._fromIdTokenResponse(f,w,T),B=Gs(w);return new rr({user:N,providerId:B,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const T=Gs(w);return new rr({user:f,providerId:T,_tokenResponse:w,operationType:g})})()}}function Gs(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Nf(){return(Nf=(0,h.Z)(function*(v){var f;const g=zn(v);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new rr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield nr(g,{returnSecureToken:!0}),T=yield rr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ir extends k.ZR{constructor(f,g,w,T){var N;super(g.code,g.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,ir.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,T){return new ir(f,g,w,T)}}function Er(v,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ir._fromErrorAndOperation(v,N,f,w):N})}function Bu(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function fi(){return fi=(0,h.Z)(function*(v,f){const g=(0,k.m9)(v);yield ra(!0,g,f);const{providerUserInfo:w}=yield function xr(v,f){return li.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=Bu(w||[]);return g.providerData=g.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),fi.apply(this,arguments)}function Jr(v,f){return na.apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(v,f,g=!1){const w=yield Dn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return rr._forOperation(v,"link",w)})).apply(this,arguments)}function ra(v,f,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,h.Z)(function*(v,f,g){yield Kt(f);const T=!1===v?"provider-already-linked":"no-such-provider";se(Bu(f.providerData).has(g)===v,f.auth,T)})).apply(this,arguments)}function _m(v,f){return ju.apply(this,arguments)}function ju(){return(ju=(0,h.Z)(function*(v,f,g=!1){const{auth:w}=v,T="reauthenticate";try{const N=yield Dn(v,Er(w,T,f,v),g);se(N.idToken,w,"internal-error");const B=At(N.idToken);se(B,w,"internal-error");const{sub:W}=B;return se(v.uid===W,w,"user-mismatch"),rr._forOperation(v,T,N)}catch(N){throw"auth/user-not-found"===N?.code&&ve(w,"user-mismatch"),N}})).apply(this,arguments)}function al(v,f){return jd.apply(this,arguments)}function jd(){return(jd=(0,h.Z)(function*(v,f,g=!1){const w="signIn",T=yield Er(v,w,f),N=yield rr._fromIdTokenResponse(v,w,T);return g||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ul(v,f){return $d.apply(this,arguments)}function $d(){return($d=(0,h.Z)(function*(v,f){return al(zn(v),f)})).apply(this,arguments)}function wm(v,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(v,f){const g=(0,k.m9)(v);return yield ra(!1,g,f.providerId),Jr(g,f)})).apply(this,arguments)}function Im(v,f){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,h.Z)(function*(v,f){return _m((0,k.m9)(v),f)})).apply(this,arguments)}function Pf(){return(Pf=(0,h.Z)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithCustomToken",Ee(v,f))})).apply(this,arguments)}function ws(){return ws=(0,h.Z)(function*(v,f){const g=zn(v),w=yield function Zv(v,f){return Pf.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),T=yield rr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(T.user),T}),ws.apply(this,arguments)}class cl{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ia._fromServerResponse(f,g):"totpInfo"in g?ll._fromServerResponse(f,g):ve(f,"internal-error")}}class ia extends cl{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ia(g)}}class ll extends cl{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new ll(g)}}function ja(v,f,g){var w;se((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),se(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(se(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(se(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function $a(){return $a=(0,h.Z)(function*(v,f,g){var w;const T=zn(v),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const B=yield bi(T,N,"getOobCode",!0);g&&ja(T,B,g),yield Xo(T,B)}else g&&ja(T,N,g),yield Xo(T,N).catch(function(){var B=(0,h.Z)(function*(W){if("auth/missing-recaptcha-token"!==W.code)return Promise.reject(W);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ne=yield bi(T,N,"getOobCode",!0);g&&ja(T,Ne,g),yield Xo(T,Ne)}});return function(W){return B.apply(this,arguments)}}())}),$a.apply(this,arguments)}function $u(){return($u=(0,h.Z)(function*(v,f,g){yield Af((0,k.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Or(){return Or=(0,h.Z)(function*(v,f){yield function Ti(v,f){return Ou.apply(this,arguments)}((0,k.m9)(v),{oobCode:f})}),Or.apply(this,arguments)}function Hu(v,f){return zu.apply(this,arguments)}function zu(){return(zu=(0,h.Z)(function*(v,f){const g=(0,k.m9)(v),w=yield Af(g,{oobCode:f}),T=w.requestType;switch(se(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(w.mfaInfo,g,"internal-error");default:se(w.email,g,"internal-error")}let N=null;return w.mfaInfo&&(N=cl._fromServerResponse(zn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function sa(){return(sa=(0,h.Z)(function*(v,f){const{data:g}=yield Hu((0,k.m9)(v),f);return g.email})).apply(this,arguments)}function Gu(){return Gu=(0,h.Z)(function*(v,f,g){var w;const T=zn(v),N={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Ue=yield bi(T,N,"signUpPassword");B=nr(T,Ue)}else B=nr(T,N).catch(function(){var Ue=(0,h.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const it=yield bi(T,N,"signUpPassword");return nr(T,it)}return Promise.reject(rt)});return function(rt){return Ue.apply(this,arguments)}}());const W=yield B.catch(Ue=>Promise.reject(Ue)),Ne=yield rr._fromIdTokenResponse(T,"signIn",W);return yield T._updateCurrentUser(Ne.user),Ne}),Gu.apply(this,arguments)}function Pn(){return Pn=(0,h.Z)(function*(v,f,g){var w;const T=zn(v),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(W,Ne){se(Ne.handleCodeInApp,T,"argument-error"),Ne&&ja(T,W,Ne)}if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const W=yield bi(T,N,"getOobCode",!0);B(W,g),yield Gt(T,W)}else B(N,g),yield Gt(T,N).catch(function(){var W=(0,h.Z)(function*(Ne){if("auth/missing-recaptcha-token"!==Ne.code)return Promise.reject(Ne);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield bi(T,N,"getOobCode",!0);B(Ue,g),yield Gt(T,Ue)}});return function(Ne){return W.apply(this,arguments)}}())}),Pn.apply(this,arguments)}function qu(){return(qu=(0,h.Z)(function*(v,f,g){const w=(0,k.m9)(v),T=lo.credentialWithLink(f,g||lr());return se(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ul(w,T)})).apply(this,arguments)}function Ha(){return(Ha=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:createAuthUri",Ee(v,f))})).apply(this,arguments)}function qd(){return qd=(0,h.Z)(function*(v,f){const w={identifier:f,continueUri:Zr()?lr():"http://localhost"},{signinMethods:T}=yield function Zu(v,f){return Ha.apply(this,arguments)}((0,k.m9)(v),w);return T||[]}),qd.apply(this,arguments)}function oa(){return oa=(0,h.Z)(function*(v,f){const g=(0,k.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&ja(g.auth,T,f);const{email:N}=yield function Bd(v,f){return Fu.apply(this,arguments)}(g.auth,T);N!==v.email&&(yield v.reload())}),oa.apply(this,arguments)}function qs(){return qs=(0,h.Z)(function*(v,f,g){const w=(0,k.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&ja(w.auth,N,g);const{email:B}=yield function Nr(v,f){return Hs.apply(this,arguments)}(w.auth,N);B!==v.email&&(yield v.reload())}),qs.apply(this,arguments)}function Lf(){return(Lf=(0,h.Z)(function*(v,f){return be(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ku(){return Ku=(0,h.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,k.m9)(v),N={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},B=yield Dn(w,function Ff(v,f){return Lf.apply(this,arguments)}(w.auth,N));w.displayName=B.displayName||null,w.photoURL=B.photoUrl||null;const W=w.providerData.find(({providerId:Ne})=>"password"===Ne);W&&(W.displayName=w.displayName,W.photoURL=w.photoURL),yield w._updateTokensIfNecessary(B)}),Ku.apply(this,arguments)}function Vf(v,f,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(v,f,g){const{auth:w}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const B=yield Dn(v,Vd(w,N));yield v._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class yo{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class za extends yo{constructor(f,g,w,T){super(f,g,w),this.username=T}}class fl extends yo{constructor(f,g){super(f,"facebook.com",g)}}class Yd extends za{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Yu extends yo{constructor(f,g){super(f,"google.com",g)}}class vo extends za{constructor(f,g,w){super(f,"twitter.com",g,w)}}function Uf(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Kd(v){var f,g;if(!v)return null;const{providerId:w}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const B=null===(g=null===(f=At(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(B)return new yo(N,"anonymous"!==B&&"custom"!==B?B:null)}if(!w)return null;switch(w){case"facebook.com":return new fl(N,T);case"github.com":return new Yd(N,T);case"google.com":return new Yu(N,T);case"twitter.com":return new vo(N,T,v.screenName||null);case"custom":case"anonymous":return new yo(N,null);default:return new yo(N,w,T)}}(g)}class On{constructor(f,g,w){this.type=f,this.credential=g,this.auth=w}static _fromIdtoken(f,g){return new On("enroll",f,g)}static _fromMfaPendingCredential(f){return new On("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return On._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return On._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ca{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=zn(f),T=g.customData._serverResponse,N=(T.mfaInfo||[]).map(W=>cl._fromServerResponse(w,W));se(T.mfaPendingCredential,w,"internal-error");const B=On._fromMfaPendingCredential(T.mfaPendingCredential);return new ca(B,N,function(){var W=(0,h.Z)(function*(Ne){const Ue=yield Ne._process(w,B);delete T.mfaInfo,delete T.mfaPendingCredential;const rt=Object.assign(Object.assign({},T),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(g.operationType){case"signIn":const it=yield rr._fromIdTokenResponse(w,g.operationType,rt);return yield w._updateCurrentUser(it.user),it;case"reauthenticate":return se(g.user,w,"internal-error"),rr._forOperation(g.user,g.operationType,rt);default:ve(w,"internal-error")}});return function(Ne){return W.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}class _o{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>cl._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new _o(f)}getSession(){var f=this;return(0,h.Z)(function*(){return On._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var w=this;return(0,h.Z)(function*(){const T=f,N=yield w.getSession(),B=yield Dn(w.user,T._process(w.user.auth,N,g));return yield w.user._updateTokensIfNecessary(B),w.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const w="string"==typeof f?f:f.uid,T=yield g.user.getIdToken();try{const N=yield Dn(g.user,function Xd(v,f){return be(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(v,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:B})=>B!==w),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const la=new WeakMap,It="__sak";class eh{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(It,"1"),this.storage.removeItem(It),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const wo=(()=>{class v extends eh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $f(){const v=(0,k.z$)();return ie(v)||Cn(v)}()&&function Fa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),N=this.localCache[w];T!==N&&g(w,N,T)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((W,Ne,Ue)=>{this.notifyListeners(W,Ue)});const T=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const W=this.storage.getItem(T);if(g.newValue!==W)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!w)return}const N=()=>{const W=this.storage.getItem(T);!w&&this.localCache[T]===W||this.notifyListeners(T,W)},B=this.storage.getItem(T);!function Qi(){return(0,k.w1)()&&10===document.documentMode}()||B===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const N of Array.from(T))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var T=()=>super._set,N=this;return(0,h.Z)(function*(){yield T().call(N,g,w),N.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,T=this;return(0,h.Z)(function*(){const N=yield w().call(T,g);return T.localCache[g]=JSON.stringify(N),N})()}_remove(g){var w=()=>super._remove,T=this;return(0,h.Z)(function*(){yield w().call(T,g),delete T.localCache[g]})()}}return v.type="LOCAL",v})(),Io=(()=>{class v extends eh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let yl=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(N=>N.isListeningto(g));if(w)return w;const T=new v(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,h.Z)(function*(){const T=g,{eventId:N,eventType:B,data:W}=T.data,Ne=w.handlersMap[B];if(!Ne?.size)return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:B});const Ue=Array.from(Ne).map(function(){var it=(0,h.Z)(function*(In){return In(T.origin,W)});return function(In){return it.apply(this,arguments)}}()),rt=yield function Em(v){return Promise.all(v.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(Ue);T.ports[0].postMessage({status:"done",eventId:N,eventType:B,response:rt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function vl(v="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return v+g}class Yv{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var T=this;return(0,h.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let B,W;return new Promise((Ne,Ue)=>{const rt=vl("",20);N.port1.start();const it=setTimeout(()=>{Ue(new Error("unsupported_event"))},w);W={messageChannel:N,onMessage(In){const Oi=In;if(Oi.data.eventId===rt)switch(Oi.data.status){case"ack":clearTimeout(it),B=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Ne(Oi.data.response);break;default:clearTimeout(it),clearTimeout(B),Ue(new Error("invalid_response"))}}},T.handlers.add(W),N.port1.addEventListener("message",W.onMessage),T.target.postMessage({eventType:f,eventId:rt,data:g},[N.port2])}).finally(()=>{W&&T.removeMessageHandler(W)})})()}}function fe(){return window}function ec(){return typeof fe().WorkerGlobalScope<"u"&&"function"==typeof fe().importScripts}function Zn(){return(Zn=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hi="firebaseLocalStorageDb",Eo="firebaseLocalStorage",_l="fbase_key";class wl{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Za(v,f){return v.transaction([Eo],f?"readwrite":"readonly").objectStore(Eo)}function zi(){const v=indexedDB.open(Hi,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Eo,{keyPath:_l})}catch(T){g(T)}}),v.addEventListener("success",(0,h.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Eo)?f(w):(w.close(),yield function Xr(){const v=indexedDB.deleteDatabase(Hi);return new wl(v).toPromise()}(),f(yield zi()))}))})}function Do(v,f,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,h.Z)(function*(v,f,g){const w=Za(v,!0).put({[_l]:f,value:g});return new wl(w).toPromise()})).apply(this,arguments)}function Il(){return(Il=(0,h.Z)(function*(v,f){const g=Za(v,!1).get(f),w=yield new wl(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function El(v,f){const g=Za(v,!0).delete(f);return new wl(g).toPromise()}const Co=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield zi()),g.db})()}_withRetries(g){var w=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const N=yield w._openDb();return yield g(N)}catch(N){if(T++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return ec()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=yl._getInstance(function bn(){return ec()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(T,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(T,N){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var w,T;if(g.activeServiceWorker=yield function nh(){return Zn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Yv(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(w=N[0])&&void 0!==w&&w.fulfilled&&null!==(T=N[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function qa(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield zi();return yield Do(g,It,"1"),yield El(g,It),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(N=>Do(N,g,w)),T.localCache[g]=w,T.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,h.Z)(function*(){const T=yield w._withRetries(N=>function or(v,f){return Il.apply(this,arguments)}(N,g));return w.localCache[g]=T,T})()}_remove(g){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(T=>El(T,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const w=yield g._withRetries(B=>{const W=Za(B,!1).getAll();return new wl(W).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:B,value:W}of w)N.add(B),JSON.stringify(g.localCache[B])!==JSON.stringify(W)&&(g.notifyListeners(B,W),T.push(B));for(const B of Object.keys(g.localCache))g.localCache[B]&&!N.has(B)&&(g.notifyListeners(B,null),T.push(B));return T})()}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const N of Array.from(T))N(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ha=1e12;class oh{constructor(f){this.auth=f,this.counter=ha,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Tl(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||ha;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ha))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var w;return null===(w=g._widgets.get(f||ha))||void 0===w||w.execute(),""})()}}class Tl{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;se(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gf(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tc=Ji("rcb"),qf=new fs(3e4,6e4);class ei{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=fe().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return se(function Ws(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Rt(fe().grecaptcha)?Promise.resolve(fe().grecaptcha):new Promise((w,T)=>{const N=fe().setTimeout(()=>{T(X(f,"network-request-failed"))},qf.get());fe()[tc]=()=>{fe().clearTimeout(N),delete fe()[tc];const W=fe().grecaptcha;if(!W||!Rt(W))return void T(X(f,"internal-error"));const Ne=W.render;W.render=(Ue,rt)=>{const it=Ne(Ue,rt);return this.counter++,it},this.hostLanguage=g,w(W)},fr(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:tc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),T(X(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=fe().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tn{load(f){return(0,h.Z)(function*(){return new oh(f)})()}clearedOneInstance(){}}const rc="recaptcha",Cm={theme:"light",type:"image"};class Sl{constructor(f,g=Object.assign({},Cm),w){this.parameters=g,this.type=rc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zn(w),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;se(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tn:new ei,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(N=>{const B=W=>{W&&(f.tokenChangeListeners.delete(B),N(W))};f.tokenChangeListeners.add(B),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=fe()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){se(Zr()&&!ec(),f.auth,"internal-error"),yield function bm(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function ee(v){return Me.apply(this,arguments)}(f.auth);se(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ti{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=gr._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ks(){return(Ks=(0,h.Z)(function*(v,f,g){const w=zn(v),T=yield Ys(w,f,(0,k.m9)(g));return new ti(T,N=>ul(w,N))})).apply(this,arguments)}function pt(){return(pt=(0,h.Z)(function*(v,f,g){const w=(0,k.m9)(v);yield ra(!1,w,"phone");const T=yield Ys(w.auth,f,(0,k.m9)(g));return new ti(T,N=>wm(w,N))})).apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(v,f,g){const w=(0,k.m9)(v),T=yield Ys(w.auth,f,(0,k.m9)(g));return new ti(T,N=>Im(w,N))})).apply(this,arguments)}function Ys(v,f,g){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,h.Z)(function*(v,f,g){var w;const T=yield g.verify();try{let N;if(se("string"==typeof T,v,"argument-error"),se(g.type===rc,v,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const B=N.session;if("phoneNumber"in N)return se("enroll"===B.type,v,"internal-error"),(yield function gl(v,f){return be(v,"POST","/v2/accounts/mfaEnrollment:start",Ee(v,f))}(v,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{se("signin"===B.type,v,"internal-error");const W=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return se(W,v,"missing-multi-factor-info"),(yield function ih(v,f){return be(v,"POST","/v2/accounts/mfaSignIn:start",Ee(v,f))}(v,{mfaPendingCredential:B.credential,mfaEnrollmentId:W,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function yn(v,f){return Pr.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:T});return B}}finally{g._reset()}}),Wa.apply(this,arguments)}function Ka(){return(Ka=(0,h.Z)(function*(v,f){yield Jr((0,k.m9)(v),f)})).apply(this,arguments)}let To=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=zn(g)}verifyPhoneNumber(g,w){return Ys(this.auth,g,(0,k.m9)(w))}static credential(g,w){return gr._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:T}=g;return w&&T?gr._fromTokenResponse(w,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Lr(v,f){return f?jn(f):(se(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class mt extends uo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Si(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Si(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Si(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function ah(v){return al(v.auth,new mt(v),v.bypassAuthState)}function Zf(v){const{auth:f,user:g}=v;return se(g,f,"internal-error"),_m(g,new mt(v),v.bypassAuthState)}function So(v){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(v){const{auth:f,user:g}=v;return se(g,f,"internal-error"),Jr(g,new mt(v),v.bypassAuthState)})).apply(this,arguments)}class sc{constructor(f,g,w,T,N=!1){this.auth=f,this.resolver=w,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(w,T){f.pendingPromise={resolve:w,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(w,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:N,tenantId:B,error:W,type:Ne}=f;if(W)return void g.reject(W);const Ue={auth:g.auth,requestUri:w,sessionId:T,tenantId:B||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ne)(Ue))}catch(rt){g.reject(rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ah;case"linkViaPopup":case"linkViaRedirect":return So;case"reauthViaPopup":case"reauthViaRedirect":return Zf;default:ve(this.auth,"internal-error")}}resolve(f){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sn=new fs(2e3,1e4);function Al(){return(Al=(0,h.Z)(function*(v,f,g){const w=zn(v);Pe(v,f,tr);const T=Lr(w,g);return new Es(w,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(v,f,g){const w=(0,k.m9)(v);Pe(w.auth,f,tr);const T=Lr(w.auth,g);return new Es(w.auth,"reauthViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(v,f,g){const w=(0,k.m9)(v);Pe(w.auth,f,tr);const T=Lr(w.auth,g);return new Es(w.auth,"linkViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}let Es=(()=>{class v extends sc{constructor(g,w,T,N,B){super(g,w,N,B),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const w=yield g.execute();return se(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,h.Z)(function*(){Ut(1===g.filter.length,"Popup operations only handle one event");const w=vl();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(X(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,T;this.pollId=null!==(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Sn.get())};g()}}return v.currentPopupAction=null,v})();const pa="pendingRedirect",Ya=new Map;class oc extends sc{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let w=Ya.get(g.auth._key());if(!w){try{const N=(yield function Qa(v,f){return ch.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(N)}catch(T){w=()=>Promise.reject(T)}Ya.set(g.auth._key(),w)}return g.bypassAuthState||Ya.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const T=yield w.auth._redirectUserForId(f.eventId);if(T)return w.user=T,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ch(){return(ch=(0,h.Z)(function*(v,f){const g=Mo(f),w=ac(v);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(g));return yield w._remove(g),T})).apply(this,arguments)}function Vr(v,f){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(v,f){return ac(v)._set(Mo(f),"true")})).apply(this,arguments)}function yr(v,f){Ya.set(v._key(),f)}function ac(v){return jn(v._redirectPersistence)}function Mo(v){return U(pa,v.config.apiKey,v.name)}function Ni(v,f,g){return function vr(v,f,g){return Cs.apply(this,arguments)}(v,f,g)}function Cs(){return(Cs=(0,h.Z)(function*(v,f,g){const w=zn(v);Pe(v,f,tr),yield w._initializationPromise;const T=Lr(w,g);return yield Vr(T,w),T._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Xa(v,f,g){return function Ri(v,f,g){return ar.apply(this,arguments)}(v,f,g)}function ar(){return(ar=(0,h.Z)(function*(v,f,g){const w=(0,k.m9)(v);Pe(w.auth,f,tr),yield w.auth._initializationPromise;const T=Lr(w.auth,g);yield Vr(T,w.auth);const N=yield lh(w);return T._openRedirect(w.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function uc(v,f,g){return function cc(v,f,g){return bs.apply(this,arguments)}(v,f,g)}function bs(){return(bs=(0,h.Z)(function*(v,f,g){const w=(0,k.m9)(v);Pe(w.auth,f,tr),yield w.auth._initializationPromise;const T=Lr(w.auth,g);yield ra(!1,w,f.providerId),yield Vr(T,w.auth);const N=yield lh(w);return T._openRedirect(w.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(v,f){return yield zn(v)._initializationPromise,kn(v,f,!1)})).apply(this,arguments)}function kn(v,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,h.Z)(function*(v,f,g=!1){const w=zn(v),T=Lr(w,f),B=yield new oc(w,T,g).execute();return B&&!g&&(delete B.user._redirectEventId,yield w._persistUserIfCurrent(B.user),yield w._setRedirectUser(null,f)),B})).apply(this,arguments)}function lh(v){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(v){const f=vl(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class tu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function lc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ma(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!ma(f)){const T=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(X(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ga(f))}saveEventToCache(f){this.cachedEventUids.add(ga(f)),this.lastProcessedEventTime=Date.now()}}function ga(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function ma({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function ya(v){return bt.apply(this,arguments)}function bt(){return(bt=(0,h.Z)(function*(v,f={}){return be(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Ss=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nu=/^https?/;function ru(){return(ru=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield ya(v);for(const g of f)try{if(Gi(g))return}catch{}ve(v,"unauthorized-domain")})).apply(this,arguments)}function Gi(v){const f=lr(),{protocol:g,hostname:w}=new URL(f);if(v.startsWith("chrome-extension://")){const B=new URL(v);return""===B.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&B.hostname===w}if(!nu.test(g))return!1;if(Ss.test(v))return w===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const ts=new fs(3e4,6e4);function xl(){const v=fe().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Cr=null;const No=new fs(5e3,15e3),Am="__/auth/iframe",Qv="emulator/auth/iframe",Xs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dh(v){const f=v.config;se(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?oe(f,Qv):`https://${v.config.authDomain}/${Am}`,w={apiKey:f.apiKey,appName:v.name,v:J.SDK_VERSION},T=Kf.get(v.config.apiHost);T&&(w.eid=T);const N=v._getFrameworks();return N.length&&(w.fw=N.join(",")),`${g}?${(0,k.xO)(w).slice(1)}`}function E(){return E=(0,h.Z)(function*(v){const f=yield function Sm(v){return Cr=Cr||function Wf(v){return new Promise((f,g)=>{var w,T,N;function B(){xl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{xl(),g(X(v,"network-request-failed"))},timeout:ts.get()})}if(null!==(T=null===(w=fe().gapi)||void 0===w?void 0:w.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(N=fe().gapi)||void 0===N||!N.load){const W=Ji("iframefcb");return fe()[W]=()=>{gapi.load?B():g(X(v,"network-request-failed"))},fr(`https://apis.google.com/js/api.js?onload=${W}`).catch(Ne=>g(Ne))}B()}}).catch(f=>{throw Cr=null,f})}(v),Cr}(v),g=fe().gapi;return se(g,v,"internal-error"),f.open({where:document.body,url:dh(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xs,dontclear:!0},w=>new Promise(function(){var T=(0,h.Z)(function*(N,B){yield w.restyle({setHideOnLeave:!1});const W=X(v,"network-request-failed"),Ne=fe().setTimeout(()=>{B(W)},No.get());function Ue(){fe().clearTimeout(Ne),N(w)}w.ping(Ue).then(Ue,()=>{B(W)})});return function(N,B){return T.apply(this,arguments)}}()))}),E.apply(this,arguments)}const b={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ce{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const st="__/auth/handler",Dt="emulator/auth/handler",Tt=encodeURIComponent("fac");function cn(v,f,g,w,T,N){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(v,f,g,w,T,N){se(v.config.authDomain,v,"auth-domain-config-required"),se(v.config.apiKey,v,"invalid-api-key");const B={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:J.SDK_VERSION,eventId:T};if(f instanceof tr){f.setDefaultLanguage(v.languageCode),B.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[rt,it]of Object.entries(N||{}))B[rt]=it}if(f instanceof vs){const rt=f.getScopes().filter(it=>""!==it);rt.length>0&&(B.scopes=rt.join(","))}v.tenantId&&(B.tid=v.tenantId);const W=B;for(const rt of Object.keys(W))void 0===W[rt]&&delete W[rt];const Ne=yield v._getAppCheckToken(),Ue=Ne?`#${Tt}=${encodeURIComponent(Ne)}`:"";return`${function As({config:v}){return v.emulator?oe(v,Dt):`https://${v.authDomain}/${st}`}(v)}?${(0,k.xO)(W).slice(1)}${Ue}`})).apply(this,arguments)}const va="webStorageSupport",pi=class Ms{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Io,this._completeRedirectFn=kn,this._overrideRedirectResult=yr}_openPopup(f,g,w,T){var N=this;return(0,h.Z)(function*(){var B;Ut(null===(B=N.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const W=yield cn(f,g,w,lr(),T);return function je(v,f,g,w=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),B=Math.max((window.screen.availWidth-w)/2,0).toString();let W="";const Ne=Object.assign(Object.assign({},b),{width:w.toString(),height:T.toString(),top:N,left:B}),Ue=(0,k.z$)().toLowerCase();g&&(W=Ke(Ue)?"_blank":g),Ie(Ue)&&(f=f||"http://localhost",Ne.scrollbars="yes");const rt=Object.entries(Ne).reduce((In,[Oi,ko])=>`${In}${Oi}=${ko},`,"");if(function qn(v=(0,k.z$)()){var f;return Cn(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ue)&&"_self"!==W)return function $e(v,f){const g=document.createElement("a");g.href=v,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",W),new ce(null);const it=window.open(f||"",W,rt);se(it,v,"popup-blocked");try{it.focus()}catch{}return new ce(it)}(f,W,vl())})()}_openRedirect(f,g,w,T){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(f),function Wt(v){fe().location.href=v}(yield cn(f,g,w,lr(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:N}=this.eventManagers[g];return T?Promise.resolve(T):(Ut(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const w=yield function Gn(v){return E.apply(this,arguments)}(f),T=new tu(f);return w.register("authEvent",N=>(se(N?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=w,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(va,{type:va},T=>{var N;const B=null===(N=T?.[0])||void 0===N?void 0:N[va];void 0!==B&&g(!!B),ve(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function xo(v){return ru.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return gs()||ie()||Cn()}};class xs{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return yt("unexpected MultiFactorSessionType")}}}class dc extends xs{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new dc(f)}_finalizeEnroll(f,g,w){return function Zs(v,f){return be(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(v,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Cl(v,f){return be(v,"POST","/v2/accounts/mfaSignIn:finalize",Ee(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jv=(()=>{class v{constructor(){}static assertion(g){return dc._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Mm="@firebase/auth";class Xv{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wa(){return window}(0,k.Pz)("authIdTokenMaxAge"),function e_(v){(0,J._registerComponent)(new pe.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),N=f.getProvider("app-check-internal"),{apiKey:B,authDomain:W}=w.options;se(B&&!B.includes(":"),"invalid-api-key",{appName:w.name});const Ne={apiKey:B,authDomain:W,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(v)},Ue=new el(w,T,N,Ne);return function Sf(v,f){const g=f?.persistence||[],w=(Array.isArray(g)?g:[g]).map(jn);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(w,f?.popupRedirectResolver)}(Ue,g),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new pe.wA("auth-internal",f=>{const g=zn(f.getProvider("auth").getImmediate());return new Xv(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(Mm,"0.23.2",function fh(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,J.registerVersion)(Mm,"0.23.2","esm2017")}("Browser");function ou(){return ou=(0,h.Z)(function*(v,f,g){var w;const{BuildInfo:T}=wa();Ut(f.sessionId,"AuthEvent did not contain a session ID");const N=yield function n_(v){return fc.apply(this,arguments)}(f.sessionId),B={};return Cn()?B.ibi=T.packageName:wt()?B.apn=T.packageName:ve(v,"operation-not-supported-in-this-environment"),T.displayName&&(B.appDisplayName=T.displayName),B.sessionId=N,cn(v,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,B)}),ou.apply(this,arguments)}function Ol(){return(Ol=(0,h.Z)(function*(v){const{BuildInfo:f}=wa(),g={};Cn()?g.iosBundleId=f.packageName:wt()?g.androidPackageName=f.packageName:ve(v,"operation-not-supported-in-this-environment"),yield ya(v,g)})).apply(this,arguments)}function hc(){return(hc=(0,h.Z)(function*(v,f,g){const{cordova:w}=wa();let T=()=>{};try{yield new Promise((N,B)=>{let W=null;function Ne(){var it;N();const In=null===(it=w.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof In&&In(),"function"==typeof g?.close&&g.close()}function Ue(){W||(W=window.setTimeout(()=>{B(X(v,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===document?.visibilityState&&Ue()}f.addPassiveListener(Ne),document.addEventListener("resume",Ue,!1),wt()&&document.addEventListener("visibilitychange",rt,!1),T=()=>{f.removePassiveListener(Ne),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",rt,!1),W&&window.clearTimeout(W)}})}finally{T()}})).apply(this,arguments)}function fc(){return(fc=(0,h.Z)(function*(v){const f=function Qf(v){if(Ut(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),g=new Uint8Array(f);for(let w=0;w<v.length;w++)g[w]=v.charCodeAt(w);return g}(v),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Rm extends tu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function km(v){return gh.apply(this,arguments)}function gh(){return(gh=(0,h.Z)(function*(v){const f=yield Ll()._get(Ro(v));return f&&(yield Ll()._remove(Ro(v))),f})).apply(this,arguments)}function ns(){const v=[];for(let g=0;g<20;g++){const w=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return v.join("")}function Ll(){return jn(wo)}function Ro(v){return U("authEvent",v.config.apiKey,v.name)}function pc(v){if(!v?.includes("?"))return{};const[f,...g]=v.split("?");return(0,k.zd)(g.join("?"))}const JI=class QI{constructor(){this._redirectPersistence=Io,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kn,this._overrideRedirectResult=yr}_initialize(f){var g=this;return(0,h.Z)(function*(){const w=f._key();let T=g.eventManagers.get(w);return T||(T=new Rm(f),g.eventManagers.set(w,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){ve(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,T){var N=this;return(0,h.Z)(function*(){!function t_(v){var f,g,w,T,N,B,W,Ne,Ue,rt;const it=wa();se("function"==typeof(null===(f=it?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(typeof(null===(g=it?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(N=null===(T=null===(w=it?.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===N?void 0:N.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Ne=null===(W=null===(B=it?.cordova)||void 0===B?void 0:B.plugins)||void 0===W?void 0:W.browsertab)||void 0===Ne?void 0:Ne.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(rt=null===(Ue=it?.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===rt?void 0:rt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield N._initialize(f);yield B.initialized(),B.resetRedirect(),function Ja(){Ya.clear()}(),yield N._originValidation(f);const W=function Pm(v,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:ns(),postBody:null,tenantId:v.tenantId,error:X(v,"no-auth-event")}}(f,w,T);yield function Om(v,f){return Ll()._set(Ro(v),f)}(f,W);const Ne=yield function Ia(v,f,g){return ou.apply(this,arguments)}(f,W,g),Ue=yield function Nm(v){const{cordova:f}=wa();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let T=null;w?f.plugins.browsertab.openUrl(v):T=f.InAppBrowser.open(v,function zt(v=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(T)})})}(Ne);return function YI(v,f,g){return hc.apply(this,arguments)}(f,B,Ue)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function xm(v){return Ol.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:T,BuildInfo:N}=wa(),B=setTimeout((0,h.Z)(function*(){yield km(f),g.onEvent(Fm())}),500),W=function(){var rt=(0,h.Z)(function*(it){clearTimeout(B);const In=yield km(f);let Oi=null;In&&it?.url&&(Oi=function Fl(v,f){var g,w;const T=function Vl(v){const f=pc(v),g=f.link?decodeURIComponent(f.link):void 0,w=pc(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return pc(T).link||T||w||g||v}(f);if(T.includes("/__/auth/callback")){const N=pc(T),B=N.firebaseError?function au(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,W=null===(w=null===(g=B?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ne=W?X(W):null;return Ne?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:T,postBody:null}}return null}(In,it.url)),g.onEvent(Oi||Fm())});return function(In){return rt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,W);const Ne=T,Ue=`${N.packageName.toLowerCase()}://`;wa().handleOpenURL=function(){var rt=(0,h.Z)(function*(it){if(it.toLowerCase().startsWith(Ue)&&W({url:it}),"function"==typeof Ne)try{Ne(it)}catch(In){console.error(In)}});return function(it){return rt.apply(this,arguments)}}()}};function Fm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:X("no-auth-event")}}function gc(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Jf(v=(0,k.z$)()){return!("file:"!==gc()&&"ionic:"!==gc()&&"capacitor:"!==gc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Um(){try{const v=self.localStorage,f=vl();if(v)return v.setItem(f,"1"),v.removeItem(f),!function ep(v=(0,k.z$)()){return function yc(){return(0,k.w1)()&&11===document?.documentMode}()||function vc(v=(0,k.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,k.hl)()}catch{return uu()&&(0,k.hl)()}return!1}function uu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vh(){return(function mc(){return"http:"===gc()||"https:"===gc()}()||(0,k.ru)()||Jf())&&!function Xf(){return(0,k.b$)()||(0,k.UG)()}()&&Um()&&!uu()}function Ul(){return Jf()&&typeof document<"u"}function Ns(){return(Ns=(0,h.Z)(function*(){return!!Ul()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const Pi={LOCAL:"local",NONE:"none",SESSION:"session"},cu=se,Bm="persistence";function Ur(v){return jl.apply(this,arguments)}function jl(){return(jl=(0,h.Z)(function*(v){yield v._initializationPromise;const f=Hl(),g=U(Bm,v.config.apiKey,v.name);f&&f.setItem(g,v._getPersistence())})).apply(this,arguments)}function Hl(){var v;try{return(null===(v=function _c(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const br=se;class qi{constructor(){this.browserResolver=jn(pi),this.cordovaResolver=jn(JI),this.underlyingResolver=null,this._redirectPersistence=Io,this._completeRedirectFn=kn,this._overrideRedirectResult=yr}_initialize(f){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,w,T)})()}_openRedirect(f,g,w,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,w,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ul()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return br(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Bl(){return Ns.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function zl(v){return v.unwrap()}function tp(v){return Gl(v)}function Gl(v){const{_tokenResponse:f}=v instanceof k.ZR?v.customData:v;if(!f)return null;if(!(v instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return To.credentialFromResult(v);const g=f.providerId;if(!g||g===de.PASSWORD)return null;let w;switch(g){case de.GOOGLE:w=Ai;break;case de.FACEBOOK:w=zs;break;case de.GITHUB:w=Vu;break;case de.TWITTER:w=Uu;break;default:const{oauthIdToken:T,oauthAccessToken:N,oauthTokenSecret:B,pendingToken:W,nonce:Ne}=f;return N||B||T||W?W?g.startsWith("saml.")?Lt._create(g,W):vt._fromParams({providerId:g,signInMethod:g,pendingToken:W,idToken:T,accessToken:N}):new _s(g).credential({idToken:T,accessToken:N,rawNonce:Ne}):null}return v instanceof k.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function ri(v,f){return f.catch(g=>{throw g instanceof k.ZR&&function jm(v,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new i_(v,function Jd(v,f){var g;const w=(0,k.m9)(v),T=f;return se(f.customData.operationType,w,"argument-error"),se(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ca._fromError(w,T)}(v,f));else if(w){const T=Gl(f),N=f;T&&(N.credential=T,N.tenantId=w.tenantId||void 0,N.email=w.email||void 0,N.phoneNumber=w.phoneNumber||void 0)}}(v,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:tp(g),additionalUserInfo:Uf(g),user:Po.getOrCreate(T)}})}function np(v,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(v,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>ri(v,g.confirm(w))}})).apply(this,arguments)}class i_{constructor(f,g){this.resolver=g,this.auth=function _h(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ri(zl(this.auth),this.resolver.resolveSignIn(f))}}class Po{constructor(f){this._delegate=f,this.multiFactor=function Xu(v){const f=(0,k.m9)(v);return la.has(f)||la.set(f,_o._fromUser(f)),la.get(f)}(f)}static getOrCreate(f){return Po.USER_MAP.has(f)||Po.USER_MAP.set(f,new Po(f)),Po.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,h.Z)(function*(){return ri(g.auth,wm(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,h.Z)(function*(){return np(w.auth,function rn(v,f,g){return pt.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,h.Z)(function*(){return ri(g.auth,function Tm(v,f,g){return es.apply(this,arguments)}(g._delegate,f,qi))})()}linkWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Ur(zn(g.auth)),uc(g._delegate,f,qi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,h.Z)(function*(){return ri(g.auth,Im(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return np(this.auth,function Dr(v,f,g){return bo.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ri(this.auth,function Ml(v,f,g){return Qs.apply(this,arguments)}(this._delegate,f,qi))}reauthenticateWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Ur(zn(g.auth)),Xa(g._delegate,f,qi)})()}sendEmailVerification(f){return function Wu(v,f){return oa.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,h.Z)(function*(){return yield function po(v,f){return fi.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Zd(v,f){return Vf((0,k.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function Wd(v,f){return Vf((0,k.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function ic(v,f){return Ka.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Kv(v,f){return Ku.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function hl(v,f,g){return qs.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Po.USER_MAP=new WeakMap;const Oo=se;let ql=(()=>{class v{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Oo(T,"invalid-api-key",{appName:g.name}),Oo(T,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?qi:void 0;this._delegate=w.initialize({options:{persistence:Zl(T,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Po.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Qr(v,f,g){const w=zn(v);se(w._canInitEmulator,w,"emulator-config-failed"),se(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const T=!!g?.disableWarnings,N=Jo(f),{host:B,port:W}=function tl(v){const f=Jo(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const N=T[1];return{host:N,port:Ld(w.substr(N.length+1))}}{const[N,B]=w.split(":");return{host:N,port:Ld(B)}}}(f);w.config.emulator={url:`${N}//${B}${null===W?"":`:${W}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:B,port:W,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function ym(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,w)}applyActionCode(g){return function zd(v,f){return Or.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Hu(this._delegate,g)}confirmPasswordReset(g,w){return function go(v,f,g){return $u.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var T=this;return(0,h.Z)(function*(){return ri(T._delegate,function Of(v,f,g){return Gu.apply(this,arguments)}(T._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Gd(v,f){return qd.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function kf(v,f){const g=vn.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){Oo(vh(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Ts(v,f){return Js.apply(this,arguments)}(g._delegate,qi);return w?ri(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function mh(v,f){zn(v)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,T){const{next:N,error:B,complete:W}=rp(g,w,T);return this._delegate.onAuthStateChanged(N,B,W)}onIdTokenChanged(g,w,T){const{next:N,error:B,complete:W}=rp(g,w,T);return this._delegate.onIdTokenChanged(N,B,W)}sendSignInLinkToEmail(g,w){return function mo(v,f,g){return Pn.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Wv(v,f,g){return $a.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,h.Z)(function*(){let T;switch(function wc(v,f){cu(Object.values(Pi).includes(f),v,"invalid-persistence-type"),(0,k.b$)()?cu(f!==Pi.SESSION,v,"unsupported-persistence-type"):(0,k.UG)()?cu(f===Pi.NONE,v,"unsupported-persistence-type"):uu()?cu(f===Pi.NONE||f===Pi.LOCAL&&(0,k.hl)(),v,"unsupported-persistence-type"):cu(f===Pi.NONE||Um(),v,"unsupported-persistence-type")}(w._delegate,g),g){case Pi.SESSION:T=Io;break;case Pi.LOCAL:T=(yield jn(Co)._isAvailable())?Co:wo;break;case Pi.NONE:T=Ci;break;default:return ve("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ri(this._delegate,function mr(v){return Nf.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ri(this._delegate,ul(this._delegate,g))}signInWithCustomToken(g){return ri(this._delegate,function Hd(v,f){return ws.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return ri(this._delegate,function Xi(v,f,g){return ul((0,k.m9)(v),lo.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return ri(this._delegate,function kr(v,f,g){return qu.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return np(this._delegate,function fa(v,f,g){return Ks.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,h.Z)(function*(){return Oo(vh(),w._delegate,"operation-not-supported-in-this-environment"),ri(w._delegate,function uh(v,f,g){return Al.apply(this,arguments)}(w._delegate,g,qi))})()}signInWithRedirect(g){var w=this;return(0,h.Z)(function*(){return Oo(vh(),w._delegate,"operation-not-supported-in-this-environment"),yield Ur(w._delegate),Ni(w._delegate,g,qi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function dl(v,f){return sa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Pi,v})();function rp(v,f,g){let w=v;"function"!=typeof v&&({next:w,error:f,complete:g}=v);const T=w;return{next:B=>T(B&&Po.getOrCreate(B)),error:f,complete:g}}function Zl(v,f){const g=function $l(v,f){const g=Hl();if(!g)return[];const w=U(Bm,v,f);switch(g.getItem(w)){case Pi.NONE:return[Ci];case Pi.LOCAL:return[Co,Io];case Pi.SESSION:return[Io];default:return[]}}(v,f);if(typeof self<"u"&&!g.includes(Co)&&g.push(Co),typeof window<"u")for(const w of[wo,Io])g.includes(w)||g.push(w);return g.includes(Ci)||g.push(Ci),g}class wh{constructor(){this.providerId="phone",this._delegate=new To(zl(Q.Z.auth()))}static credential(f,g){return To.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}wh.PHONE_SIGN_IN_METHOD=To.PHONE_SIGN_IN_METHOD,wh.PROVIDER_ID=To.PROVIDER_ID;const $m=se;class Hm{constructor(f,g,w=Q.Z.app()){var T;$m(null===(T=w.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Sl(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function o_(v){v.INTERNAL.registerComponent(new pe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new ql(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lo,FacebookAuthProvider:zs,GithubAuthProvider:Vu,GoogleAuthProvider:Ai,OAuthProvider:_s,SAMLAuthProvider:ta,PhoneAuthProvider:wh,PhoneMultiFactorGenerator:Jv,RecaptchaVerifier:Hm,TwitterAuthProvider:Uu,Auth:ql,AuthCredential:uo,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(Q.Z)},5861:(ot,De,P)=>{function h(k,J,ne,he,pe,Re,de){try{var L=k[Re](de),j=L.value}catch(Y){return void ne(Y)}L.done?J(j):Promise.resolve(j).then(he,pe)}function Q(k){return function(){var J=this,ne=arguments;return new Promise(function(he,pe){var Re=k.apply(J,ne);function de(j){h(Re,he,pe,de,L,"next",j)}function L(j){h(Re,he,pe,de,L,"throw",j)}de(void 0)})}}P.d(De,{Z:()=>Q})},7582:(ot,De,P)=>{function J(oe,le){var _e={};for(var we in oe)Object.prototype.hasOwnProperty.call(oe,we)&&le.indexOf(we)<0&&(_e[we]=oe[we]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(we=Object.getOwnPropertySymbols(oe);Ee<we.length;Ee++)le.indexOf(we[Ee])<0&&Object.prototype.propertyIsEnumerable.call(oe,we[Ee])&&(_e[we[Ee]]=oe[we[Ee]])}return _e}function Y(oe,le,_e,we){return new(_e||(_e=Promise))(function(be,Xe){function He(qt){try{ft(we.next(qt))}catch(Nt){Xe(Nt)}}function Nn(qt){try{ft(we.throw(qt))}catch(Nt){Xe(Nt)}}function ft(qt){qt.done?be(qt.value):function Ee(be){return be instanceof _e?be:new _e(function(Xe){Xe(be)})}(qt.value).then(He,Nn)}ft((we=we.apply(oe,le||[])).next())})}function te(oe){return this instanceof te?(this.v=oe,this):new te(oe)}function ve(oe,le,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,we=_e.apply(oe,le||[]),be=[];return Ee={},Xe("next"),Xe("throw"),Xe("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function Xe(gn){we[gn]&&(Ee[gn]=function(En){return new Promise(function(dr,nn){be.push([gn,En,dr,nn])>1||He(gn,En)})})}function He(gn,En){try{!function Nn(gn){gn.value instanceof te?Promise.resolve(gn.value.v).then(ft,qt):Nt(be[0][2],gn)}(we[gn](En))}catch(dr){Nt(be[0][3],dr)}}function ft(gn){He("next",gn)}function qt(gn){He("throw",gn)}function Nt(gn,En){gn(En),be.shift(),be.length&&He(be[0][0],be[0][1])}}function Ce(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,le=oe[Symbol.asyncIterator];return le?le.call(oe):(oe=function xe(oe){var le="function"==typeof Symbol&&Symbol.iterator,_e=le&&oe[le],we=0;if(_e)return _e.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&we>=oe.length&&(oe=void 0),{value:oe&&oe[we++],done:!oe}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),_e={},we("next"),we("throw"),we("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function we(be){_e[be]=oe[be]&&function(Xe){return new Promise(function(He,Nn){!function Ee(be,Xe,He,Nn){Promise.resolve(Nn).then(function(ft){be({value:ft,done:He})},Xe)}(He,Nn,(Xe=oe[be](Xe)).done,Xe.value)})}}}P.d(De,{FC:()=>ve,KL:()=>Ce,_T:()=>J,mG:()=>Y,qq:()=>te}),"function"==typeof SuppressedError&&SuppressedError}},ot=>{ot(ot.s=1635)}]);